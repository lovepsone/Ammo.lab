'use strict';var define,module,exports,CodeMirror,getComputedStyle,require,requirejs,esprima;(function(C,V){"object"===typeof exports&&"undefined"!==typeof module?module.exports=V():"function"===typeof define&&define.amd?define(V):C.CodeMirror=V()})(this,function(){function C(a){return RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function V(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function ba(a,b){return V(a).appendChild(b)}function q(a,b,f,e){a=document.createElement(a);f&&(a.className=f);e&&(a.style.cssText=e);if("string"==typeof b)a.appendChild(document.createTextNode(b));
else if(b)for(f=0;f<b.length;++f)a.appendChild(b[f]);return a}function L(a,b,f,e){a=q(a,b,f,e);a.setAttribute("role","presentation");return a}function ea(a,b){3==b.nodeType&&(b=b.parentNode);if(a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)}function ca(){var a;try{a=document.activeElement}catch(b){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function la(a,b){var f=a.className;C(b).test(f)||
(a.className+=(f?" ":"")+b)}function T(a,b){for(var f=a.split(" "),e=0;e<f.length;e++)f[e]&&!C(f[e]).test(b)&&(b+=" "+f[e]);return b}function w(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function E(a,b,f){b||(b={});for(var e in a)!a.hasOwnProperty(e)||!1===f&&b.hasOwnProperty(e)||(b[e]=a[e]);return b}function s(a,b,f,e,l){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));e=e||0;for(l=l||0;;){var c=a.indexOf("\t",e);if(0>c||c>=b)return l+(b-e);
l+=c-e;l+=f-l%f;e=c+1}}function m(a,b){for(var f=0;f<a.length;++f)if(a[f]==b)return f;return-1}function D(a,b,f){for(var e=0,l=0;;){var c=a.indexOf("\t",e);-1==c&&(c=a.length);var A=c-e;if(c==a.length||l+A>=b)return e+Math.min(A,b-l);l+=c-e;l+=f-l%f;e=c+1;if(l>=b)return e}}function Ua(a){for(;$c.length<=a;)$c.push(R($c)+" ");return $c[a]}function R(a){return a[a.length-1]}function K(a,b){for(var f=[],e=0;e<a.length;e++)f[e]=b(a[e],e);return f}function W(a,b,f){for(var e=0,l=f(b);e<a.length&&f(a[e])<=
l;)e++;a.splice(e,0,b)}function U(){}function va(a,b){var f;Object.create?f=Object.create(a):(U.prototype=a,f=new U);b&&E(b,f);return f}function X(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Xf.test(a))}function Da(a,b){return b?-1<b.source.indexOf("\\w")&&X(a)?!0:b.test(a):X(a)}function qb(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function zb(a){return 768<=a.charCodeAt(0)&&Yf.test(a)}function M(a,b,f){for(;(0>f?0<b:b<a.length)&&zb(a.charAt(b));)b+=
f;return b}function rb(a,b,f){for(;;){if(1>=Math.abs(b-f))return a(b)?b:f;var e=Math.floor((b+f)/2);a(e)?f=e:b=e}}function ib(a,b,f){this.input=f;this.scrollbarFiller=q("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=q("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=L("div",null,"CodeMirror-code");this.selectionDiv=q("div",null,null,"position: relative; z-index: 1");this.cursorDiv=
q("div",null,"CodeMirror-cursors");this.measure=q("div",null,"CodeMirror-measure");this.lineMeasure=q("div",null,"CodeMirror-measure");this.lineSpace=L("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var e=L("div",[this.lineSpace],"CodeMirror-lines");this.mover=q("div",[e],null,"position: relative");this.sizer=q("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=q("div",null,null,"position: absolute; height: "+
ie+"px; width: 1px;");this.gutters=q("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=q("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=q("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");aa&&8>pa&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Ha||Jb&&xc||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=
this.reportedViewTo=this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=
this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;f.init(this)}function I(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var f=a;!f.lines;)for(var e=0;;++e){var l=f.children[e],c=l.chunkSize();if(b<c){f=l;break}b-=c}return f.lines[b]}function Va(a,b,f){var e=[],l=b.line;a.iter(b.line,f.line+1,function(a){a=a.text;l==f.line&&(a=a.slice(0,f.ch));l==b.line&&(a=a.slice(b.ch));e.push(a);++l});return e}
function ja(a,b,f){var e=[];a.iter(b,f,function(a){e.push(a.text)});return e}function ga(a,b){var f=b-a.height;if(f)for(var e=a;e;e=e.parent)e.height+=f}function Y(a){if(null==a.parent)return null;var b=a.parent;a=m(b.lines,a);for(var f=b.parent;f;b=f,f=f.parent)for(var e=0;f.children[e]!=b;++e)a+=f.children[e].chunkSize();return a+b.first}function Wa(a,b){var f=a.first;a:do{for(var e=0;e<a.children.length;++e){var l=a.children[e],c=l.height;if(b<c){a=l;continue a}b-=c;f+=l.chunkSize()}return f}while(!a.lines);
for(e=0;e<a.lines.length;++e){l=a.lines[e].height;if(b<l)break;b-=l}return f+e}function sa(a,b){return b>=a.first&&b<a.first+a.size}function wa(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function x(a,b,f){void 0===f&&(f=null);if(!(this instanceof x))return new x(a,b,f);this.line=a;this.ch=b;this.sticky=f}function B(a,b){return a.line-b.line||a.ch-b.ch}function ta(a,b){return a.sticky==b.sticky&&0==B(a,b)}function N(a){return x(a.line,a.ch)}function Xa(a,b){return 0>B(a,b)?b:a}
function $(a,b){return 0>B(a,b)?a:b}function u(a,b){if(b.line<a.first)return x(a.first,0);var f=a.first+a.size-1;if(b.line>f)return x(f,I(a,f).text.length);var f=I(a,b.line).text.length,e=b.ch,f=null==e||e>f?x(b.line,f):0>e?x(b.line,0):b;return f}function qa(a,b){for(var f=[],e=0;e<b.length;e++)f[e]=u(a,b[e]);return f}function xa(a,b,f){this.marker=a;this.from=b;this.to=f}function ua(a,b){if(a)for(var f=0;f<a.length;++f){var e=a[f];if(e.marker==b)return e}}function sb(a,b){if(b.full)return null;var f=
sa(a,b.from.line)&&I(a,b.from.line).markedSpans,e=sa(a,b.to.line)&&I(a,b.to.line).markedSpans;if(!f&&!e)return null;var l=b.from.ch,c=b.to.ch,A=0==B(b.from,b.to),d;if(f)for(var t=0;t<f.length;++t){var g=f[t],h=g.marker;if(null==g.from||(h.inclusiveLeft?g.from<=l:g.from<l)||g.from==l&&!("bookmark"!=h.type||A&&g.marker.insertLeft)){var k=null==g.to||(h.inclusiveRight?g.to>=l:g.to>l);(d||(d=[])).push(new xa(h,g.from,k?null:g.to))}}var f=d,ia;if(e)for(d=0;d<e.length;++d)if(t=e[d],g=t.marker,null==t.to||
(g.inclusiveRight?t.to>=c:t.to>c)||t.from==c&&"bookmark"==g.type&&(!A||t.marker.insertLeft))h=null==t.from||(g.inclusiveLeft?t.from<=c:t.from<c),(ia||(ia=[])).push(new xa(g,h?null:t.from-c,null==t.to?null:t.to-c));e=ia;c=1==b.text.length;A=R(b.text).length+(c?l:0);if(f)for(ia=0;ia<f.length;++ia)if(d=f[ia],null==d.to)(t=ua(e,d.marker),t)?c&&(d.to=null==t.to?null:t.to+A):d.to=l;if(e)for(l=0;l<e.length;++l)ia=e[l],null!=ia.to&&(ia.to+=A),null==ia.from?ua(f,ia.marker)||(ia.from=A,c&&(f||(f=[])).push(ia)):
(ia.from+=A,c&&(f||(f=[])).push(ia));f&&(f=tb(f));e&&e!=f&&(e=tb(e));l=[f];if(!c){var c=b.text.length-2,Qb;if(0<c&&f)for(A=0;A<f.length;++A)null==f[A].to&&(Qb||(Qb=[])).push(new xa(f[A].marker,null,null));for(f=0;f<c;++f)l.push(Qb);l.push(e)}return l}function tb(a){for(var b=0;b<a.length;++b){var f=a[b];null!=f.from&&f.from==f.to&&!1!==f.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function Ab(a,b,f){var e=null;a.iter(b.line,f.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var f=
a.markedSpans[b].marker;!f.readOnly||e&&-1!=m(e,f)||(e||(e=[])).push(f)}});if(!e)return null;a=[{from:b,to:f}];for(b=0;b<e.length;++b){f=e[b];for(var l=f.find(0),c=0;c<a.length;++c){var A=a[c];if(!(0>B(A.to,l.from)||0<B(A.from,l.to))){var d=[c,1],t=B(A.from,l.from),g=B(A.to,l.to);(0>t||!f.inclusiveLeft&&!t)&&d.push({from:A.from,to:l.from});(0<g||!f.inclusiveRight&&!g)&&d.push({from:l.to,to:A.to});a.splice.apply(a,d);c+=d.length-3}}}return a}function ub(a){var b=a.markedSpans;if(b){for(var f=0;f<b.length;++f)b[f].marker.detachLine(a);
a.markedSpans=null}}function Bb(a,b){if(b){for(var f=0;f<b.length;++f)b[f].marker.attachLine(a);a.markedSpans=b}}function Oa(a,b){var f=a.lines.length-b.lines.length;if(0!=f)return f;var f=a.find(),e=b.find(),l=B(f.from,e.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return l?-l:(f=B(f.to,e.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?f:b.id-a.id}function eb(a,b){var f=Kb&&a.markedSpans,e;if(f)for(var l=void 0,c=0;c<f.length;++c)l=f[c],l.marker.collapsed&&null==(b?l.from:l.to)&&(!e||
0>Oa(e,l.marker))&&(e=l.marker);return e}function jb(a,b,f,e,l){a=I(a,b);if(a=Kb&&a.markedSpans)for(b=0;b<a.length;++b){var c=a[b];if(c.marker.collapsed){var A=c.marker.find(0),d=B(A.from,f)||(c.marker.inclusiveLeft?-1:0)-(l.inclusiveLeft?-1:0),t=B(A.to,e)||(c.marker.inclusiveRight?1:0)-(l.inclusiveRight?1:0);if(!(0<=d&&0>=t||0>=d&&0<=t)&&(0>=d&&(c.marker.inclusiveRight&&l.inclusiveLeft?0<=B(A.to,f):0<B(A.to,f))||0<=d&&(c.marker.inclusiveRight&&l.inclusiveLeft?0>=B(A.from,e):0>B(A.from,e))))return!0}}}
function Qa(a){for(var b;b=eb(a,!0);)a=b.find(-1,!0).line;return a}function Cb(a,b){var f=I(a,b),e=Qa(f);return f==e?b:Y(e)}function kb(a,b){if(b>a.lastLine())return b;var f=I(a,b),e;if(!fb(a,f))return b;for(;e=eb(f,!1);)f=e.find(1,!0).line;return Y(f)+1}function fb(a,b){var f=Kb&&b.markedSpans;if(f)for(var e=void 0,l=0;l<f.length;++l)if(e=f[l],e.marker.collapsed&&(null==e.from||!e.marker.widgetNode&&0==e.from&&e.marker.inclusiveLeft&&Rb(a,b,e)))return!0}function Rb(a,b,f){if(null==f.to)return b=
f.marker.find(1,!0),Rb(a,b.line,ua(b.line.markedSpans,f.marker));if(f.marker.inclusiveRight&&f.to==b.text.length)return!0;for(var e=void 0,l=0;l<b.markedSpans.length;++l)if(e=b.markedSpans[l],e.marker.collapsed&&!e.marker.widgetNode&&e.from==f.to&&(null==e.to||e.to!=f.from)&&(e.marker.inclusiveLeft||f.marker.inclusiveRight)&&Rb(a,b,e))return!0}function Aa(a){a=Qa(a);for(var b=0,f=a.parent,e=0;e<f.lines.length;++e){var l=f.lines[e];if(l==a)break;else b+=l.height}for(a=f.parent;a;f=a,a=f.parent)for(e=
0;e<a.children.length&&(l=a.children[e],l!=f);++e)b+=l.height;return b}function ya(a){if(0==a.height)return 0;for(var b=a.text.length,f,e=a;f=eb(e,!0);)f=f.find(0,!0),e=f.from.line,b+=f.from.ch-f.to.ch;for(e=a;f=eb(e,!1);)a=f.find(0,!0),b-=e.text.length-a.from.ch,e=a.to.line,b+=e.text.length-a.to.ch;return b}function da(a){var b=a.display;a=a.doc;b.maxLine=I(a,a.first);b.maxLineLength=ya(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var e=ya(a);e>b.maxLineLength&&(b.maxLineLength=e,b.maxLine=
a)})}function vb(a,b,f,e){if(!a)return e(b,f,"ltr");for(var l=!1,c=0;c<a.length;++c){var A=a[c];if(A.from<f&&A.to>b||b==f&&A.to==b)e(Math.max(A.from,b),Math.min(A.to,f),1==A.level?"rtl":"ltr"),l=!0}l||e(b,f,"ltr")}function Ya(a,b,f){var e;yc=null;for(var l=0;l<a.length;++l){var c=a[l];if(c.from<b&&c.to>b)return l;c.to==b&&(c.from!=c.to&&"before"==f?e=l:yc=l);c.from==b&&(c.from!=c.to&&"before"!=f?e=l:yc=l)}return null!=e?e:yc}function ab(a,b){var f=a.order;null==f&&(f=a.order=Zf(a.text,b));return f}
function gb(a,b,f){b=M(a.text,b+f,f);return 0>b||b>a.text.length?null:b}function bb(a,b,f){a=gb(a,b.ch,f);return null==a?null:new x(b.line,a,0>f?"after":"before")}function Ia(a,b,f,e,l){if(a&&(a=ab(f,b.doc.direction))){a=0>l?R(a):a[0];var c=0>l==(1==a.level)?"after":"before",A;if(0<a.level){var d=dc(b,f);A=0>l?f.text.length-1:0;var t=Db(b,d,A).top;A=rb(function(a){return Db(b,d,a).top==t},0>l==(1==a.level)?a.from:a.to-1,A);"before"==c&&(A=gb(f,A,1))}else A=0>l?a.to:a.from;return new x(e,A,c)}return new x(e,
0>l?f.text.length:0,0>l?"before":"after")}function Eb(a,b,f,e){var l=ab(b,a.doc.direction);if(!l)return bb(b,f,e);f.ch>=b.text.length?(f.ch=b.text.length,f.sticky="before"):0>=f.ch&&(f.ch=0,f.sticky="after");var c=Ya(l,f.ch,f.sticky),A=l[c];if("ltr"==a.doc.direction&&0==A.level%2&&(0<e?A.to>f.ch:A.from<f.ch))return bb(b,f,e);var d=function(a,e){return gb(b,a instanceof x?a.ch:a,e)},t,g=function(e){if(!a.options.lineWrapping)return{begin:0,end:b.text.length};var f=t=t||dc(a,b);e=Sb(a,b,Db(a,f,e),"line").top;
return je(a,b,f,e)},h=g("before"==f.sticky?d(f,-1):f.ch);if("rtl"==a.doc.direction||1==A.level){var k=1==A.level==0>e,ia=d(f,k?1:-1);if(null!=ia&&(k?ia<=A.to&&ia<=h.end:ia>=A.from&&ia>=h.begin))return new x(f.line,ia,k?"before":"after")}A=function(a,b,e){for(var c=function(a,b){return b?new x(f.line,d(a,1),"before"):new x(f.line,a,"after")};0<=a&&a<l.length;a+=b){var oa=l[a],A=0<b==(1!=oa.level),t=A?e.begin:d(e.end,-1);if(oa.from<=t&&t<oa.to)return c(t,A);t=A?oa.from:d(oa.to,-1);if(e.begin<=t&&t<
e.end)return c(t,A)}};if(c=A(c+e,e,h))return c;h=0<e?h.end:d(h.begin,-1);return null==h||0<e&&h==b.text.length||!(c=A(0<e?0:l.length-1,e,g(h)))?null:c}function Ba(a,b,f){if(a.removeEventListener)a.removeEventListener(b,f,!1);else if(a.detachEvent)a.detachEvent("on"+b,f);else{var e=(a=a._handlers)&&a[b];e&&(f=m(e,f),-1<f&&(a[b]=e.slice(0,f).concat(e.slice(f+1))))}}function ma(a,b){var f=a._handlers&&a._handlers[b]||ad;if(f.length)for(var e=Array.prototype.slice.call(arguments,2),l=0;l<f.length;++l)f[l].apply(null,
e)}function na(a,b,f){"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}});ma(a,f||b.type,a,b);return H(b)||b.codemirrorIgnore}function lb(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var f=0;f<b.length;++f)-1==m(a,b[f])&&a.push(b[f])}}function Ma(a,b){return 0<(a._handlers&&a._handlers[b]||ad).length}function y(a){a.prototype.on=function(a,f){O(this,a,f)};a.prototype.off=function(a,
f){Ba(this,a,f)}}function fa(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function hb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function H(a){return null!=a.defaultPrevented?a.defaultPrevented:!1==a.returnValue}function Na(a){fa(a);hb(a)}function Ja(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));mb&&a.ctrlKey&&1==b&&(b=3);return b}function F(a){if(null==zd){var b=q("span","\u200b");ba(a,q("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&
(zd=1>=b.offsetWidth&&2<b.offsetHeight&&!(aa&&8>pa))}a=zd?q("span","\u200b"):q("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function Fb(a,b){2<arguments.length&&(b.dependencies=Array.prototype.slice.call(arguments,2));Ad[a]=b}function z(a){if("string"==typeof a&&ec.hasOwnProperty(a))a=ec[a];else if(a&&"string"==typeof a.name&&ec.hasOwnProperty(a.name)){var b=ec[a.name];"string"==typeof b&&(b={name:b});a=va(b,a);a.name=b.name}else{if("string"==
typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return z("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return z("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function S(a,b){b=z(b);var f=Ad[b.name];if(!f)return S(a,"text/plain");f=f(a,b);if(fc.hasOwnProperty(b.name)){var e=fc[b.name],l;for(l in e)e.hasOwnProperty(l)&&(f.hasOwnProperty(l)&&(f["_"+l]=f[l]),f[l]=e[l])}f.name=b.name;b.helperType&&(f.helperType=b.helperType);if(b.modeProps)for(var c in b.modeProps)f[c]=
b.modeProps[c];return f}function k(a,b){var f=fc.hasOwnProperty(a)?fc[a]:fc[a]={};E(b,f)}function J(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var f={},e;for(e in b){var l=b[e];l instanceof Array&&(l=l.concat([]));f[e]=l}return f}function P(a,b){for(var f;a.innerMode;){f=a.innerMode(b);if(!f||f.mode==a)break;b=f.state;a=f.mode}return f||{mode:a,state:b}}function Z(a,b,f){return a.startState?a.startState(b,f):!0}function G(a,b,f,e){var l=[a.state.modeGen],c={};v(a,b.text,a.doc.mode,
f,function(a,b){return l.push(a,b)},c,e);f=function(e){var f=a.state.overlays[e],d=1,g=0;v(a,b.text,f.mode,!0,function(a,b){for(var e=d;g<a;){var c=l[d];c>a&&l.splice(d,1,a,l[d+1],c);d+=2;g=Math.min(a,c)}if(b)if(f.opaque)l.splice(e,d-e,a,"overlay "+b),d=e+2;else for(;e<d;e+=2)c=l[e+1],l[e+1]=(c?c+" ":"")+"overlay "+b},c)};for(e=0;e<a.state.overlays.length;++e)f(e);return{styles:l,classes:c.bgClass||c.textClass?c:null}}function n(a,b,f){if(!b.styles||b.styles[0]!=a.state.modeGen){var e=p(a,Y(b)),l=
G(a,b,b.text.length>a.options.maxHighlightLength?J(a.doc.mode,e):e);b.stateAfter=e;b.styles=l.styles;l.classes?b.styleClasses=l.classes:b.styleClasses&&(b.styleClasses=null);f===a.doc.frontier&&a.doc.frontier++}return b.styles}function p(a,b,f){var e=a.doc,l=a.display;if(!e.mode.startState)return!0;var oa=za(a,b,f),A=oa>e.first&&I(e,oa-1).stateAfter,A=A?J(e.mode,A):Z(e.mode);e.iter(oa,b,function(f){c(a,f.text,A);f.stateAfter=oa==b-1||0==oa%5||oa>=l.viewFrom&&oa<l.viewTo?J(e.mode,A):null;++oa});f&&
(e.frontier=oa);return A}function c(a,b,f,e){var l=a.doc.mode;a=new Ea(b,a.options.tabSize);a.start=a.pos=e||0;for(""==b&&d(l,f);!a.eol();)g(l,a,f),a.start=a.pos}function d(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var f=P(a,b);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function g(a,b,f,e){for(var l=0;10>l;l++){e&&(e[0]=P(a,f).mode);var c=a.token(b,f);if(b.pos>b.start)return c}throw Error("Mode "+a.name+" failed to advance stream.");}function h(a,b,f,e){var l=function(a){return{start:k.start,
end:k.pos,string:k.current(),type:d||null,state:a?J(c.mode,h):h}},c=a.doc,A=c.mode,d;b=u(c,b);var t=I(c,b.line),h=p(a,b.line,f),k=new Ea(t.text,a.options.tabSize),m;for(e&&(m=[]);(e||k.pos<b.ch)&&!k.eol();)k.start=k.pos,d=g(A,k,h),e&&m.push(l(!0));return e?m:l()}function r(a,b){if(a)for(;;){var f=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;a=a.slice(0,f.index)+a.slice(f.index+f[0].length);var e=f[1]?"bgClass":"textClass";null==b[e]?b[e]=f[2]:RegExp("(?:^|s)"+f[2]+"(?:$|s)").test(b[e])||
(b[e]+=" "+f[2])}return a}function v(a,b,f,e,l,oa,A){var Q=f.flattenSpans;null==Q&&(Q=a.options.flattenSpans);var t=0,h=null,k=new Ea(b,a.options.tabSize),m,ia=a.options.addModeClass&&[null];for(""==b&&r(d(f,e),oa);!k.eol();){k.pos>a.options.maxHighlightLength?(Q=!1,A&&c(a,b,e,k.pos),k.pos=b.length,m=null):m=r(g(f,k,e,ia),oa);if(ia){var Qb=ia[0].name;Qb&&(m="m-"+(m?Qb+" "+m:Qb))}if(!Q||h!=m){for(;t<k.start;)t=Math.min(k.start,t+5E3),l(t,h);h=m}k.start=k.pos}for(;t<k.pos;)a=Math.min(k.pos,t+5E3),l(a,
h),t=a}function za(a,b,f){for(var e,l,c=a.doc,A=f?-1:b-(a.doc.mode.innerMode?1E3:100);b>A;--b){if(b<=c.first)return c.first;var d=I(c,b-1);if(d.stateAfter&&(!f||b<=c.frontier))return b;d=s(d.text,null,a.options.tabSize);if(null==l||e>d)l=b-1,e=d}return l}function ke(a,b){if(!a||/^\s*$/.test(a))return null;var f=b.addModeClass?$f:ag;return f[a]||(f[a]=a.replace(/\S+/g,"cm-$&"))}function le(a,b){var f=L("span",null,null,Ha?"padding-right: .1px":null),f={pre:L("pre",[f],"CodeMirror-line"),content:f,
col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:(aa||Ha)&&a.getOption("lineWrapping")};b.measure={};for(var e=0;e<=(b.rest?b.rest.length:0);e++){var l=e?b.rest[e-1]:b.line,c=void 0;f.pos=0;f.addToken=bg;var A;A=a.display.measure;if(null!=Bd)A=Bd;else{var d=ba(A,document.createTextNode("A\u062eA")),t=gc(d,0,1).getBoundingClientRect(),d=gc(d,1,2).getBoundingClientRect();V(A);A=t&&t.left!=t.right?Bd=3>d.right-t.right:!1}A&&(c=ab(l,a.doc.direction))&&(f.addToken=cg(f.addToken,c));f.map=[];A=b!=a.display.externalMeasured&&
Y(l);a:{c=f;A=n(a,l,A);var g=l.markedSpans,t=l.text,d=0;if(g)for(var h=t.length,k=0,m=1,r="",v=void 0,s=void 0,p=0,u=void 0,x=void 0,E=void 0,z=void 0,y=void 0;;){if(p==k){for(var u=x=E=z=s="",y=null,p=Infinity,q=[],D=void 0,B=0;B<g.length;++B){var w=g[B],za=w.marker;"bookmark"==za.type&&w.from==k&&za.widgetNode?q.push(za):w.from<=k&&(null==w.to||w.to>k||za.collapsed&&w.to==k&&w.from==k)?(null!=w.to&&w.to!=k&&p>w.to&&(p=w.to,x=""),za.className&&(u+=" "+za.className),za.css&&(s=(s?s+";":"")+za.css),
za.startStyle&&w.from==k&&(E+=" "+za.startStyle),za.endStyle&&w.to==p&&(D||(D=[])).push(za.endStyle,w.to),za.title&&!z&&(z=za.title),za.collapsed&&(!y||0>Oa(y.marker,za))&&(y=w)):w.from>k&&p>w.from&&(p=w.from)}if(D)for(B=0;B<D.length;B+=2)D[B+1]==p&&(x+=" "+D[B]);if(!y||y.from==k)for(D=0;D<q.length;++D)me(c,0,q[D]);if(y&&(y.from||0)==k){me(c,(null==y.to?h+1:y.to)-k,y.marker,null==y.from);if(null==y.to)break a;y.to==k&&(y=!1)}}if(k>=h)break;for(q=Math.min(h,p);;){if(r){D=k+r.length;y||(B=D>q?r.slice(0,
q-k):r,c.addToken(c,B,v?v+u:u,E,k+B.length==p?x:"",z,s));if(D>=q){r=r.slice(q-k);k=q;break}k=D;E=""}r=t.slice(d,d=A[m++]);v=ke(A[m++],c.cm.options)}}else for(g=1;g<A.length;g+=2)c.addToken(c,t.slice(d,d=A[g]),ke(A[g+1],c.cm.options))}l.styleClasses&&(l.styleClasses.bgClass&&(f.bgClass=T(l.styleClasses.bgClass,f.bgClass||"")),l.styleClasses.textClass&&(f.textClass=T(l.styleClasses.textClass,f.textClass||"")));0==f.map.length&&f.map.push(0,0,f.content.appendChild(F(a.display.measure)));0==e?(b.measure.map=
f.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(f.map),(b.measure.caches||(b.measure.caches=[])).push({}))}Ha&&(e=f.content.lastChild,/\bcm-tab\b/.test(e.className)||e.querySelector&&e.querySelector(".cm-tab"))&&(f.content.className="cm-tab-wrap-hack");ma(a,"renderLine",a,b.line,f.pre);f.pre.className&&(f.textClass=T(f.pre.className,f.textClass||""));return f}function dg(a){var b=q("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);b.setAttribute("aria-label",
b.title);return b}function bg(a,b,f,e,l,c,A){if(b){var d;if(a.splitSpaces)if(d=a.trailingSpace,1<b.length&&!/  /.test(b))d=b;else{for(var t="",g=0;g<b.length;g++){var h=b.charAt(g);" "!=h||!d||g!=b.length-1&&32!=b.charCodeAt(g+1)||(h="\u00a0");t+=h;d=" "==h}d=t}else d=b;t=d;g=a.cm.state.specialChars;h=!1;if(g.test(b)){d=document.createDocumentFragment();for(var k=0;;){g.lastIndex=k;var m=g.exec(b),r=m?m.index-k:b.length-k;if(r){var v=document.createTextNode(t.slice(k,k+r));aa&&9>pa?d.appendChild(q("span",
[v])):d.appendChild(v);a.map.push(a.pos,a.pos+r,v);a.col+=r;a.pos+=r}if(!m)break;k+=r+1;r=void 0;"\t"==m[0]?(m=a.cm.options.tabSize,m-=a.col%m,r=d.appendChild(q("span",Ua(m),"cm-tab")),r.setAttribute("role","presentation"),r.setAttribute("cm-text","\t"),a.col+=m):("\r"==m[0]||"\n"==m[0]?(r=d.appendChild(q("span","\r"==m[0]?"\u240d":"\u2424","cm-invalidchar")),r.setAttribute("cm-text",m[0])):(r=a.cm.options.specialCharPlaceholder(m[0]),r.setAttribute("cm-text",m[0]),aa&&9>pa?d.appendChild(q("span",
[r])):d.appendChild(r)),a.col+=1);a.map.push(a.pos,a.pos+1,r);a.pos++}}else a.col+=b.length,d=document.createTextNode(t),a.map.push(a.pos,a.pos+b.length,d),aa&&9>pa&&(h=!0),a.pos+=b.length;a.trailingSpace=32==t.charCodeAt(b.length-1);if(f||e||l||h||A)return b=f||"",e&&(b+=e),l&&(b+=l),e=q("span",[d],b,A),c&&(e.title=c),a.content.appendChild(e);a.content.appendChild(d)}}function cg(a,b){return function(f,e,l,c,d,Q,t){l=l?l+" cm-force-border":"cm-force-border";for(var g=f.pos,h=g+e.length;;){for(var k=
void 0,m=0;m<b.length&&!(k=b[m],k.to>g&&k.from<=g);m++);if(k.to>=h)return a(f,e,l,c,d,Q,t);a(f,e.slice(0,k.to-g),l,c,null,Q,t);c=null;e=e.slice(k.to-g);g=k.to}}}function me(a,b,f,e){var l=!e&&f.widgetNode;l&&a.map.push(a.pos,a.pos+b,l);!e&&a.cm.display.input.needsContentAttribute&&(l||(l=a.content.appendChild(document.createElement("span"))),l.setAttribute("cm-marker",f.id));l&&(a.cm.display.input.setUneditable(l),a.content.appendChild(l));a.pos+=b;a.trailingSpace=!1}function ne(a,b,f){for(var e=
this.line=b,l;e=eb(e,!1);)e=e.find(1,!0).line,(l||(l=[])).push(e);this.size=(this.rest=l)?Y(R(this.rest))-f+1:1;this.node=this.text=null;this.hidden=fb(a,b)}function bd(a,b,f){var e=[],l;for(l=b;l<f;)b=new ne(a.doc,I(a.doc,l),l),l+=b.size,e.push(b);return e}function eg(a,b){var f=a.ownsGroup;if(f)try{var e=f.delayedCallbacks,l=0;do{for(;l<e.length;l++)e[l].call(null);for(var c=0;c<f.ops.length;c++){var d=f.ops[c];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,
d.cm)}}while(l<e.length)}finally{hc=null,b(f)}}function Ka(a,b){var f=a._handlers&&a._handlers[b]||ad;if(f.length){var e=Array.prototype.slice.call(arguments,2),l;hc?l=hc.delayedCallbacks:zc?l=zc:(l=zc=[],setTimeout(fg,0));for(var c=function(a){l.push(function(){return f[a].apply(null,e)})},d=0;d<f.length;++d)c(d)}}function fg(){var a=zc;zc=null;for(var b=0;b<a.length;++b)a[b]()}function oe(a,b,f,e){for(var l=0;l<b.changes.length;l++){var c=b.changes[l];if("text"==c){var c=a,d=b,Q=d.text.className,
t=pe(c,d);d.text==d.node&&(d.node=t.pre);d.text.parentNode.replaceChild(t.pre,d.text);d.text=t.pre;t.bgClass!=d.bgClass||t.textClass!=d.textClass?(d.bgClass=t.bgClass,d.textClass=t.textClass,Cd(c,d)):Q&&(d.text.className=Q)}else if("gutter"==c)qe(a,b,f,e);else if("class"==c)Cd(a,b);else if("widget"==c){c=a;d=b;Q=e;d.alignable&&(d.alignable=null);for(var t=d.node.firstChild,g=void 0;t;t=g)g=t.nextSibling,"CodeMirror-linewidget"==t.className&&d.node.removeChild(t);re(c,d,Q)}}b.changes=null}function Ac(a){a.node==
a.text&&(a.node=q("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),aa&&8>pa&&(a.node.style.zIndex=2));return a.node}function pe(a,b){var f=a.display.externalMeasured;return f&&f.line==b.line?(a.display.externalMeasured=null,b.measure=f.measure,f.built):le(a,b)}function Cd(a,b){var f=b.bgClass?b.bgClass+" "+(b.line.bgClass||""):b.line.bgClass;f&&(f+=" CodeMirror-linebackground");if(b.background)f?b.background.className=
f:(b.background.parentNode.removeChild(b.background),b.background=null);else if(f){var e=Ac(b);b.background=e.insertBefore(q("div",null,f),e.firstChild);a.display.input.setUneditable(b.background)}b.line.wrapClass?Ac(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className="");b.text.className=(b.textClass?b.textClass+" "+(b.line.textClass||""):b.line.textClass)||""}function qe(a,b,f,e){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);b.gutterBackground&&(b.node.removeChild(b.gutterBackground),
b.gutterBackground=null);if(b.line.gutterClass){var l=Ac(b);b.gutterBackground=q("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px");a.display.input.setUneditable(b.gutterBackground);l.insertBefore(b.gutterBackground,b.text)}l=b.line.gutterMarkers;if(a.options.lineNumbers||l){var c=Ac(b),d=b.gutter=q("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+
"px");a.display.input.setUneditable(d);c.insertBefore(d,b.text);b.line.gutterClass&&(d.className+=" "+b.line.gutterClass);!a.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(b.lineNumber=d.appendChild(q("div",wa(a.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(l)for(b=0;b<a.options.gutters.length;++b)f=a.options.gutters[b],(c=l.hasOwnProperty(f)&&l[f])&&d.appendChild(q("div",[c],"CodeMirror-gutter-elt",
"left: "+e.gutterLeft[f]+"px; width: "+e.gutterWidth[f]+"px"))}}function gg(a,b,f,e){var l=pe(a,b);b.text=b.node=l.pre;l.bgClass&&(b.bgClass=l.bgClass);l.textClass&&(b.textClass=l.textClass);Cd(a,b);qe(a,b,f,e);re(a,b,e);return b.node}function re(a,b,f){se(a,b.line,b,f,!0);if(b.rest)for(var e=0;e<b.rest.length;e++)se(a,b.rest[e],b,f,!1)}function se(a,b,f,e,l){if(b.widgets){var c=Ac(f),d=0;for(b=b.widgets;d<b.length;++d){var Q=b[d],t=q("div",[Q.node],"CodeMirror-linewidget");Q.handleMouseEvents||t.setAttribute("cm-ignore-events",
"true");var g=Q,h=t,k=e;if(g.noHScroll){(f.alignable||(f.alignable=[])).push(h);var m=k.wrapperWidth;h.style.left=k.fixedPos+"px";g.coverGutter||(m-=k.gutterTotalWidth,h.style.paddingLeft=k.gutterTotalWidth+"px");h.style.width=m+"px"}g.coverGutter&&(h.style.zIndex=5,h.style.position="relative",g.noHScroll||(h.style.marginLeft=-k.gutterTotalWidth+"px"));a.display.input.setUneditable(t);l&&Q.above?c.insertBefore(t,f.gutter||f.text):c.appendChild(t);Ka(Q,"redraw")}}}function Bc(a){if(null!=a.height)return a.height;
var b=a.doc.cm;if(!b)return 0;if(!ea(document.body,a.node)){var f="position: relative;";a.coverGutter&&(f+="margin-left: -"+b.display.gutters.offsetWidth+"px;");a.noHScroll&&(f+="width: "+b.display.wrapper.clientWidth+"px;");ba(b.display.measure,q("div",[a.node],null,f))}return a.height=a.node.parentNode.offsetHeight}function Gb(a,b){for(var f=b.target||b.srcElement;f!=a.wrapper;f=f.parentNode)if(!f||1==f.nodeType&&"true"==f.getAttribute("cm-ignore-events")||f.parentNode==a.sizer&&f!=a.mover)return!0}
function Dd(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function te(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=ba(a.measure,q("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function wb(a){return ie-a.display.nativeBarWidth}function Tb(a){return a.display.scroller.clientWidth-wb(a)-a.display.barWidth}function Ed(a){return a.display.scroller.clientHeight-
wb(a)-a.display.barHeight}function ue(a,b,f){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var e=0;e<a.rest.length;e++)if(a.rest[e]==b)return{map:a.measure.maps[e],cache:a.measure.caches[e]};for(b=0;b<a.rest.length;b++)if(Y(a.rest[b])>f)return{map:a.measure.maps[b],cache:a.measure.caches[b],before:!0}}function Fd(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[Ub(a,b)];var f=a.display.externalMeasured;if(f&&b>=f.lineN&&b<f.lineN+f.size)return f}function dc(a,
b){var f=Y(b),e=Fd(a,f);e&&!e.text?e=null:e&&e.changes&&(oe(a,e,f,Gd(a)),a.curOp.forceUpdate=!0);if(!e){var l;l=Qa(b);e=Y(l);l=a.display.externalMeasured=new ne(a.doc,l,e);l.lineN=e;e=l.built=le(a,l);l.text=e.pre;ba(a.display.lineMeasure,e.pre);e=l}f=ue(e,b,f);return{line:b,view:e,rect:null,map:f.map,cache:f.cache,before:f.before,hasHeights:!1}}function Db(a,b,f,e,l){b.before&&(f=-1);var c=f+(e||"");if(b.cache.hasOwnProperty(c))a=b.cache[c];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());
if(!b.hasHeights){var d=b.view,Q=b.rect,g=a.options.lineWrapping,h=g&&Tb(a);if(!d.measure.heights||g&&d.measure.width!=h){var k=d.measure.heights=[];if(g)for(d.measure.width=h,d=d.text.firstChild.getClientRects(),g=0;g<d.length-1;g++){var h=d[g],m=d[g+1];2<Math.abs(h.bottom-m.bottom)&&k.push((h.bottom+m.top)/2-Q.top)}k.push(Q.bottom-Q.top)}b.hasHeights=!0}k=e;d=ve(b.map,f,k);e=d.node;Q=d.start;g=d.end;f=d.collapse;var r;if(3==e.nodeType){for(var v=0;4>v;v++){for(;Q&&zb(b.line.text.charAt(d.coverStart+
Q));)--Q;for(;d.coverStart+g<d.coverEnd&&zb(b.line.text.charAt(d.coverStart+g));)++g;if(aa&&9>pa&&0==Q&&g==d.coverEnd-d.coverStart)r=e.parentNode.getBoundingClientRect();else{r=gc(e,Q,g).getClientRects();g=we;if("left"==k)for(h=0;h<r.length&&(g=r[h]).left==g.right;h++);else for(h=r.length-1;0<=h&&(g=r[h]).left==g.right;h--);r=g}if(r.left||r.right||0==Q)break;g=Q;Q-=1;f="right"}if(aa&&11>pa){if(v=window.screen)if(v=null!=screen.logicalXDPI)if(v=screen.logicalXDPI!=screen.deviceXDPI)null!=Hd?v=Hd:(k=
ba(a.display.measure,q("span","x")),v=k.getBoundingClientRect(),k=gc(k,0,1).getBoundingClientRect(),v=Hd=1<Math.abs(v.left-k.left));v&&(v=screen.logicalXDPI/screen.deviceXDPI,k=screen.logicalYDPI/screen.deviceYDPI,r={left:r.left*v,right:r.right*v,top:r.top*k,bottom:r.bottom*k})}}else 0<Q&&(f=k="right"),r=a.options.lineWrapping&&1<(v=e.getClientRects()).length?v["right"==k?v.length-1:0]:e.getBoundingClientRect();aa&&9>pa&&!(Q||r&&(r.left||r.right))&&(r=(r=e.parentNode.getClientRects()[0])?{left:r.left,
right:r.left+Cc(a.display),top:r.top,bottom:r.bottom}:we);e=r.top-b.rect.top;Q=r.bottom-b.rect.top;v=(e+Q)/2;k=b.view.measure.heights;for(d=0;d<k.length-1&&!(v<k[d]);d++);f={left:("right"==f?r.right:r.left)-b.rect.left,right:("left"==f?r.left:r.right)-b.rect.left,top:d?k[d-1]:0,bottom:k[d]};r.left||r.right||(f.bogus=!0);a.options.singleCursorHeightPerLine||(f.rtop=e,f.rbottom=Q);a=f;a.bogus||(b.cache[c]=a)}return{left:a.left,right:a.right,top:l?a.rtop:a.top,bottom:l?a.rbottom:a.bottom}}function ve(a,
b,f){for(var e,l,c,d,g,t,h=0;h<a.length;h+=3){g=a[h];t=a[h+1];if(b<g)l=0,c=1,d="left";else if(b<t)l=b-g,c=l+1;else if(h==a.length-3||b==t&&a[h+3]>b)c=t-g,l=c-1,b>=t&&(d="right");if(null!=l){e=a[h+2];g==t&&f==(e.insertLeft?"left":"right")&&(d=f);if("left"==f&&0==l)for(;h&&a[h-2]==a[h-3]&&a[h-1].insertLeft;)e=a[(h-=3)+2],d="left";if("right"==f&&l==t-g)for(;h<a.length-3&&a[h+3]==a[h+4]&&!a[h+5].insertLeft;)e=a[(h+=3)+2],d="right";break}}return{node:e,start:l,end:c,collapse:d,coverStart:g,coverEnd:t}}
function xe(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function ye(a){a.display.externalMeasure=null;V(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)xe(a.display.view[b])}function Dc(a){ye(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function ze(){return cd&&dd?-(document.body.getBoundingClientRect().left-
parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ae(){return cd&&dd?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Sb(a,b,f,e,l){if(!l&&b.widgets)for(l=0;l<b.widgets.length;++l)if(b.widgets[l].above){var c=Bc(b.widgets[l]);f.top+=c;f.bottom+=c}if("line"==e)return f;e||(e="local");b=
Aa(b);b="local"==e?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==e||"window"==e)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==e?0:Ae()),e=a.left+("window"==e?0:ze()),f.left+=e,f.right+=e;f.top+=b;f.bottom+=b;return f}function Be(a,b,f){if("div"==f)return b;var e=b.left;b=b.top;"page"==f?(e-=ze(),b-=Ae()):"local"!=f&&f||(f=a.display.sizer.getBoundingClientRect(),e+=f.left,b+=f.top);a=a.display.lineSpace.getBoundingClientRect();return{left:e-a.left,top:b-a.top}}
function ed(a,b,f,e,l){e||(e=I(a.doc,b.line));var c=e;b=b.ch;e=Db(a,dc(a,e),b,l);return Sb(a,c,e,f)}function nb(a,b,f,e,l,c){function d(b,A){var g=Db(a,l,b,A?"right":"left",c);A?g.left=g.right:g.right=g.left;return Sb(a,e,g,f)}function g(a,b,e){return d(e?a-1:a,0!=h[b].level%2!=e)}e=e||I(a.doc,b.line);l||(l=dc(a,e));var h=ab(e,a.doc.direction),k=b.ch;b=b.sticky;k>=e.text.length?(k=e.text.length,b="before"):0>=k&&(k=0,b="after");if(!h)return d("before"==b?k-1:k,"before"==b);var r=Ya(h,k,b),m=yc,r=
g(k,r,"before"==b);null!=m&&(r.other=g(k,m,"before"!=b));return r}function Ce(a,b){var f=0;b=u(a.doc,b);a.options.lineWrapping||(f=Cc(a.display)*b.ch);var e=I(a.doc,b.line),l=Aa(e)+a.display.lineSpace.offsetTop;return{left:f,right:f,top:l,bottom:l+e.height}}function Id(a,b,f){var e=a.doc;f+=a.display.viewOffset;if(0>f)return a=x(e.first,0,null),a.xRel=-1,a.outside=!0,a;var l=Wa(e,f),c=e.first+e.size-1;if(l>c)return a=I(e,c).text.length,a=x(e.first+e.size-1,a,null),a.xRel=1,a.outside=!0,a;0>b&&(b=
0);for(c=I(e,l);;)if(e=hg(a,c,l,b,f),c=(l=eb(c,!1))&&l.find(0,!0),l&&(e.ch>c.from.ch||e.ch==c.from.ch&&0<e.xRel))l=Y(c=c.to.line);else return e}function je(a,b,f,e){var l=b.text.length,c=rb(function(l){return Sb(a,b,Db(a,f,l-1),"line").bottom<=e},l,0),l=rb(function(l){return Sb(a,b,Db(a,f,l),"line").top>e},c,l);return{begin:c,end:l}}function hg(a,b,f,e,l){l-=Aa(b);var c=0,d=b.text.length,g=dc(a,b);if(ab(b,a.doc.direction)){if(a.options.lineWrapping){var h;h=je(a,b,g,l);c=h.begin;d=h.end}f=new x(f,
c);var k=nb(a,f,"line",b,g).left;h=k<e?1:-1;var r=k-e,m;do{k=r;m=f;f=Eb(a,b,f,h);if(null==f||f.ch<c||d<=("before"==f.sticky?f.ch-1:f.ch)){f=m;break}r=nb(a,f,"line",b,g).left-e}while(0>h!=0>r&&Math.abs(r)<=Math.abs(k));if(Math.abs(r)>Math.abs(k)){if(0>r==0>k)throw Error("Broke out of infinite loop in coordsCharInner");f=m}}else c=rb(function(f){var c=Sb(a,b,Db(a,g,f),"line");return c.top>l?(d=Math.min(f,d),!0):c.bottom<=l?!1:c.left>e?!0:c.right<e?!1:e-c.left<c.right-e},c,d),c=M(b.text,c,1),f=new x(f,
c,c==d?"before":"after");c=nb(a,f,"line",b,g);if(l<c.top||c.bottom<l)f.outside=!0;f.xRel=e<c.left?-1:e>c.right?1:0;return f}function Vb(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==Wb){Wb=q("pre");for(var b=0;49>b;++b)Wb.appendChild(document.createTextNode("x")),Wb.appendChild(q("br"));Wb.appendChild(document.createTextNode("x"))}ba(a.measure,Wb);b=Wb.offsetHeight/50;3<b&&(a.cachedTextHeight=b);V(a.measure);return b||1}function Cc(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;
var b=q("span","xxxxxxxxxx"),f=q("pre",[b]);ba(a.measure,f);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function Gd(a){for(var b=a.display,f={},e={},l=b.gutters.clientLeft,c=b.gutters.firstChild,d=0;c;c=c.nextSibling,++d)f[a.options.gutters[d]]=c.offsetLeft+c.clientLeft+l,e[a.options.gutters[d]]=c.clientWidth;return{fixedPos:Jd(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:f,gutterWidth:e,wrapperWidth:b.wrapper.clientWidth}}function Jd(a){return a.scroller.getBoundingClientRect().left-
a.sizer.getBoundingClientRect().left}function De(a){var b=Vb(a.display),f=a.options.lineWrapping,e=f&&Math.max(5,a.display.scroller.clientWidth/Cc(a.display)-3);return function(l){if(fb(a.doc,l))return 0;var c=0;if(l.widgets)for(var d=0;d<l.widgets.length;d++)l.widgets[d].height&&(c+=l.widgets[d].height);return f?c+(Math.ceil(l.text.length/e)||1)*b:c+b}}function Kd(a){var b=a.doc,f=De(a);b.iter(function(a){var b=f(a);b!=a.height&&ga(a,b)})}function Xb(a,b,f,e){var l=a.display;if(!f&&"true"==(b.target||
b.srcElement).getAttribute("cm-not-content"))return null;var c,d;f=l.lineSpace.getBoundingClientRect();try{c=b.clientX-f.left,d=b.clientY-f.top}catch(g){return null}b=Id(a,c,d);var h;e&&1==b.xRel&&(h=I(a.doc,b.line).text).length==b.ch&&(e=s(h,h.length,a.options.tabSize)-h.length,b=x(b.line,Math.max(0,Math.round((c-te(a.display).left)/Cc(a.display))-e)));return b}function Ub(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>b)return null;for(var f=a.display.view,e=0;e<f.length;e++)if(b-=
f[e].size,0>b)return e}function Ec(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Ee(a,b){for(var f=a.doc,e={},l=e.cursors=document.createDocumentFragment(),c=e.selection=document.createDocumentFragment(),d=0;d<f.sel.ranges.length;d++)if(!1!==b||d!=f.sel.primIndex){var g=f.sel.ranges[d];if(!(g.from().line>=a.display.viewTo||g.to().line<a.display.viewFrom)){var h=g.empty();(h||a.options.showCursorWhenSelecting)&&Fe(a,g.head,l);h||ig(a,g,c)}}return e}function Fe(a,b,f){b=
nb(a,b,"div",null,null,!a.options.singleCursorHeightPerLine);var e=f.appendChild(q("div","\u00a0","CodeMirror-cursor"));e.style.left=b.left+"px";e.style.top=b.top+"px";e.style.height=Math.max(0,b.bottom-b.top)*a.options.cursorHeight+"px";b.other&&(a=f.appendChild(q("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=b.other.left+"px",a.style.top=b.other.top+"px",a.style.height=0.85*(b.other.bottom-b.other.top)+"px")}function ig(a,b,f){function e(a,b,e,f){0>
b&&(b=0);b=Math.round(b);f=Math.round(f);g.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px;\n                             top: "+b+"px; width: "+(null==e?r-a:e)+"px;\n                             height: "+(f-b)+"px"))}function l(b,f,l){var c=I(d,b),oa=c.text.length,g,h;vb(ab(c,d.direction),f||0,null==l?oa:l,function(d,A,Q){var t=ed(a,x(b,d),"div",c,"left"),m,v;d==A?(m=t,Q=v=t.left):(m=ed(a,x(b,A-1),"div",c,"right"),"rtl"==Q&&(Q=t,t=m,m=Q),Q=t.left,v=m.right);null==
f&&0==d&&(Q=k);3<m.top-t.top&&(e(Q,t.top,null,t.bottom),Q=k,t.bottom<m.top&&e(Q,t.bottom,null,m.top));null==l&&A==oa&&(v=r);if(!g||t.top<g.top||t.top==g.top&&t.left<g.left)g=t;if(!h||m.bottom>h.bottom||m.bottom==h.bottom&&m.right>h.right)h=m;Q<k+1&&(Q=k);e(Q,m.top,v-Q,m.bottom)});return{start:g,end:h}}var c=a.display,d=a.doc,g=document.createDocumentFragment(),h=te(a.display),k=h.left,r=Math.max(c.sizerWidth,Tb(a)-c.sizer.offsetLeft)-h.right,c=b.from();b=b.to();if(c.line==b.line)l(c.line,c.ch,b.ch);
else{var m=I(d,c.line),h=I(d,b.line),h=Qa(m)==Qa(h),c=l(c.line,c.ch,h?m.text.length+1:null).end;b=l(b.line,h?0:null,b.ch).start;h&&(c.top<b.top-2?(e(c.right,c.top,null,c.bottom),e(k,b.top,b.left,b.bottom)):e(c.right,c.top,b.left-c.right,c.bottom));c.bottom<b.top&&e(k,c.bottom,null,b.top)}f.appendChild(g)}function Ld(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var f=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){return b.cursorDiv.style.visibility=
(f=!f)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function Ge(a){a.state.focused||(a.display.input.focus(),Md(a))}function He(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,Fc(a))},100)}function Md(a,b){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(ma(a,"focus",a,b),a.state.focused=!0,la(a.display.wrapper,
"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),Ha&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Ld(a))}function Fc(a,b){a.state.delayingBlurEvent||(a.state.focused&&(ma(a,"blur",a,b),a.state.focused=!1,Yb(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function fd(a){a=a.display;for(var b=a.lineDiv.offsetTop,
f=0;f<a.view.length;f++){var e=a.view[f],l=void 0;if(!e.hidden){if(aa&&8>pa)var c=e.node.offsetTop+e.node.offsetHeight,l=c-b,b=c;else l=e.node.getBoundingClientRect(),l=l.bottom-l.top;c=e.line.height-l;2>l&&(l=Vb(a));if(0.001<c||-0.001>c)if(ga(e.line,l),Ie(e.line),e.rest)for(l=0;l<e.rest.length;l++)Ie(e.rest[l])}}}function Ie(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.parentNode.offsetHeight}function Nd(a,b,f){var e=f&&null!=f.top?Math.max(0,f.top):a.scroller.scrollTop,
e=Math.floor(e-a.lineSpace.offsetTop),l=f&&null!=f.bottom?f.bottom:e+a.wrapper.clientHeight,e=Wa(b,e),l=Wa(b,l);if(f&&f.ensure){var c=f.ensure.from.line;f=f.ensure.to.line;c<e?(e=c,l=Wa(b,Aa(I(b,c))+a.wrapper.clientHeight)):Math.min(f,b.lastLine())>=l&&(e=Wa(b,Aa(I(b,f))-a.wrapper.clientHeight),l=f)}return{from:e,to:Math.max(l,e+1)}}function Je(a){var b=a.display,f=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var e=Jd(b)-b.scroller.scrollLeft+a.doc.scrollLeft,l=b.gutters.offsetWidth,
c=e+"px",d=0;d<f.length;d++)if(!f[d].hidden){a.options.fixedGutter&&(f[d].gutter&&(f[d].gutter.style.left=c),f[d].gutterBackground&&(f[d].gutterBackground.style.left=c));var g=f[d].alignable;if(g)for(var h=0;h<g.length;h++)g[h].style.left=c}a.options.fixedGutter&&(b.gutters.style.left=e+l+"px")}}function Ke(a){if(!a.options.lineNumbers)return!1;var b=a.doc,b=wa(a.options,b.first+b.size-1),f=a.display;if(b.length!=f.lineNumChars){var e=f.measure.appendChild(q("div",[q("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),
l=e.firstChild.offsetWidth,e=e.offsetWidth-l;f.lineGutter.style.width="";f.lineNumInnerWidth=Math.max(l,f.lineGutter.offsetWidth-e)+1;f.lineNumWidth=f.lineNumInnerWidth+e;f.lineNumChars=f.lineNumInnerWidth?b.length:-1;f.lineGutter.style.width=f.lineNumWidth+"px";Od(a);return!0}return!1}function Pd(a,b){var f=a.display,e=Vb(a.display);0>b.top&&(b.top=0);var l=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,c=Ed(a),d={};b.bottom-b.top>c&&(b.bottom=b.top+c);var g=a.doc.height+
Dd(f),h=b.top<e,e=b.bottom>g-e;b.top<l?d.scrollTop=h?0:b.top:b.bottom>l+c&&(c=Math.min(b.top,(e?g:b.bottom)-c),c!=l&&(d.scrollTop=c));l=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft;f=Tb(a)-(a.options.fixedGutter?f.gutters.offsetWidth:0);if(c=b.right-b.left>f)b.right=b.left+f;10>b.left?d.scrollLeft=0:b.left<l?d.scrollLeft=Math.max(0,b.left-(c?0:10)):b.right>f+l-3&&(d.scrollLeft=b.right+(c?0:10)-f);return d}function gd(a,b){null!=b&&(hd(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?
a.doc.scrollTop:a.curOp.scrollTop)+b)}function ic(a){hd(a);var b=a.getCursor(),f=b,e=b;a.options.lineWrapping||(f=b.ch?x(b.line,b.ch-1):b,e=x(b.line,b.ch+1));a.curOp.scrollToPos={from:f,to:e,margin:a.options.cursorScrollMargin}}function Gc(a,b,f){null==b&&null==f||hd(a);null!=b&&(a.curOp.scrollLeft=b);null!=f&&(a.curOp.scrollTop=f)}function hd(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var f=Ce(a,b.from),e=Ce(a,b.to);Le(a,f,e,b.margin)}}function Le(a,b,f,e){b=Pd(a,{left:Math.min(b.left,
f.left),top:Math.min(b.top,f.top)-e,right:Math.max(b.right,f.right),bottom:Math.max(b.bottom,f.bottom)+e});Gc(a,b.scrollLeft,b.scrollTop)}function Hc(a,b){2>Math.abs(a.doc.scrollTop-b)||(Jb||Qd(a,{top:b}),Me(a,b,!0),Jb&&Qd(a),Ic(a,100))}function Me(a,b,f){b=Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,b);if(a.display.scroller.scrollTop!=b||f)a.doc.scrollTop=b,a.display.scrollbars.setScrollTop(b),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b)}function Zb(a,
b,f,e){b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth);(f?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))&&!e||(a.doc.scrollLeft=b,Je(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function Jc(a){var b=a.display,f=b.gutters.offsetWidth,e=Math.round(a.doc.height+Dd(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,
viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?f:0,docHeight:e,scrollHeight:e+wb(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:f}}function jc(a,b){b||(b=Jc(a));var f=a.display.barWidth,e=a.display.barHeight;Ne(a,b);for(var l=0;4>l&&f!=a.display.barWidth||e!=a.display.barHeight;l++)f!=a.display.barWidth&&a.options.lineWrapping&&fd(a),Ne(a,Jc(a)),f=a.display.barWidth,e=a.display.barHeight}function Ne(a,b){var f=a.display,e=f.scrollbars.update(b);f.sizer.style.paddingRight=
(f.barWidth=e.right)+"px";f.sizer.style.paddingBottom=(f.barHeight=e.bottom)+"px";f.heightForcer.style.borderBottom=e.bottom+"px solid transparent";e.right&&e.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=e.bottom+"px",f.scrollbarFiller.style.width=e.right+"px"):f.scrollbarFiller.style.display="";e.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=e.bottom+"px",f.gutterFiller.style.width=
b.gutterWidth+"px"):f.gutterFiller.style.display=""}function Oe(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&Yb(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new Pe[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,a.display.scrollbarFiller);O(b,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});b.setAttribute("cm-not-content","true")},function(b,f){"horizontal"==
f?Zb(a,b):Hc(a,b)},a);a.display.scrollbars.addClass&&la(a.display.wrapper,a.display.scrollbars.addClass)}function kc(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++jg};a=a.curOp;hc?hc.ops.push(a):a.ownsGroup=hc={ops:[a],delayedCallbacks:[]}}function lc(a){eg(a.curOp,function(a){for(var f=
0;f<a.ops.length;f++)a.ops[f].cm.curOp=null;a=a.ops;for(f=0;f<a.length;f++){var e=a[f],l=e.cm,c=l.display,d=l,g=d.display;!g.scrollbarsClipped&&g.scroller.offsetWidth&&(g.nativeBarWidth=g.scroller.offsetWidth-g.scroller.clientWidth,g.heightForcer.style.height=wb(d)+"px",g.sizer.style.marginBottom=-g.nativeBarWidth+"px",g.sizer.style.borderRightWidth=wb(d)+"px",g.scrollbarsClipped=!0);e.updateMaxLine&&da(l);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<
c.viewFrom||e.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&l.options.lineWrapping;e.update=e.mustUpdate&&new id(l,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}for(f=0;f<a.length;f++)e=a[f],e.updatedDisplay=e.mustUpdate&&Rd(e.cm,e.update);for(f=0;f<a.length;f++)if(e=a[f],l=e.cm,c=l.display,e.updatedDisplay&&fd(l),e.barMeasure=Jc(l),c.maxLineChanged&&!l.options.lineWrapping&&(d=e,g=c.maxLine.text.length,g=Db(l,dc(l,c.maxLine),g,void 0),d.adjustWidthTo=g.left+3,l.display.sizerWidth=
e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+e.adjustWidthTo+wb(l)+l.display.barWidth),e.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+e.adjustWidthTo-Tb(l))),e.updatedDisplay||e.selectionChanged)e.preparedSelection=c.input.prepareSelection(e.focus);for(f=0;f<a.length;f++)e=a[f],l=e.cm,null!=e.adjustWidthTo&&(l.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<l.doc.scrollLeft&&Zb(l,Math.min(l.display.scroller.scrollLeft,e.maxScrollLeft),
!0),l.display.maxLineChanged=!1),c=e.focus&&e.focus==ca()&&(!document.hasFocus||document.hasFocus()),e.preparedSelection&&l.display.input.showSelection(e.preparedSelection,c),(e.updatedDisplay||e.startHeight!=l.doc.height)&&jc(l,e.barMeasure),e.updatedDisplay&&Sd(l,e.barMeasure),e.selectionChanged&&Ld(l),l.state.focused&&e.updateInput&&l.display.input.reset(e.typing),c&&Ge(e.cm);for(f=0;f<a.length;f++){e=a[f];l=e.cm;c=l.display;d=l.doc;e.updatedDisplay&&Qe(l,e.update);null==c.wheelStartX||null==e.scrollTop&&
null==e.scrollLeft&&!e.scrollToPos||(c.wheelStartX=c.wheelStartY=null);null!=e.scrollTop&&Me(l,e.scrollTop,e.forceScroll);null!=e.scrollLeft&&Zb(l,e.scrollLeft,!0,!0);if(e.scrollToPos){var g=u(d,e.scrollToPos.from),h=u(d,e.scrollToPos.to),k=e.scrollToPos.margin;null==k&&(k=0);for(var m=void 0,r=0;5>r;r++){var v=!1,m=nb(l,g),n=h&&h!=g?nb(l,h):m,m={left:Math.min(m.left,n.left),top:Math.min(m.top,n.top)-k,right:Math.max(m.left,n.left),bottom:Math.max(m.bottom,n.bottom)+k},n=Pd(l,m),p=l.doc.scrollTop,
s=l.doc.scrollLeft;null!=n.scrollTop&&(Hc(l,n.scrollTop),1<Math.abs(l.doc.scrollTop-p)&&(v=!0));null!=n.scrollLeft&&(Zb(l,n.scrollLeft),1<Math.abs(l.doc.scrollLeft-s)&&(v=!0));if(!v)break}h=m;na(l,"scrollCursorIntoView")||(k=l.display,r=k.sizer.getBoundingClientRect(),g=null,0>h.top+r.top?g=!0:h.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(g=!1),null==g||kg||(h=q("div","\u200b",null,"position: absolute;\n                         top: "+(h.top-k.viewOffset-l.display.lineSpace.offsetTop)+
"px;\n                         height: "+(h.bottom-h.top+wb(l)+k.barHeight)+"px;\n                         left: "+h.left+"px; width: "+Math.max(2,h.right-h.left)+"px;"),l.display.lineSpace.appendChild(h),h.scrollIntoView(g),l.display.lineSpace.removeChild(h)))}h=e.maybeHiddenMarkers;g=e.maybeUnhiddenMarkers;if(h)for(k=0;k<h.length;++k)h[k].lines.length||ma(h[k],"hide");if(g)for(h=0;h<g.length;++h)g[h].lines.length&&ma(g[h],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=l.display.scroller.scrollTop);
e.changeObjs&&ma(l,"changes",l,e.changeObjs);e.update&&e.update.finish()}})}function Za(a,b){if(a.curOp)return b();kc(a);try{return b()}finally{lc(a)}}function Fa(a,b){return function(){if(a.curOp)return b.apply(a,arguments);kc(a);try{return b.apply(a,arguments)}finally{lc(a)}}}function Ra(a){return function(){if(this.curOp)return a.apply(this,arguments);kc(this);try{return a.apply(this,arguments)}finally{lc(this)}}}function Ga(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,
arguments);kc(b);try{return a.apply(this,arguments)}finally{lc(b)}}}function Sa(a,b,f,e){null==b&&(b=a.doc.first);null==f&&(f=a.doc.first+a.doc.size);e||(e=0);var l=a.display;e&&f<l.viewTo&&(null==l.updateLineNumbers||l.updateLineNumbers>b)&&(l.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=l.viewTo)Kb&&Cb(a.doc,b)<l.viewTo&&Lb(a);else if(f<=l.viewFrom)Kb&&kb(a.doc,f+e)>l.viewFrom?Lb(a):(l.viewFrom+=e,l.viewTo+=e);else if(b<=l.viewFrom&&f>=l.viewTo)Lb(a);else if(b<=l.viewFrom){var c=jd(a,f,f+e,
1);c?(l.view=l.view.slice(c.index),l.viewFrom=c.lineN,l.viewTo+=e):Lb(a)}else if(f>=l.viewTo)(c=jd(a,b,b,-1))?(l.view=l.view.slice(0,c.index),l.viewTo=c.lineN):Lb(a);else{var c=jd(a,b,b,-1),d=jd(a,f,f+e,1);c&&d?(l.view=l.view.slice(0,c.index).concat(bd(a,c.lineN,d.lineN)).concat(l.view.slice(d.index)),l.viewTo+=e):Lb(a)}if(a=l.externalMeasured)f<a.lineN?a.lineN+=e:b<a.lineN+a.size&&(l.externalMeasured=null)}function Mb(a,b,f){a.curOp.viewChanged=!0;var e=a.display,l=a.display.externalMeasured;l&&
b>=l.lineN&&b<l.lineN+l.size&&(e.externalMeasured=null);b<e.viewFrom||b>=e.viewTo||(a=e.view[Ub(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==m(a,f)&&a.push(f)))}function Lb(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function jd(a,b,f,e){var l=Ub(a,b),c=a.display.view;if(!Kb||f==a.doc.first+a.doc.size)return{index:l,lineN:f};for(var d=a.display.viewFrom,g=0;g<l;g++)d+=c[g].size;if(d!=b){if(0<e){if(l==c.length-1)return null;b=d+c[l].size-b;l++}else b=
d-b;f+=b}for(;Cb(a.doc,f)!=f;){if(l==(0>e?0:c.length-1))return null;f+=e*c[l-(0>e?1:0)].size;l+=e}return{index:l,lineN:f}}function Re(a){a=a.display.view;for(var b=0,f=0;f<a.length;f++){var e=a[f];e.hidden||e.node&&!e.changes||++b}return b}function Ic(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,w(lg,a))}function lg(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var f=+new Date+a.options.workTime,e=J(b.mode,p(a,b.frontier)),
l=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(d){if(b.frontier>=a.display.viewFrom){var g=d.styles,h=d.text.length>a.options.maxHighlightLength,t=G(a,d,h?J(b.mode,e):e,!0);d.styles=t.styles;var k=d.styleClasses;(t=t.classes)?d.styleClasses=t:k&&(d.styleClasses=null);k=!g||g.length!=d.styles.length||k!=t&&(!k||!t||k.bgClass!=t.bgClass||k.textClass!=t.textClass);for(t=0;!k&&t<g.length;++t)k=g[t]!=d.styles[t];k&&l.push(b.frontier);d.stateAfter=h?e:J(b.mode,e)}else d.text.length<=
a.options.maxHighlightLength&&c(a,d.text,e),d.stateAfter=0==b.frontier%5?J(b.mode,e):null;++b.frontier;if(+new Date>f)return Ic(a,a.options.workDelay),!0});l.length&&Za(a,function(){for(var b=0;b<l.length;b++)Mb(a,l[b],"text")})}}function Rd(a,b){var f=a.display,e=a.doc;if(b.editorIsHidden)return Lb(a),!1;if(!b.force&&b.visible.from>=f.viewFrom&&b.visible.to<=f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&0==Re(a))return!1;Ke(a)&&(Lb(a),b.dims=Gd(a));
var l=e.first+e.size,c=Math.max(b.visible.from-a.options.viewportMargin,e.first),d=Math.min(l,b.visible.to+a.options.viewportMargin);f.viewFrom<c&&20>c-f.viewFrom&&(c=Math.max(e.first,f.viewFrom));f.viewTo>d&&20>f.viewTo-d&&(d=Math.min(l,f.viewTo));Kb&&(c=Cb(a.doc,c),d=kb(a.doc,d));e=c!=f.viewFrom||d!=f.viewTo||f.lastWrapHeight!=b.wrapperHeight||f.lastWrapWidth!=b.wrapperWidth;l=a.display;0==l.view.length||c>=l.viewTo||d<=l.viewFrom?(l.view=bd(a,c,d),l.viewFrom=c):(l.viewFrom>c?l.view=bd(a,c,l.viewFrom).concat(l.view):
l.viewFrom<c&&(l.view=l.view.slice(Ub(a,c))),l.viewFrom=c,l.viewTo<d?l.view=l.view.concat(bd(a,l.viewTo,d)):l.viewTo>d&&(l.view=l.view.slice(0,Ub(a,d))));l.viewTo=d;f.viewOffset=Aa(I(a.doc,f.viewFrom));a.display.mover.style.top=f.viewOffset+"px";d=Re(a);if(!e&&0==d&&!b.force&&f.renderedView==f.view&&(null==f.updateLineNumbers||f.updateLineNumbers>=f.viewTo))return!1;a.hasFocus()?c=null:(c=ca())&&ea(a.display.lineDiv,c)?(c={activeElt:c},window.getSelection&&(l=window.getSelection(),l.anchorNode&&l.extend&&
ea(a.display.lineDiv,l.anchorNode)&&(c.anchorNode=l.anchorNode,c.anchorOffset=l.anchorOffset,c.focusNode=l.focusNode,c.focusOffset=l.focusOffset))):c=null;4<d&&(f.lineDiv.style.display="none");mg(a,f.updateLineNumbers,b.dims);4<d&&(f.lineDiv.style.display="");f.renderedView=f.view;(d=c)&&d.activeElt&&d.activeElt!=ca()&&(d.activeElt.focus(),d.anchorNode&&ea(document.body,d.anchorNode)&&ea(document.body,d.focusNode)&&(c=window.getSelection(),l=document.createRange(),l.setEnd(d.anchorNode,d.anchorOffset),
l.collapse(!1),c.removeAllRanges(),c.addRange(l),c.extend(d.focusNode,d.focusOffset)));V(f.cursorDiv);V(f.selectionDiv);f.gutters.style.height=f.sizer.style.minHeight=0;e&&(f.lastWrapHeight=b.wrapperHeight,f.lastWrapWidth=b.wrapperWidth,Ic(a,400));f.updateLineNumbers=null;return!0}function Qe(a,b){for(var f=b.viewport,e=!0;;e=!1){if(!e||!a.options.lineWrapping||b.oldDisplayWidth==Tb(a))if(f&&null!=f.top&&(f={top:Math.min(a.doc.height+Dd(a.display)-Ed(a),f.top)}),b.visible=Nd(a.display,a.doc,f),b.visible.from>=
a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!Rd(a,b))break;fd(a);e=Jc(a);Ec(a);jc(a,e);Sd(a,e)}b.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function Qd(a,b){var f=new id(a,b);if(Rd(a,f)){fd(a);Qe(a,f);var e=Jc(a);Ec(a);jc(a,e);Sd(a,e);f.finish()}}function mg(a,
b,f){function e(b){var e=b.nextSibling;Ha&&mb&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return e}for(var c=a.display,d=a.options.lineNumbers,g=c.lineDiv,h=g.firstChild,t=c.view,c=c.viewFrom,k=0;k<t.length;k++){var r=t[k];if(!r.hidden)if(r.node&&r.node.parentNode==g){for(;h!=r.node;)h=e(h);h=d&&null!=b&&b<=c&&r.lineNumber;r.changes&&(-1<m(r.changes,"gutter")&&(h=!1),oe(a,r,c,f));h&&(V(r.lineNumber),r.lineNumber.appendChild(document.createTextNode(wa(a.options,
c))));h=r.node.nextSibling}else{var v=gg(a,r,c,f);g.insertBefore(v,h)}c+=r.size}for(;h;)h=e(h)}function Od(a){a.display.sizer.style.marginLeft=a.display.gutters.offsetWidth+"px"}function Sd(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";a.display.heightForcer.style.top=b.docHeight+"px";a.display.gutters.style.height=b.docHeight+a.display.barHeight+wb(a)+"px"}function Se(a){var b=a.display.gutters,f=a.options.gutters;V(b);for(var e=0;e<f.length;++e){var c=f[e],d=b.appendChild(q("div",null,"CodeMirror-gutter "+
c));"CodeMirror-linenumbers"==c&&(a.display.lineGutter=d,d.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=e?"":"none";Od(a)}function Td(a){var b=m(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function Te(a){var b=a.wheelDeltaX,f=a.wheelDeltaY;null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail);null==f&&a.detail&&a.axis==a.VERTICAL_AXIS?
f=a.detail:null==f&&(f=a.wheelDelta);return{x:b,y:f}}function ng(a){a=Te(a);a.x*=cb;a.y*=cb;return a}function Ue(a,b){var f=Te(b),e=f.x,f=f.y,c=a.display,d=c.scroller,g=d.scrollWidth>d.clientWidth,h=d.scrollHeight>d.clientHeight;if(e&&g||f&&h){if(f&&mb&&Ha){var g=b.target,t=c.view;a:for(;g!=d;g=g.parentNode)for(var k=0;k<t.length;k++)if(t[k].node==g){a.display.currentWheelTarget=g;break a}}!e||Jb||ob||null==cb?(f&&null!=cb&&(h=f*cb,g=a.doc.scrollTop,t=g+c.wrapper.clientHeight,0>h?g=Math.max(0,g+h-
50):t=Math.min(a.doc.height,t+h+50),Qd(a,{top:g,bottom:t})),20>kd&&(null==c.wheelStartX?(c.wheelStartX=d.scrollLeft,c.wheelStartY=d.scrollTop,c.wheelDX=e,c.wheelDY=f,setTimeout(function(){if(null!=c.wheelStartX){var a=d.scrollLeft-c.wheelStartX,b=d.scrollTop-c.wheelStartY,a=b&&c.wheelDY&&b/c.wheelDY||a&&c.wheelDX&&a/c.wheelDX;c.wheelStartX=c.wheelStartY=null;a&&(cb=(cb*kd+a)/(kd+1),++kd)}},200)):(c.wheelDX+=e,c.wheelDY+=f))):(f&&h&&Hc(a,Math.max(0,d.scrollTop+f*cb)),Zb(a,Math.max(0,d.scrollLeft+e*
cb)),(!f||f&&h)&&fa(b),c.wheelStartX=null)}}function pb(a,b){var f=a[b];a.sort(function(a,b){return B(a.from(),b.from())});b=m(a,f);for(f=1;f<a.length;f++){var e=a[f],c=a[f-1];if(0<=B(c.to(),e.from())){var d=$(c.from(),e.from()),g=Xa(c.to(),e.to()),e=c.empty()?e.from()==e.head:c.from()==c.head;f<=b&&--b;a.splice(--f,2,new ha(e?g:d,e?d:g))}}return new db(a,b)}function Hb(a,b){return new db([new ha(a,b||a)],0)}function Nb(a){return a.text?x(a.from.line+a.text.length-1,R(a.text).length+(1==a.text.length?
a.from.ch:0)):a.to}function Ve(a,b){if(0>B(a,b.from))return a;if(0>=B(a,b.to))return Nb(b);var f=a.line+b.text.length-(b.to.line-b.from.line)-1,e=a.ch;a.line==b.to.line&&(e+=Nb(b).ch-b.to.ch);return x(f,e)}function Ud(a,b){for(var f=[],e=0;e<a.sel.ranges.length;e++){var c=a.sel.ranges[e];f.push(new ha(Ve(c.anchor,b),Ve(c.head,b)))}return pb(f,a.sel.primIndex)}function We(a,b,f){return a.line==b.line?x(f.line,a.ch-b.ch+f.ch):x(f.line+(a.line-b.line),a.ch)}function Vd(a){a.doc.mode=S(a.options,a.doc.modeOption);
Kc(a)}function Kc(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;Ic(a,100);a.state.modeGen++;a.curOp&&Sa(a)}function Xe(a,b){return 0==b.from.ch&&0==b.to.ch&&""==R(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Wd(a,b,f,e){function c(a,f,l){var d=e;a.text=f;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);ub(a);Bb(a,l);f=d?d(a):1;f!=a.height&&ga(a,f);Ka(a,"change",a,b)}function d(a,
b){for(var c=[],l=a;l<b;++l)c.push(new mc(t[l],f?f[l]:null,e));return c}var g=b.from,h=b.to,t=b.text,k=I(a,g.line),r=I(a,h.line),m=R(t),v=f?f[t.length-1]:null,n=h.line-g.line;b.full?(a.insert(0,d(0,t.length)),a.remove(t.length,a.size-t.length)):Xe(a,b)?(h=d(0,t.length-1),c(r,r.text,v),n&&a.remove(g.line,n),h.length&&a.insert(g.line,h)):k==r?1==t.length?c(k,k.text.slice(0,g.ch)+m+k.text.slice(h.ch),v):(n=d(1,t.length-1),n.push(new mc(m+k.text.slice(h.ch),v,e)),c(k,k.text.slice(0,g.ch)+t[0],f?f[0]:
null),a.insert(g.line+1,n)):1==t.length?(c(k,k.text.slice(0,g.ch)+t[0]+r.text.slice(h.ch),f?f[0]:null),a.remove(g.line+1,n)):(c(k,k.text.slice(0,g.ch)+t[0],f?f[0]:null),c(r,m+r.text.slice(h.ch),v),v=d(1,t.length-1),1<n&&a.remove(g.line+1,n-1),a.insert(g.line+1,v));Ka(a,"change",a,b)}function $b(a,b,f){function e(a,c,d){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=c){var k=d&&h.sharedHist;if(!f||k)b(h.doc,k),e(h.doc,a,k)}}}e(a,null,!0)}function Ye(a,b){if(b.cm)throw Error("This document is already in use.");
a.doc=b;b.cm=a;Kd(a);Vd(a);Ze(a);a.options.lineWrapping||da(a);a.options.mode=b.modeOption;Sa(a)}function Ze(a){("rtl"==a.doc.direction?la:Yb)(a.display.lineDiv,"CodeMirror-rtl")}function og(a){Za(a,function(){Ze(a);Sa(a)})}function ld(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function Xd(a,b){var f={from:N(b.from),to:Nb(b),text:Va(a,b.from,b.to)};
$e(a,f,b.from.line,b.to.line+1);$b(a,function(a){return $e(a,f,b.from.line,b.to.line+1)},!0);return f}function af(a){for(;a.length;)if(R(a).ranges)a.pop();else break}function bf(a,b,f,e){var c=a.history;c.undone.length=0;var d=+new Date,g,h,t;if(t=c.lastOp==e||c.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&c.lastModTime>d-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))c.lastOp==e?(af(c.done),g=R(c.done)):c.done.length&&!R(c.done).ranges?g=R(c.done):1<c.done.length&&!c.done[c.done.length-
2].ranges?(c.done.pop(),g=R(c.done)):g=void 0,t=g;if(t)h=R(g.changes),0==B(b.from,b.to)&&0==B(b.from,h.to)?h.to=Nb(b):g.changes.push(Xd(a,b));else for((g=R(c.done))&&g.ranges||md(a.sel,c.done),g={changes:[Xd(a,b)],generation:c.generation},c.done.push(g);c.done.length>c.undoDepth;)c.done.shift(),c.done[0].ranges||c.done.shift();c.done.push(f);c.generation=++c.maxGeneration;c.lastModTime=c.lastSelTime=d;c.lastOp=c.lastSelOp=e;c.lastOrigin=c.lastSelOrigin=b.origin;h||ma(a,"historyAdded")}function md(a,
b){var f=R(b);f&&f.ranges&&f.equals(a)||b.push(a)}function $e(a,b,f,e){var c=b["spans_"+a.id],d=0;a.iter(Math.max(a.first,f),Math.min(a.first+a.size,e),function(e){e.markedSpans&&((c||(c=b["spans_"+a.id]={}))[d]=e.markedSpans);++d})}function pg(a){if(!a)return null;for(var b,f=0;f<a.length;++f)a[f].marker.explicitlyCleared?b||(b=a.slice(0,f)):b&&b.push(a[f]);return b?b.length?b:null:a}function cf(a,b){var f;if(f=b["spans_"+a.id]){for(var e=[],c=0;c<b.text.length;++c)e.push(pg(f[c]));f=e}else f=null;
e=sb(a,b);if(!f)return e;if(!e)return f;for(c=0;c<f.length;++c){var d=f[c],g=e[c];if(d&&g){var h=0;a:for(;h<g.length;++h){for(var t=g[h],k=0;k<d.length;++k)if(d[k].marker==t.marker)continue a;d.push(t)}}else g&&(f[c]=g)}return f}function nc(a,b,f){for(var e=[],c=0;c<a.length;++c){var d=a[c];if(d.ranges)e.push(f?db.prototype.deepCopy.call(d):d);else{var d=d.changes,g=[];e.push({changes:g});for(var h=0;h<d.length;++h){var t=d[h],k=void 0;g.push({from:t.from,to:t.to,text:t.text});if(b)for(var r in t)(k=
r.match(/^spans_(\d+)$/))&&-1<m(b,Number(k[1]))&&(R(g)[r]=t[r],delete t[r])}}}return e}function Lc(a,b,f,e){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,e&&(b=0>B(f,a),b!=0>B(e,a)?(a=f,f=e):b!=0>B(f,e)&&(f=e)),new ha(a,f)):new ha(e||f,f)}function nd(a,b,f,e){La(a,new db([Lc(a,a.sel.primary(),b,f)],0),e)}function df(a,b,f){for(var e=[],c=0;c<a.sel.ranges.length;c++)e[c]=Lc(a,a.sel.ranges[c],b[c],null);b=pb(e,a.sel.primIndex);La(a,b,f)}function Yd(a,b,f,e){var c=a.sel.ranges.slice(0);c[b]=
f;La(a,pb(c,a.sel.primIndex),e)}function qg(a,b,f){f={ranges:b.ranges,update:function(b){this.ranges=[];for(var f=0;f<b.length;f++)this.ranges[f]=new ha(u(a,b[f].anchor),u(a,b[f].head))},origin:f&&f.origin};ma(a,"beforeSelectionChange",a,f);a.cm&&ma(a.cm,"beforeSelectionChange",a.cm,f);return f.ranges!=b.ranges?pb(f.ranges,f.ranges.length-1):b}function ef(a,b,f){var e=a.history.done,c=R(e);c&&c.ranges?(e[e.length-1]=b,od(a,b,f)):La(a,b,f)}function La(a,b,f){od(a,b,f);b=a.sel;var e=a.cm?a.cm.curOp.id:
NaN,c=a.history,d=f&&f.origin,g;if(!(g=e==c.lastSelOp)&&(g=d)&&(g=c.lastSelOrigin==d)&&!(g=c.lastModTime==c.lastSelTime&&c.lastOrigin==d)){g=R(c.done);var h=d.charAt(0);g="*"==h||"+"==h&&g.ranges.length==b.ranges.length&&g.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}g?c.done[c.done.length-1]=b:md(b,c.done);c.lastSelTime=+new Date;c.lastSelOrigin=d;c.lastSelOp=e;f&&!1!==f.clearRedo&&af(c.undone)}function od(a,b,f){if(Ma(a,"beforeSelectionChange")||
a.cm&&Ma(a.cm,"beforeSelectionChange"))b=qg(a,b,f);var e=f&&f.bias||(0>B(b.primary().head,a.sel.primary().head)?-1:1);ff(a,gf(a,b,e,!0));f&&!1===f.scroll||!a.cm||ic(a.cm)}function ff(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,lb(a.cm)),Ka(a,"cursorActivity",a))}function hf(a){ff(a,gf(a,a.sel,null,!1))}function gf(a,b,f,e){for(var c,d=0;d<b.ranges.length;d++){var g=b.ranges[d],h=b.ranges.length==a.sel.ranges.length&&a.sel.ranges[d],t=Zd(a,g.anchor,h&&
h.anchor,f,e),h=Zd(a,g.head,h&&h.head,f,e);if(c||t!=g.anchor||h!=g.head)c||(c=b.ranges.slice(0,d)),c[d]=new ha(t,h)}return c?pb(c,b.primIndex):b}function oc(a,b,f,e,c){var d=I(a,b.line);if(d.markedSpans)for(var g=0;g<d.markedSpans.length;++g){var h=d.markedSpans[g],t=h.marker;if((null==h.from||(t.inclusiveLeft?h.from<=b.ch:h.from<b.ch))&&(null==h.to||(t.inclusiveRight?h.to>=b.ch:h.to>b.ch))){if(c&&(ma(t,"beforeCursorEnter"),t.explicitlyCleared))if(d.markedSpans){--g;continue}else break;if(t.atomic){if(f){g=
t.find(0>e?1:-1);h=void 0;if(0>e?t.inclusiveRight:t.inclusiveLeft)g=jf(a,g,-e,g&&g.line==b.line?d:null);if(g&&g.line==b.line&&(h=B(g,f))&&(0>e?0>h:0<h))return oc(a,g,b,e,c)}f=t.find(0>e?-1:1);if(0>e?t.inclusiveLeft:t.inclusiveRight)f=jf(a,f,e,f.line==b.line?d:null);return f?oc(a,f,b,e,c):null}}}return b}function Zd(a,b,f,e,c){e=e||1;b=oc(a,b,f,e,c)||!c&&oc(a,b,f,e,!0)||oc(a,b,f,-e,c)||!c&&oc(a,b,f,-e,!0);return b?b:(a.cantEdit=!0,x(a.first,0))}function jf(a,b,f,e){return 0>f&&0==b.ch?b.line>a.first?
u(a,x(b.line-1)):null:0<f&&b.ch==(e||I(a,b.line)).text.length?b.line<a.first+a.size-1?x(b.line+1,0):null:new x(b.line,b.ch+f)}function kf(a){a.setSelection(x(a.firstLine(),0),x(a.lastLine()),xb)}function lf(a,b,f){var e={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return e.canceled=!0}};f&&(e.update=function(b,f,c,d){b&&(e.from=u(a,b));f&&(e.to=u(a,f));c&&(e.text=c);void 0!==d&&(e.origin=d)});ma(a,"beforeChange",a,e);a.cm&&ma(a.cm,"beforeChange",a.cm,e);return e.canceled?
null:{from:e.from,to:e.to,text:e.text,origin:e.origin}}function pc(a,b,f){if(a.cm){if(!a.cm.curOp)return Fa(a.cm,pc)(a,b,f);if(a.cm.state.suppressEdits)return}if(Ma(a,"beforeChange")||a.cm&&Ma(a.cm,"beforeChange"))if(b=lf(a,b,!0),!b)return;if(f=mf&&!f&&Ab(a,b.from,b.to))for(var e=f.length-1;0<=e;--e)nf(a,{from:f[e].from,to:f[e].to,text:e?[""]:b.text});else nf(a,b)}function nf(a,b){if(1!=b.text.length||""!=b.text[0]||0!=B(b.from,b.to)){var f=Ud(a,b);bf(a,b,f,a.cm?a.cm.curOp.id:NaN);Mc(a,b,f,sb(a,b));
var e=[];$b(a,function(a,f){f||-1!=m(e,a.history)||(of(a.history,b),e.push(a.history));Mc(a,b,null,sb(a,b))})}}function pd(a,b,f){if(!a.cm||!a.cm.state.suppressEdits||f){for(var e=a.history,c,d=a.sel,g="undo"==b?e.done:e.undone,h="undo"==b?e.undone:e.done,t=0;t<g.length&&(c=g[t],f?!c.ranges||c.equals(a.sel):c.ranges);t++);if(t!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;;)if(c=g.pop(),c.ranges){md(c,h);if(f&&!c.equals(a.sel)){La(a,c,{clearRedo:!1});return}d=c}else break;var k=[];md(d,h);h.push({changes:k,
generation:e.generation});e.generation=c.generation||++e.maxGeneration;var r=Ma(a,"beforeChange")||a.cm&&Ma(a.cm,"beforeChange");f=function(e){var f=c.changes[e];f.origin=b;if(r&&!lf(a,f,!1))return g.length=0,{};k.push(Xd(a,f));var d=e?Ud(a,f):R(g);Mc(a,f,d,cf(a,f));!e&&a.cm&&a.cm.scrollIntoView({from:f.from,to:Nb(f)});var h=[];$b(a,function(a,b){b||-1!=m(h,a.history)||(of(a.history,f),h.push(a.history));Mc(a,f,null,cf(a,f))})};for(e=c.changes.length-1;0<=e;--e)if(d=f(e))return d.v}}}function pf(a,
b){if(0!=b&&(a.first+=b,a.sel=new db(K(a.sel.ranges,function(a){return new ha(x(a.anchor.line+b,a.anchor.ch),x(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Sa(a.cm,a.first,a.first-b,b);for(var f=a.cm.display,e=f.viewFrom;e<f.viewTo;e++)Mb(a.cm,e,"gutter")}}function Mc(a,b,f,e){if(a.cm&&!a.cm.curOp)return Fa(a.cm,Mc)(a,b,f,e);if(b.to.line<a.first)pf(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var c=b.text.length-1-(a.first-b.from.line);
pf(a,c);b={from:x(a.first,0),to:x(b.to.line+c,b.to.ch),text:[R(b.text)],origin:b.origin}}c=a.lastLine();b.to.line>c&&(b={from:b.from,to:x(c,I(a,c).text.length),text:[b.text[0]],origin:b.origin});b.removed=Va(a,b.from,b.to);f||(f=Ud(a,b));a.cm?rg(a.cm,b,e):Wd(a,b,e);od(a,f,xb)}}function rg(a,b,f){var e=a.doc,c=a.display,d=b.from,g=b.to,h=!1,k=d.line;a.options.lineWrapping||(k=Y(Qa(I(e,d.line))),e.iter(k,g.line+1,function(a){if(a==c.maxLine)return h=!0}));-1<e.sel.contains(b.from,b.to)&&lb(a);Wd(e,
b,f,De(a));a.options.lineWrapping||(e.iter(k,d.line+b.text.length,function(a){var b=ya(a);b>c.maxLineLength&&(c.maxLine=a,c.maxLineLength=b,c.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0));e.frontier=Math.min(e.frontier,d.line);Ic(a,400);f=b.text.length-(g.line-d.line)-1;b.full?Sa(a):d.line!=g.line||1!=b.text.length||Xe(a.doc,b)?Sa(a,d.line,g.line+1,f):Mb(a,d.line,"text");f=Ma(a,"changes");if((e=Ma(a,"change"))||f)b={from:d,to:g,text:b.text,removed:b.removed,origin:b.origin},e&&Ka(a,"change",
a,b),f&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(b);a.display.selForContextMenu=null}function qc(a,b,f,e,c){e||(e=f);if(0>B(e,f)){var d=e;e=f;f=d}"string"==typeof b&&(b=a.splitLines(b));pc(a,{from:f,to:e,text:b,origin:c})}function qf(a,b,f,e){f<a.line?a.line+=e:b<a.line&&(a.line=b,a.ch=0)}function rf(a,b,f,e){for(var c=0;c<a.length;++c){var d=a[c],g=!0;if(d.ranges)for(d.copied||(d=a[c]=d.deepCopy(),d.copied=!0),g=0;g<d.ranges.length;g++)qf(d.ranges[g].anchor,b,f,e),qf(d.ranges[g].head,b,
f,e);else{for(var h=0;h<d.changes.length;++h){var k=d.changes[h];if(f<k.from.line)k.from=x(k.from.line+e,k.from.ch),k.to=x(k.to.line+e,k.to.ch);else if(b<=k.to.line){g=!1;break}}g||(a.splice(0,c+1),c=0)}}}function of(a,b){var f=b.from.line,e=b.to.line,c=b.text.length-(e-f)-1;rf(a.done,f,e,c);rf(a.undone,f,e,c)}function Nc(a,b,f,e){var c=b,d=b;"number"==typeof b?d=I(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):c=Y(b);if(null==c)return null;e(d,c)&&a.cm&&Mb(a.cm,c,f);return d}function sg(a,b,f,
e){var c=new Oc(a,f,e),d=a.cm;d&&c.noHScroll&&(d.display.alignWidgets=!0);Nc(a,b,"widget",function(b){var f=b.widgets||(b.widgets=[]);null==c.insertAt?f.push(c):f.splice(Math.min(f.length-1,Math.max(0,c.insertAt)),0,c);c.line=b;d&&!fb(a,b)&&(f=Aa(b)<a.scrollTop,ga(b,b.height+Bc(c)),f&&gd(d,c.height),d.curOp.forceUpdate=!0);return!0});Ka(d,"lineWidgetAdded",d,c,"number"==typeof b?b:Y(b));return c}function rc(a,b,f,e,c){if(e&&e.shared)return tg(a,b,f,e,c);if(a.cm&&!a.cm.curOp)return Fa(a.cm,rc)(a,b,
f,e,c);var d=new Ob(a,c);c=B(b,f);e&&E(e,d,!1);if(0<c||0==c&&!1!==d.clearWhenEmpty)return d;d.replacedWith&&(d.collapsed=!0,d.widgetNode=L("span",[d.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||d.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(d.widgetNode.insertLeft=!0));if(d.collapsed){if(jb(a,b.line,b,f,d)||b.line!=f.line&&jb(a,f.line,b,f,d))throw Error("Inserting collapsed marker partially overlapping an existing one");Kb=!0}d.addToHistory&&bf(a,{from:b,to:f,origin:"markText"},
a.sel,NaN);var g=b.line,h=a.cm,k;a.iter(g,f.line+1,function(a){h&&d.collapsed&&!h.options.lineWrapping&&Qa(a)==h.display.maxLine&&(k=!0);d.collapsed&&g!=b.line&&ga(a,0);var e=new xa(d,g==b.line?b.ch:null,g==f.line?f.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([e]):[e];e.marker.attachLine(a);++g});d.collapsed&&a.iter(b.line,f.line+1,function(b){fb(a,b)&&ga(b,0)});d.clearOnEnter&&O(d,"beforeCursorEnter",function(){return d.clear()});d.readOnly&&(mf=!0,(a.history.done.length||a.history.undone.length)&&
a.clearHistory());d.collapsed&&(d.id=++sf,d.atomic=!0);if(h){k&&(h.curOp.updateMaxLine=!0);if(d.collapsed)Sa(h,b.line,f.line+1);else if(d.className||d.title||d.startStyle||d.endStyle||d.css)for(e=b.line;e<=f.line;e++)Mb(h,e,"text");d.atomic&&hf(h.doc);Ka(h,"markerAdded",h,d)}return d}function tg(a,b,f,e,c){e=E(e);e.shared=!1;var d=[rc(a,b,f,e,c)],g=d[0],h=e.widgetNode;$b(a,function(a){h&&(e.widgetNode=h.cloneNode(!0));d.push(rc(a,u(a,b),u(a,f),e,c));for(var k=0;k<a.linked.length;++k)if(a.linked[k].isParent)return;
g=R(d)});return new Pc(d,g)}function tf(a){return a.findMarks(x(a.first,0),a.clipPos(x(a.lastLine())),function(a){return a.parent})}function ug(a){for(var b=function(b){b=a[b];var f=[b.primary.doc];$b(b.primary.doc,function(a){return f.push(a)});for(var c=0;c<b.markers.length;c++){var d=b.markers[c];-1==m(f,d.doc)&&(d.parent=null,b.markers.splice(c--,1))}},f=0;f<a.length;f++)b(f)}function vg(a){var b=this;uf(b);if(!na(b,a)&&!Gb(b.display,a)){fa(a);aa&&(vf=+new Date);var f=Xb(b,a,!0),e=a.dataTransfer.files;
if(f&&!b.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var c=e.length,d=Array(c),g=0,h=function(a,e){if(!b.options.allowDropFileTypes||-1!=m(b.options.allowDropFileTypes,a.type)){var h=new FileReader;h.onload=Fa(b,function(){var a=h.result;/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a="");d[e]=a;++g==c&&(f=u(b.doc,f),a={from:f,to:f,text:b.doc.splitLines(d.join(b.doc.lineSeparator())),origin:"paste"},pc(b.doc,a),ef(b.doc,Hb(f,Nb(a))))});h.readAsText(a)}},k=0;k<c;++k)h(e[k],k);else if(b.state.draggingText&&
-1<b.doc.sel.contains(f))b.state.draggingText(a),setTimeout(function(){return b.display.input.focus()},20);else try{if(h=a.dataTransfer.getData("Text")){b.state.draggingText&&!b.state.draggingText.copy&&(k=b.listSelections());od(b.doc,Hb(f,f));if(k)for(e=0;e<k.length;++e)qc(b.doc,"",k[e].anchor,k[e].head,"drag");b.replaceSelection(h,"around","paste");b.display.input.focus()}}catch(r){}}}function uf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=
null)}function wf(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),f=0;f<b.length;f++){var e=b[f].CodeMirror;e&&a(e)}}function wg(){var a;O(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;wf(xg)},100))});O(window,"blur",function(){return wf(Fc)})}function xg(a){var b=a.display;if(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=
!1,a.setSize()}function yg(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var f,e,c,d,g=0;g<b.length-1;g++){var h=b[g];if(/^(cmd|meta|m)$/i.test(h))d=!0;else if(/^a(lt)?$/i.test(h))f=!0;else if(/^(c|ctrl|control)$/i.test(h))e=!0;else if(/^s(hift)?$/i.test(h))c=!0;else throw Error("Unrecognized modifier name: "+h);}f&&(a="Alt-"+a);e&&(a="Ctrl-"+a);d&&(a="Cmd-"+a);c&&(a="Shift-"+a);return a}function zg(a){var b={},f;for(f in a)if(a.hasOwnProperty(f)){var e=a[f];if(!/^(name|fallthrough|(de|at)tach)$/.test(f)){if("..."!=
e)for(var c=K(f.split(" "),yg),d=0;d<c.length;d++){var g=void 0,h=void 0;d==c.length-1?(h=c.join(" "),g=e):(h=c.slice(0,d+1).join(" "),g="...");var k=b[h];if(!k)b[h]=g;else if(k!=g)throw Error("Inconsistent bindings for "+h);}delete a[f]}}for(var r in b)a[r]=b[r];return a}function sc(a,b,f,e){b=qd(b);var c=b.call?b.call(a,e):b[a];if(!1===c)return"nothing";if("..."===c)return"multi";if(null!=c&&f(c))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return sc(a,
b.fallthrough,f,e);for(c=0;c<b.fallthrough.length;c++){var d=sc(a,b.fallthrough[c],f,e);if(d)return d}}}function xf(a){a="string"==typeof a?a:Pb[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function yf(a,b){if(ob&&34==a.keyCode&&a["char"])return!1;var f=Pb[a.keyCode],e=f;if(null==e||a.altGraphKey)return!1;a.altKey&&"Alt"!=f&&(e="Alt-"+e);(zf?a.metaKey:a.ctrlKey)&&"Ctrl"!=f&&(e="Ctrl-"+e);(zf?a.ctrlKey:a.metaKey)&&"Cmd"!=f&&(e="Cmd-"+e);!b&&a.shiftKey&&"Shift"!=f&&(e="Shift-"+e);return e}
function qd(a){return"string"==typeof a?Qc[a]:a}function tc(a,b){for(var f=a.doc.sel.ranges,e=[],c=0;c<f.length;c++){for(var d=b(f[c]);e.length&&0>=B(d.from,R(e).to);){var g=e.pop();if(0>B(g.from,d.from)){d.from=g.from;break}}e.push(d)}Za(a,function(){for(var b=e.length-1;0<=b;b--)qc(a.doc,"",e[b].from,e[b].to,"+delete");ic(a)})}function Af(a,b){var f=I(a.doc,b),e=Qa(f);e!=f&&(b=Y(e));return Ia(!0,a,e,b,1)}function Bf(a,b){var f=Af(a,b.line),e=I(a.doc,f.line),c=ab(e,a.doc.direction);return c&&0!=
c[0].level?f:(e=Math.max(0,e.text.search(/\S/)),x(f.line,b.line==f.line&&b.ch<=e&&b.ch?0:e,f.sticky))}function rd(a,b,f){if("string"==typeof b&&(b=sd[b],!b))return!1;a.display.input.ensurePolled();var e=a.display.shift,c=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),f&&(a.display.shift=!1),c=b(a)!=$d}finally{a.display.shift=e,a.state.suppressEdits=!1}return c}function Ag(a,b,f){for(var e=0;e<a.state.keyMaps.length;e++){var c=sc(b,a.state.keyMaps[e],f,a);if(c)return c}return a.options.extraKeys&&
sc(b,a.options.extraKeys,f,a)||sc(b,a.options.keyMap,f,a)}function td(a,b,f,e){var c=a.state.keySeq;if(c){if(xf(b))return"handled";Bg.set(50,function(){a.state.keySeq==c&&(a.state.keySeq=null,a.display.input.reset())});b=c+" "+b}e=Ag(a,b,e);"multi"==e&&(a.state.keySeq=b);"handled"==e&&Ka(a,"keyHandled",a,b,f);if("handled"==e||"multi"==e)fa(f),Ld(a);return c&&!e&&/\'$/.test(b)?(fa(f),!0):!!e}function Cf(a,b){var f=yf(b,!0);return f?b.shiftKey&&!a.state.keySeq?td(a,"Shift-"+f,b,function(b){return rd(a,
b,!0)})||td(a,f,b,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return rd(a,b)}):td(a,f,b,function(b){return rd(a,b)}):!1}function Cg(a,b,f){return td(a,"'"+f+"'",b,function(b){return rd(a,b,!0)})}function Df(a){this.curOp.focus=ca();if(!na(this,a)){aa&&11>pa&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var f=Cf(this,a);ob&&(ae=f?b:null,!f&&88==b&&!Ef&&(mb?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||
Dg(this)}}function Dg(a){function b(a){18!=a.keyCode&&a.altKey||(Yb(f,"CodeMirror-crosshair"),Ba(document,"keyup",b),Ba(document,"mouseover",b))}var f=a.display.lineDiv;la(f,"CodeMirror-crosshair");O(document,"keyup",b);O(document,"mouseover",b)}function Ff(a){16==a.keyCode&&(this.doc.sel.shift=!1);na(this,a)}function Gf(a){if(!(Gb(this.display,a)||na(this,a)||a.ctrlKey&&!a.altKey||mb&&a.metaKey)){var b=a.keyCode,f=a.charCode;if(ob&&b==ae)ae=null,fa(a);else if(!ob||a.which&&!(10>a.which)||!Cf(this,
a))if(b=String.fromCharCode(null==f?b:f),"\b"!=b&&!Cg(this,a,b))this.display.input.onKeyPress(a)}}function Eg(a){var b=this.display;if(!(na(this,a)||b.activeTouch&&b.input.supportsTouch()))if(b.input.ensurePolled(),b.shift=a.shiftKey,Gb(b,a))Ha||(b.scroller.draggable=!1,setTimeout(function(){return b.scroller.draggable=!0},100));else if(!be(this,a,"gutterClick",!0)){var f=Xb(this,a);window.focus();switch(Ja(a)){case 1:this.state.selectingText?this.state.selectingText(a):f?Fg(this,a,f):(a.target||
a.srcElement)==b.scroller&&fa(a);break;case 2:Ha&&(this.state.lastMiddleDown=+new Date);f&&nd(this.doc,f);setTimeout(function(){return b.input.focus()},20);fa(a);break;case 3:ce?Hf(this,a):He(this)}}}function Fg(a,b,f){aa?setTimeout(w(Ge,a),0):a.curOp.focus=ca();var e=+new Date,c;ud&&ud.time>e-400&&0==B(ud.pos,f)?c="triple":vd&&vd.time>e-400&&0==B(vd.pos,f)?(c="double",ud={time:e,pos:f}):(c="single",vd={time:e,pos:f});var e=a.doc.sel,d=mb?b.metaKey:b.ctrlKey,g;a.options.dragDrop&&Gg&&!a.isReadOnly()&&
"single"==c&&-1<(g=e.contains(f))&&(0>B((g=e.ranges[g]).from(),f)||0<f.xRel)&&(0<B(g.to(),f)||0>f.xRel)?Hg(a,b,f,d):Ig(a,b,f,c,d)}function Hg(a,b,f,e){var c=a.display,d=!1,g=Fa(a,function(b){Ha&&(c.scroller.draggable=!1);a.state.draggingText=!1;Ba(document,"mouseup",g);Ba(document,"mousemove",h);Ba(c.scroller,"dragstart",k);Ba(c.scroller,"drop",g);d||(fa(b),e||nd(a.doc,f),Ha||aa&&9==pa?setTimeout(function(){document.body.focus();c.input.focus()},20):c.input.focus())}),h=function(a){d=d||10<=Math.abs(b.clientX-
a.clientX)+Math.abs(b.clientY-a.clientY)},k=function(){return d=!0};Ha&&(c.scroller.draggable=!0);a.state.draggingText=g;g.copy=mb?b.altKey:b.ctrlKey;c.scroller.dragDrop&&c.scroller.dragDrop();O(document,"mouseup",g);O(document,"mousemove",h);O(c.scroller,"dragstart",k);O(c.scroller,"drop",g);He(a);setTimeout(function(){return c.input.focus()},20)}function Ig(a,b,f,e,c){function d(b){if(0!=B(y,b))if(y=b,"rect"==e){for(var c=[],l=a.options.tabSize,g=s(I(r,f.line).text,f.ch,l),h=s(I(r,b.line).text,
b.ch,l),k=Math.min(g,h),g=Math.max(g,h),h=Math.min(f.line,b.line),t=Math.min(a.lastLine(),Math.max(f.line,b.line));h<=t;h++){var A=I(r,h).text,oa=D(A,k,l);k==g?c.push(new ha(x(h,oa),x(h,oa))):A.length>oa&&c.push(new ha(x(h,oa),x(h,D(A,g,l))))}c.length||c.push(new ha(f,f));La(r,pb(n.ranges.slice(0,v).concat(c),v),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else k=m,c=k.anchor,l=b,"single"!=e&&(b="double"==e?a.findWordAt(b):new ha(x(b.line,0),u(r,x(b.line+1,0))),0<B(b.anchor,c)?(l=b.head,c=$(k.from(),
b.anchor)):(l=b.anchor,c=Xa(k.to(),b.head))),b=n.ranges.slice(0),b[v]=new ha(u(r,c),l),La(r,pb(b,v),de)}function g(b){var f=++w,c=Xb(a,b,!0,"rect"==e);if(c)if(0!=B(c,y)){a.curOp.focus=ca();d(c);var l=Nd(k,r);(c.line>=l.to||c.line<l.from)&&setTimeout(Fa(a,function(){w==f&&g(b)}),150)}else{var h=b.clientY<z.top?-20:b.clientY>z.bottom?20:0;h&&setTimeout(Fa(a,function(){w==f&&(k.scroller.scrollTop+=h,g(b))}),50)}}function h(b){a.state.selectingText=!1;w=Infinity;fa(b);k.input.focus();Ba(document,"mousemove",
za);Ba(document,"mouseup",q);r.history.lastSelOrigin=null}var k=a.display,r=a.doc;fa(b);var m,v,n=r.sel,p=n.ranges;c&&!b.shiftKey?(v=r.sel.contains(f),m=-1<v?p[v]:new ha(f,f)):(m=r.sel.primary(),v=r.sel.primIndex);if(Jg?b.shiftKey&&b.metaKey:b.altKey)e="rect",c||(m=new ha(f,f)),f=Xb(a,b,!0,!0),v=-1;else if("double"==e){var E=a.findWordAt(f);m=a.display.shift||r.extend?Lc(r,m,E.anchor,E.head):E}else"triple"==e?(E=new ha(x(f.line,0),u(r,x(f.line+1,0))),m=a.display.shift||r.extend?Lc(r,m,E.anchor,E.head):
E):m=Lc(r,m,f);c?-1==v?(v=p.length,La(r,pb(p.concat([m]),v),{scroll:!1,origin:"*mouse"})):1<p.length&&p[v].empty()&&"single"==e&&!b.shiftKey?(La(r,pb(p.slice(0,v).concat(p.slice(v+1)),0),{scroll:!1,origin:"*mouse"}),n=r.sel):Yd(r,v,m,de):(v=0,La(r,new db([m],0),de),n=r.sel);var y=f,z=k.wrapper.getBoundingClientRect(),w=0,za=Fa(a,function(a){Ja(a)?g(a):h(a)}),q=Fa(a,h);a.state.selectingText=q;O(document,"mousemove",za);O(document,"mouseup",q)}function be(a,b,f,c){var d,g;try{d=b.clientX,g=b.clientY}catch(h){return!1}if(d>=
Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;c&&fa(b);c=a.display;var k=c.lineDiv.getBoundingClientRect();if(g>k.bottom||!Ma(a,f))return H(b);g-=k.top-c.viewOffset;for(k=0;k<a.options.gutters.length;++k){var t=c.gutters.childNodes[k];if(t&&t.getBoundingClientRect().right>=d)return d=Wa(a.doc,g),ma(a,f,a,d,a.options.gutters[k],b),H(b)}}function Hf(a,b){var f;(f=Gb(a.display,b))||(f=Ma(a,"gutterContextMenu")?be(a,b,"gutterContextMenu",!1):!1);if(!f&&!na(a,b,"contextmenu"))a.display.input.onContextMenu(b)}
function If(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Dc(a)}function Rc(a){Se(a);Sa(a);Je(a)}function Kg(a,b,f){!b!=!(f&&f!=uc)&&(f=a.display.dragFunctions,b=b?O:Ba,b(a.display.scroller,"dragstart",f.start),b(a.display.scroller,"dragenter",f.enter),b(a.display.scroller,"dragover",f.over),b(a.display.scroller,"dragleave",f.leave),b(a.display.scroller,"drop",f.drop))}function Lg(a){a.options.lineWrapping?(la(a.display.wrapper,
"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Yb(a.display.wrapper,"CodeMirror-wrap"),da(a));Kd(a);Sa(a);Dc(a);setTimeout(function(){return jc(a)},100)}function ra(a,b){var f=this;if(!(this instanceof ra))return new ra(a,b);this.options=b=b?E(b):{};E(Jf,b,!1);Td(b);var c=b.value;"string"==typeof c&&(c=new Ta(c,b.mode,null,b.lineSeparator,b.direction));this.doc=c;var d=new ra.inputStyles[b.inputStyle](this),d=this.display=new ib(a,c,d);d.wrapper.CodeMirror=this;Se(this);
If(this);b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Oe(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ac,keySeq:null,specialChars:null};b.autofocus&&!xc&&d.input.focus();aa&&11>pa&&setTimeout(function(){return f.display.input.reset(!0)},20);Mg(this);Kf||(wg(),Kf=!0);kc(this);this.curOp.forceUpdate=!0;Ye(this,c);b.autofocus&&!xc||
this.hasFocus()?setTimeout(w(Md,this),20):Fc(this);for(var g in wd)if(wd.hasOwnProperty(g))wd[g](f,b[g],uc);Ke(this);b.finishInit&&b.finishInit(this);for(c=0;c<ee.length;++c)ee[c](f);lc(this);Ha&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(d.lineDiv).textRendering&&(d.lineDiv.style.textRendering="auto")}function Mg(a){function b(){e.activeTouch&&(d=setTimeout(function(){return e.activeTouch=null},1E3),g=e.activeTouch,g.end=+new Date)}function c(a,b){if(null==b.left)return!0;var f=b.left-
a.left,e=b.top-a.top;return 400<f*f+e*e}var e=a.display;O(e.scroller,"mousedown",Fa(a,Eg));aa&&11>pa?O(e.scroller,"dblclick",Fa(a,function(b){if(!na(a,b)){var c=Xb(a,b);!c||be(a,b,"gutterClick",!0)||Gb(a.display,b)||(fa(b),b=a.findWordAt(c),nd(a.doc,b.anchor,b.head))}})):O(e.scroller,"dblclick",function(b){return na(a,b)||fa(b)});ce||O(e.scroller,"contextmenu",function(b){return Hf(a,b)});var d,g={end:0};O(e.scroller,"touchstart",function(b){var c;if(c=!na(a,b))1!=b.touches.length?c=!1:(c=b.touches[0],
c=1>=c.radiusX&&1>=c.radiusY),c=!c;c&&(e.input.ensurePolled(),clearTimeout(d),c=+new Date,e.activeTouch={start:c,moved:!1,prev:300>=c-g.end?g:null},1==b.touches.length&&(e.activeTouch.left=b.touches[0].pageX,e.activeTouch.top=b.touches[0].pageY))});O(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)});O(e.scroller,"touchend",function(d){var l=e.activeTouch;if(l&&!Gb(e,d)&&null!=l.left&&!l.moved&&300>new Date-l.start){var g=a.coordsChar(e.activeTouch,"page"),l=!l.prev||c(l,
l.prev)?new ha(g,g):!l.prev.prev||c(l,l.prev.prev)?a.findWordAt(g):new ha(x(g.line,0),u(a.doc,x(g.line+1,0)));a.setSelection(l.anchor,l.head);a.focus();fa(d)}b()});O(e.scroller,"touchcancel",b);O(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Hc(a,e.scroller.scrollTop),Zb(a,e.scroller.scrollLeft,!0),ma(a,"scroll",a))});O(e.scroller,"mousewheel",function(b){return Ue(a,b)});O(e.scroller,"DOMMouseScroll",function(b){return Ue(a,b)});O(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=
e.wrapper.scrollLeft=0});e.dragFunctions={enter:function(b){na(a,b)||Na(b)},over:function(b){if(!na(a,b)){var c=Xb(a,b);if(c){var f=document.createDocumentFragment();Fe(a,c,f);a.display.dragCursor||(a.display.dragCursor=q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));ba(a.display.dragCursor,f)}Na(b)}},start:function(b){if(aa&&(!a.state.draggingText||100>+new Date-vf))Na(b);else if(!na(a,b)&&!Gb(a.display,b)&&(b.dataTransfer.setData("Text",
a.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!Lf)){var c=q("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";ob&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);ob&&c.parentNode.removeChild(c)}},drop:Fa(a,vg),leave:function(b){na(a,b)||uf(a)}};var h=e.input.getField();O(h,"keyup",function(b){return Ff.call(a,b)});
O(h,"keydown",Fa(a,Df));O(h,"keypress",Fa(a,Gf));O(h,"focus",function(b){return Md(a,b)});O(h,"blur",function(b){return Fc(a,b)})}function Sc(a,b,c,e){var d=a.doc,g;null==c&&(c="add");"smart"==c&&(d.mode.indent?g=p(a,b):c="prev");var h=a.options.tabSize,k=I(d,b),r=s(k.text,null,h);k.stateAfter&&(k.stateAfter=null);var m=k.text.match(/^\s*/)[0],v;if(!e&&!/\S/.test(k.text))v=0,c="not";else if("smart"==c&&(v=d.mode.indent(g,k.text.slice(m.length),k.text),v==$d||150<v)){if(!e)return;c="prev"}"prev"==
c?v=b>d.first?s(I(d,b-1).text,null,h):0:"add"==c?v=r+a.options.indentUnit:"subtract"==c?v=r-a.options.indentUnit:"number"==typeof c&&(v=r+c);v=Math.max(0,v);c="";e=0;if(a.options.indentWithTabs)for(a=Math.floor(v/h);a;--a)e+=h,c+="\t";e<v&&(c+=Ua(v-e));if(c!=m)return qc(d,c,x(b,0),x(b,m.length),"+input"),k.stateAfter=null,!0;for(h=0;h<d.sel.ranges.length;h++)if(k=d.sel.ranges[h],k.head.line==b&&k.head.ch<m.length){b=x(b,m.length);Yd(d,h,new ha(b,b));break}}function Mf(a){$a=a}function fe(a,b,c,e,
d){var g=a.doc;a.display.shift=!1;e||(e=g.sel);var h=a.state.pasteIncoming||"paste"==d,k=ge(b),r=null;if(h&&1<e.ranges.length)if($a&&$a.text.join("\n")==b){if(0==e.ranges.length%$a.text.length)for(var r=[],m=0;m<$a.text.length;m++)r.push(g.splitLines($a.text[m]))}else k.length==e.ranges.length&&(r=K(k,function(a){return[a]}));for(var v,m=e.ranges.length-1;0<=m;m--){v=e.ranges[m];var n=v.from(),p=v.to();v.empty()&&(c&&0<c?n=x(n.line,n.ch-c):a.state.overwrite&&!h?p=x(p.line,Math.min(I(g,p.line).text.length,
p.ch+R(k).length)):$a&&$a.lineWise&&$a.text.join("\n")==b&&(n=p=x(n.line,0)));v=a.curOp.updateInput;n={from:n,to:p,text:r?r[m%r.length]:k,origin:d||(h?"paste":a.state.cutIncoming?"cut":"+input")};pc(a.doc,n);Ka(a,"inputRead",a,n)}b&&!h&&Nf(a,b);ic(a);a.curOp.updateInput=v;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function Of(a,b){var c=a.clipboardData&&a.clipboardData.getData("Text");if(c)return a.preventDefault(),b.isReadOnly()||b.options.disableInput||Za(b,function(){return fe(b,
c,0,null,"paste")}),!0}function Nf(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,e=c.ranges.length-1;0<=e;e--){var d=c.ranges[e];if(!(100<d.head.ch||e&&c.ranges[e-1].head.line==d.head.line)){var g=a.getModeAt(d.head),h=!1;if(g.electricChars)for(var k=0;k<g.electricChars.length;k++){if(-1<b.indexOf(g.electricChars.charAt(k))){h=Sc(a,d.head.line,"smart");break}}else g.electricInput&&g.electricInput.test(I(a.doc,d.head.line).text.slice(0,d.head.ch))&&(h=Sc(a,d.head.line,
"smart"));h&&Ka(a,"electricInput",a,d.head.line)}}}function Pf(a){for(var b=[],c=[],e=0;e<a.doc.sel.ranges.length;e++){var d=a.doc.sel.ranges[e].head.line,d={anchor:x(d,0),head:x(d+1,0)};c.push(d);b.push(a.getRange(d.anchor,d.head))}return{text:b,ranges:c}}function Qf(a,b){a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck",!!b)}function Rf(){var a=q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
b=q("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ha?a.style.width="1000px":a.setAttribute("wrap","off");Tc&&(a.style.border="1px solid black");Qf(a);return b}function he(a,b,c,e,d){function g(e){var h;h=d?Eb(a.cm,r,b,c):bb(r,b,c);if(null==h){if(e=!e)e=b.line+c,e<a.first||e>=a.first+a.size?e=!1:(b=new x(e,b.ch,b.sticky),e=r=I(a,e));if(e)b=Ia(d,a.cm,r,b.line,c);else return!1}else b=h;return!0}var h=b,k=c,r=I(a,b.line);if("char"==e)g();else if("column"==e)g(!0);else if("word"==
e||"group"==e){var m=null;e="group"==e;for(var v=a.cm&&a.cm.getHelper(b,"wordChars"),n=!0;!(0>c)||g(!n);n=!1){var p=r.text.charAt(b.ch)||"\n",p=Da(p,v)?"w":e&&"\n"==p?"n":!e||/\s/.test(p)?null:"p";!e||n||p||(p="s");if(m&&m!=p){0>c&&(c=1,g(),b.sticky="after");break}p&&(m=p);if(0<c&&!g(!n))break}}k=Zd(a,b,h,k,!0);ta(h,k)&&(k.hitSide=!0);return k}function Sf(a,b,c,e){var d=a.doc,g=b.left,h;"page"==e?(e=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),
e=Math.max(e-0.5*Vb(a.display),3),h=(0<c?b.bottom:b.top)+c*e):"line"==e&&(h=0<c?b.bottom+3:b.top-3);for(var k;;){k=Id(a,g,h);if(!k.outside)break;if(0>c?0>=h:h>=d.height){k.hitSide=!0;break}h+=5*c}return k}function Tf(a,b){var c=Fd(a,b.line);if(!c||c.hidden)return null;var e=I(a.doc,b.line),c=ue(c,e,b.line),e=ab(e,a.doc.direction),d="left";e&&(d=Ya(e,b.ch)%2?"right":"left");c=ve(c.map,b.ch,d);c.offset="right"==c.collapse?c.end:c.start;return c}function Ng(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function vc(a,b){b&&(a.bad=!0);return a}function Og(a,b,c,e,d){function g(a){return function(b){return b.id==a}}function h(a){a&&(m&&(r+=v,m=!1),r+=a)}function k(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)h(c||b.textContent.replace(/\u200b/g,""));else{var c=b.getAttribute("cm-marker"),f;if(c)b=a.findMarks(x(e,0),x(d+1,0),g(+c)),b.length&&(f=b[0].find())&&h(Va(a.doc,f.from,f.to).join(v));else if("false"!=b.getAttribute("contenteditable")){(f=/^(pre|div|p)$/i.test(b.nodeName))&&
m&&(r+=v,m=!1);for(c=0;c<b.childNodes.length;c++)k(b.childNodes[c]);f&&(m=!0)}}}else 3==b.nodeType&&h(b.nodeValue)}for(var r="",m=!1,v=a.doc.lineSeparator();;){k(b);if(b==c)break;b=b.nextSibling}return r}function xd(a,b,c){var e;if(b==a.display.lineDiv){e=a.display.lineDiv.childNodes[c];if(!e)return vc(a.clipPos(x(a.display.viewTo-1)),!0);b=null;c=0}else for(e=b;;e=e.parentNode){if(!e||e==a.display.lineDiv)return null;if(e.parentNode&&e.parentNode==a.display.lineDiv)break}for(var d=0;d<a.display.view.length;d++){var g=
a.display.view[d];if(g.node==e)return Pg(g,b,c)}}function Pg(a,b,c){function e(b,c,e){for(var f=-1;f<(m?m.length:0);f++)for(var d=0>f?r.map:m[f],l=0;l<d.length;l+=3){var g=d[l+2];if(g==b||g==c){c=Y(0>f?a.line:a.rest[f]);f=d[l]+e;if(0>e||g!=b)f=d[l+(e?1:0)];return x(c,f)}}}var d=a.text.firstChild,g=!1;if(!b||!ea(d,b))return vc(x(Y(a.line),0),!0);if(b==d&&(g=!0,b=d.childNodes[c],c=0,!b))return c=a.rest?R(a.rest):a.line,vc(x(Y(c),c.text.length),g);var h=3==b.nodeType?b:null,k=b;h||1!=b.childNodes.length||
3!=b.firstChild.nodeType||(h=b.firstChild,c&&(c=h.nodeValue.length));for(;k.parentNode!=d;)k=k.parentNode;var r=a.measure,m=r.maps;if(b=e(h,k,c))return vc(b,g);d=k.nextSibling;for(h=h?h.nodeValue.length-c:0;d;d=d.nextSibling){if(b=e(d,d.firstChild,0))return vc(x(b.line,b.ch-h),g);h+=d.textContent.length}for(k=k.previousSibling;k;k=k.previousSibling){if(b=e(k,k.firstChild,-1))return vc(x(b.line,b.ch+c),g);c+=k.textContent.length}}var Pa=navigator.userAgent,Uf=navigator.platform,Jb=/gecko\/\d/i.test(Pa),
Vf=/MSIE \d/.test(Pa),Wf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pa),Uc=/Edge\/(\d+)/.exec(Pa),aa=Vf||Wf||Uc,pa=aa&&(Vf?document.documentMode||6:+(Uc||Wf)[1]),Ha=!Uc&&/WebKit\//.test(Pa),Qg=Ha&&/Qt\/\d+\.\d+/.test(Pa),cd=!Uc&&/Chrome\//.test(Pa),ob=/Opera\//.test(Pa),Lf=/Apple Computer/.test(navigator.vendor),Rg=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Pa),kg=/PhantomJS/.test(Pa),Tc=!Uc&&/AppleWebKit/.test(Pa)&&/Mobile\/\w+/.test(Pa),dd=/Android/.test(Pa),xc=Tc||dd||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Pa),
mb=Tc||/Mac/.test(Uf),Jg=/\bCrOS\b/.test(Pa),Sg=/win/i.test(Uf),bc=ob&&Pa.match(/Version\/(\d*\.\d*)/);bc&&(bc=Number(bc[1]));bc&&15<=bc&&(ob=!1,Ha=!0);var zf=mb&&(Qg||ob&&(null==bc||12.11>bc)),ce=Jb||aa&&9<=pa,Yb=function(a,b){var c=a.className,e=C(b).exec(c);if(e){var d=c.slice(e.index+e[0].length);a.className=c.slice(0,e.index)+(d?e[1]+d:"")}},gc;gc=document.createRange?function(a,b,c,e){var d=document.createRange();d.setEnd(e||a,c);d.setStart(a,b);return d}:function(a,b,c){var e=document.body.createTextRange();
try{e.moveToElementText(a.parentNode)}catch(d){return e}e.collapse(!0);e.moveEnd("character",c);e.moveStart("character",b);return e};var wc=function(a){a.select()};Tc?wc=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:aa&&(wc=function(a){try{a.select()}catch(b){}});var ac=function(){this.id=null};ac.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var ie=30,$d={toString:function(){return"CodeMirror.Pass"}},xb={scroll:!1},de={origin:"*mouse"},Vc={origin:"+move"},
$c=[""],Xf=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Yf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
mf=!1,Kb=!1,yc=null,Zf=function(){function a(a){return 247>=a?c.charAt(a):1424<=a&&1524>=a?"R":1536<=a&&1785>=a?e.charAt(a-1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a;this.from=b;this.to=c}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",
d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,h=/[LRr]/,k=/[Lb1n]/,r=/[1n]/;return function(c,e){var f="ltr"==e?"L":"R";if(0==c.length||"ltr"==e&&!d.test(c))return!1;for(var m=c.length,v=[],n=0;n<m;++n)v.push(a(c.charCodeAt(n)));for(var n=0,p=f;n<m;++n){var s=v[n];"m"==s?v[n]=p:p=s}n=0;for(p=f;n<m;++n)s=v[n],"1"==s&&"r"==p?v[n]="n":h.test(s)&&(p=s,"r"==s&&(v[n]="R"));n=1;for(p=v[0];n<m-1;++n)s=v[n],"+"==s&&"1"==p&&"1"==v[n+1]?v[n]="1":","!=s||p!=v[n+1]||"1"!=p&&"n"!=p||(v[n]=p),p=s;for(n=
0;n<m;++n)if(p=v[n],","==p)v[n]="N";else if("%"==p){p=void 0;for(p=n+1;p<m&&"%"==v[p];++p);for(s=n&&"!"==v[n-1]||p<m&&"1"==v[p]?"1":"N";n<p;++n)v[n]=s;n=p-1}n=0;for(p=f;n<m;++n)s=v[n],"L"==p&&"1"==s?v[n]="L":h.test(s)&&(p=s);for(p=0;p<m;++p)if(g.test(v[p])){n=void 0;for(n=p+1;n<m&&g.test(v[n]);++n);s="L"==(p?v[p-1]:f);for(s=s==("L"==(n<m?v[n]:f))?s?"L":"R":f;p<n;++p)v[p]=s;p=n-1}for(var f=[],E,n=0;n<m;)if(k.test(v[n])){p=n;for(++n;n<m&&k.test(v[n]);++n);f.push(new b(0,p,n))}else{var u=n,p=f.length;
for(++n;n<m&&"L"!=v[n];++n);for(s=u;s<n;)if(r.test(v[s])){u<s&&f.splice(p,0,new b(1,u,s));u=s;for(++s;s<n&&r.test(v[s]);++s);f.splice(p,0,new b(2,u,s));u=s}else++s;u<n&&f.splice(p,0,new b(1,u,n))}1==f[0].level&&(E=c.match(/^\s+/))&&(f[0].from=E[0].length,f.unshift(new b(0,0,E[0].length)));1==R(f).level&&(E=c.match(/\s+$/))&&(R(f).to-=E[0].length,f.push(new b(0,m-E[0].length,m)));return"rtl"==e?f.reverse():f}}(),ad=[],O=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+
b,c):(a=a._handlers||(a._handlers={}),a[b]=(a[b]||ad).concat(c))},Gg=function(){if(aa&&9>pa)return!1;var a=q("div");return"draggable"in a||"dragDrop"in a}(),zd,Bd,ge=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],e=a.length;b<=e;){var d=a.indexOf("\n",b);-1==d&&(d=a.length);var g=a.slice(b,"\r"==a.charAt(d-1)?d-1:d),h=g.indexOf("\r");-1!=h?(c.push(g.slice(0,h)),b+=h+1):(c.push(g),b=d+1)}return c}:function(a){return a.split(/\r\n?|\n/)},Tg=window.getSelection?function(a){try{return a.selectionStart!=
a.selectionEnd}catch(b){return!1}}:function(a){var b;try{b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Ef=function(){var a=q("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Hd=null,Ad={},ec={},fc={},Ea=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};Ea.prototype.eol=function(){return this.pos>=
this.string.length};Ea.prototype.sol=function(){return this.pos==this.lineStart};Ea.prototype.peek=function(){return this.string.charAt(this.pos)||void 0};Ea.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Ea.prototype.eat=function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b};Ea.prototype.eatWhile=function(a){for(var b=this.pos;this.eat(a););return this.pos>b};Ea.prototype.eatSpace=function(){for(var a=
this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a};Ea.prototype.skipToEnd=function(){this.pos=this.string.length};Ea.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};Ea.prototype.backUp=function(a){this.pos-=a};Ea.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=s(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-
(this.lineStart?s(this.string,this.lineStart,this.tabSize):0)};Ea.prototype.indentation=function(){return s(this.string,null,this.tabSize)-(this.lineStart?s(this.string,this.lineStart,this.tabSize):0)};Ea.prototype.match=function(a,b,c){if("string"==typeof a){var e=function(a){return c?a.toLowerCase():a},d=this.string.substr(this.pos,a.length);if(e(d)==e(a))return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);
return a}};Ea.prototype.current=function(){return this.string.slice(this.start,this.pos)};Ea.prototype.hideFirstChars=function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}};var mc=function(a,b,c){this.text=a;Bb(this,b);this.height=c?c(this):1};mc.prototype.lineNo=function(){return Y(this)};y(mc);var ag={},$f={},hc=null,zc=null,we={left:0,right:0,top:0,bottom:0},Wb,cc=function(a,b,c){this.cm=c;var e=this.vert=q("div",[q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),
d=this.horiz=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(e);a(d);O(e,"scroll",function(){e.clientHeight&&b(e.scrollTop,"vertical")});O(d,"scroll",function(){d.clientWidth&&b(d.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;aa&&8>pa&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};cc.prototype.update=function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,e=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=
b?e+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?e:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?e+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?e:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&
(0==e&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:c?e:0,bottom:b?e:0}};cc.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};cc.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};cc.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=
mb&&!Rg?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new ac;this.disableVert=new ac};cc.prototype.enableZeroWidthBar=function(a,b,c){function e(){var d=a.getBoundingClientRect();("vert"==c?document.elementFromPoint(d.right-1,(d.top+d.bottom)/2):document.elementFromPoint((d.right+d.left)/2,d.bottom-1))!=a?a.style.pointerEvents="none":b.set(1E3,e)}a.style.pointerEvents="auto";b.set(1E3,e)};cc.prototype.clear=function(){var a=this.horiz.parentNode;
a.removeChild(this.horiz);a.removeChild(this.vert)};var Wc=function(){};Wc.prototype.update=function(){return{bottom:0,right:0}};Wc.prototype.setScrollLeft=function(){};Wc.prototype.setScrollTop=function(){};Wc.prototype.clear=function(){};var Pe={"native":cc,"null":Wc},jg=0,id=function(a,b,c){var e=a.display;this.viewport=b;this.visible=Nd(e,a.doc,b);this.editorIsHidden=!e.wrapper.offsetWidth;this.wrapperHeight=e.wrapper.clientHeight;this.wrapperWidth=e.wrapper.clientWidth;this.oldDisplayWidth=Tb(a);
this.force=c;this.dims=Gd(a);this.events=[]};id.prototype.signal=function(a,b){Ma(a,b)&&this.events.push(arguments)};id.prototype.finish=function(){for(var a=0;a<this.events.length;a++)ma.apply(null,this.events[a])};var kd=0,cb=null;aa?cb=-0.53:Jb?cb=15:cd?cb=-0.7:Lf&&(cb=-1/3);var db=function(a,b){this.ranges=a;this.primIndex=b};db.prototype.primary=function(){return this.ranges[this.primIndex]};db.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=
this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],e=a.ranges[b];if(!ta(c.anchor,e.anchor)||!ta(c.head,e.head))return!1}return!0};db.prototype.deepCopy=function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new ha(N(this.ranges[b].anchor),N(this.ranges[b].head));return new db(a,this.primIndex)};db.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};db.prototype.contains=function(a,b){b||(b=
a);for(var c=0;c<this.ranges.length;c++){var e=this.ranges[c];if(0<=B(b,e.from())&&0>=B(a,e.to()))return c}return-1};var ha=function(a,b){this.anchor=a;this.head=b};ha.prototype.from=function(){return $(this.anchor,this.head)};ha.prototype.to=function(){return Xa(this.anchor,this.head)};ha.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};var Ib=function(a){this.lines=a;this.parent=null;for(var b=0,c=0;c<a.length;++c)a[c].parent=this,b+=a[c].height;
this.height=b};Ib.prototype.chunkSize=function(){return this.lines.length};Ib.prototype.removeInner=function(a,b){for(var c=a,e=a+b;c<e;++c){var d=this.lines[c];this.height-=d.height;var g=d;g.parent=null;ub(g);Ka(d,"delete")}this.lines.splice(a,b)};Ib.prototype.collapse=function(a){a.push.apply(a,this.lines)};Ib.prototype.insertInner=function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this};Ib.prototype.iterN=function(a,
b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0};var yb=function(a){this.children=a;for(var b=0,c=0,e=0;e<a.length;++e){var d=a[e],b=b+d.chunkSize(),c=c+d.height;d.parent=this}this.size=b;this.height=c;this.parent=null};yb.prototype.chunkSize=function(){return this.size};yb.prototype.removeInner=function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var e=this.children[c],d=e.chunkSize();if(a<d){var g=Math.min(b,d-a),h=e.height;e.removeInner(a,g);this.height-=h-e.height;d==g&&(this.children.splice(c--,
1),e.parent=null);if(0==(b-=g))break;a=0}else a-=d}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof Ib))&&(c=[],this.collapse(c),this.children=[new Ib(c)],this.children[0].parent=this)};yb.prototype.collapse=function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)};yb.prototype.insertInner=function(a,b,c){this.size+=b.length;this.height+=c;for(var e=0;e<this.children.length;++e){var d=this.children[e],g=d.chunkSize();if(a<=g){d.insertInner(a,b,c);if(d.lines&&
50<d.lines.length){for(b=a=d.lines.length%25+25;b<d.lines.length;)c=new Ib(d.lines.slice(b,b+=25)),d.height-=c.height,this.children.splice(++e,0,c),c.parent=this;d.lines=d.lines.slice(0,a);this.maybeSpill()}break}a-=g}};yb.prototype.maybeSpill=function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new yb(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=m(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new yb(a.children),c.parent=
a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}};yb.prototype.iterN=function(a,b,c){for(var e=0;e<this.children.length;++e){var d=this.children[e],g=d.chunkSize();if(a<g){g=Math.min(b,g-a);if(d.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=g}};var Oc=function(a,b,c){if(c)for(var e in c)c.hasOwnProperty(e)&&(this[e]=c[e]);this.doc=a;this.node=b};Oc.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,e=Y(c);if(null!=e&&b){for(var d=
0;d<b.length;++d)b[d]==this&&b.splice(d--,1);b.length||(c.widgets=null);var g=Bc(this);ga(c,Math.max(0,c.height-g));a&&(Za(a,function(){var b=-g;Aa(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&gd(a,b);Mb(a,e,"widget")}),Ka(a,"lineWidgetCleared",a,this,e))}};Oc.prototype.changed=function(){var a=this,b=this.height,c=this.doc.cm,e=this.line;this.height=null;var d=Bc(this)-b;d&&(ga(e,e.height+d),c&&Za(c,function(){c.curOp.forceUpdate=!0;Aa(e)<(c.curOp&&c.curOp.scrollTop||c.doc.scrollTop)&&gd(c,
d);Ka(c,"lineWidgetChanged",c,a,Y(e))}))};y(Oc);var sf=0,Ob=function(a,b){this.lines=[];this.type=b;this.doc=a;this.id=++sf};Ob.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&kc(a);if(Ma(this,"clear")){var c=this.find();c&&Ka(this,"clear",c.from,c.to)}for(var e=c=null,d=0;d<this.lines.length;++d){var g=this.lines[d],h=ua(g.markedSpans,this);a&&!this.collapsed?Mb(a,Y(g),"text"):a&&(null!=h.to&&(e=Y(g)),null!=h.from&&(c=Y(g)));for(var k=g,r=g.markedSpans,m=
h,v=void 0,n=0;n<r.length;++n)r[n]!=m&&(v||(v=[])).push(r[n]);k.markedSpans=v;null==h.from&&this.collapsed&&!fb(this.doc,g)&&a&&ga(g,Vb(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(d=0;d<this.lines.length;++d)g=Qa(this.lines[d]),h=ya(g),h>a.display.maxLineLength&&(a.display.maxLine=g,a.display.maxLineLength=h,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&Sa(a,c,e+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&hf(a.doc));
a&&Ka(a,"markerCleared",a,this,c,e);b&&lc(a);this.parent&&this.parent.clear()}};Ob.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,e,d=0;d<this.lines.length;++d){var g=this.lines[d],h=ua(g.markedSpans,this);if(null!=h.from&&(c=x(b?g:Y(g),h.from),-1==a))return c;if(null!=h.to&&(e=x(b?g:Y(g),h.to),1==a))return e}return c&&{from:c,to:e}};Ob.prototype.changed=function(){var a=this,b=this.find(-1,!0),c=this,e=this.doc.cm;b&&e&&Za(e,function(){var d=b.line,g=Y(b.line);if(g=
Fd(e,g))xe(g),e.curOp.selectionChanged=e.curOp.forceUpdate=!0;e.curOp.updateMaxLine=!0;fb(c.doc,d)||null==c.height||(g=c.height,c.height=null,(g=Bc(c)-g)&&ga(d,d.height+g));Ka(e,"markerChanged",e,a)})};Ob.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=m(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Ob.prototype.detachLine=function(a){this.lines.splice(m(this.lines,
a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};y(Ob);var Pc=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Pc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Ka(this,"clear")}};Pc.prototype.find=function(a,b){return this.primary.find(a,b)};y(Pc);var Ug=0,Ta=function(a,b,c,e,d){if(!(this instanceof
Ta))return new Ta(a,b,c,e,d);null==c&&(c=0);yb.call(this,[new Ib([new mc("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=x(c,0);this.sel=Hb(c);this.history=new ld(null);this.id=++Ug;this.modeOption=b;this.lineSep=e;this.direction="rtl"==d?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));Wd(this,{from:c,to:c,text:a});La(this,Hb(c),xb)};Ta.prototype=va(yb.prototype,{constructor:Ta,iter:function(a,b,c){c?this.iterN(a-
this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,e=0;e<b.length;++e)c+=b[e].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ja(this,this.first,this.first+this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:Ga(function(a){var b=x(this.first,0),c=this.first+this.size-1;pc(this,{from:b,to:x(c,I(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},
!0);this.cm&&Gc(this.cm,0,0);La(this,Hb(b),xb)}),replaceRange:function(a,b,c,e){b=u(this,b);c=c?u(this,c):b;qc(this,a,b,c,e)},getRange:function(a,b,c){a=Va(this,u(this,a),u(this,b));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(sa(this,a))return I(this,a)},getLineNumber:function(a){return Y(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=I(this,a));return Qa(a)},lineCount:function(){return this.size},
firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return u(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ga(function(a,b,c){a=u(this,"number"==typeof a?x(a,b||0):a);La(this,Hb(a,null),c)}),setSelection:Ga(function(a,
b,c){var e=u(this,a);a=u(this,b||a);La(this,Hb(e,a),c)}),extendSelection:Ga(function(a,b,c){nd(this,u(this,a),b&&u(this,b),c)}),extendSelections:Ga(function(a,b){df(this,qa(this,a),b)}),extendSelectionsBy:Ga(function(a,b){var c=K(this.sel.ranges,a);df(this,qa(this,c),b)}),setSelections:Ga(function(a,b,c){if(a.length){for(var e=[],d=0;d<a.length;d++)e[d]=new ha(u(this,a[d].anchor),u(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));La(this,pb(e,b),c)}}),addSelection:Ga(function(a,
b,c){var e=this.sel.ranges.slice(0);e.push(new ha(u(this,a),u(this,b||a)));La(this,pb(e,e.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,e=0;e<b.length;e++){var d=Va(this,b[e].from(),b[e].to());c=c?c.concat(d):d}return!1===a?c:c.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,e=0;e<c.length;e++){var d=Va(this,c[e].from(),c[e].to());!1!==a&&(d=d.join(a||this.lineSeparator()));b[e]=d}return b},replaceSelection:function(a,b,c){for(var e=[],
d=0;d<this.sel.ranges.length;d++)e[d]=a;this.replaceSelections(e,b,c||"+input")},replaceSelections:Ga(function(a,b,c){for(var e=[],d=this.sel,g=0;g<d.ranges.length;g++){var h=d.ranges[g];e[g]={from:h.from(),to:h.to(),text:this.splitLines(a[g]),origin:c}}if(a=b)if(a="end"!=b){a=[];d=c=x(this.first,0);for(g=0;g<e.length;g++){var k=e[g],h=We(k.from,c,d),r=We(Nb(k),c,d);c=k.to;d=r;"around"==b?(k=this.sel.ranges[g],k=0>B(k.head,k.anchor),a[g]=new ha(k?r:h,k?h:r)):a[g]=new ha(h,h)}a=new db(a,this.sel.primIndex)}b=
a;for(a=e.length-1;0<=a;a--)pc(this,e[a]);b?ef(this,b):this.cm&&ic(this.cm)}),undo:Ga(function(){pd(this,"undo")}),redo:Ga(function(){pd(this,"redo")}),undoSelection:Ga(function(){pd(this,"undo",!0)}),redoSelection:Ga(function(){pd(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,e=0;e<a.done.length;e++)a.done[e].ranges||++b;for(e=0;e<a.undone.length;e++)a.undone[e].ranges||++c;return{undo:b,
redo:c}},clearHistory:function(){this.history=new ld(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:nc(this.history.done),undone:nc(this.history.undone)}},setHistory:function(a){var b=this.history=new ld(this.history.maxGeneration);
b.done=nc(a.done.slice(0),null,!0);b.undone=nc(a.undone.slice(0),null,!0)},setGutterMarker:Ga(function(a,b,c){return Nc(this,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});d[b]=c;!c&&qb(d)&&(a.gutterMarkers=null);return!0})}),clearGutter:Ga(function(a){var b=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&Nc(b,c,"gutter",function(){c.gutterMarkers[a]=null;qb(c.gutterMarkers)&&(c.gutterMarkers=null);return!0})})}),lineInfo:function(a){var b;if("number"==typeof a){if(!sa(this,
a))return null;b=a;a=I(this,a);if(!a)return null}else if(b=Y(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Ga(function(a,b,c){return Nc(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[d]){if(C(c).test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:Ga(function(a,
b,c){return Nc(this,a,"gutter"==b?"gutter":"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",g=a[d];if(g)if(null==c)a[d]=null;else{var h=g.match(C(c));if(!h)return!1;var k=h.index+h[0].length;a[d]=g.slice(0,h.index)+(h.index&&k!=g.length?" ":"")+g.slice(k)||null}else return!1;return!0})}),addLineWidget:Ga(function(a,b,c){return sg(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return rc(this,u(this,a),u(this,
b),c,c&&c.type||"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};a=u(this,a);return rc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=u(this,a);var b=[],c=I(this,a.line).markedSpans;if(c)for(var e=0;e<c.length;++e){var d=c[e];(null==d.from||d.from<=a.ch)&&(null==d.to||d.to>=a.ch)&&b.push(d.marker.parent||d.marker)}return b},findMarks:function(a,b,c){a=
u(this,a);b=u(this,b);var e=[],d=a.line;this.iter(a.line,b.line+1,function(g){if(g=g.markedSpans)for(var h=0;h<g.length;h++){var k=g[h];null!=k.to&&d==a.line&&a.ch>=k.to||null==k.from&&d!=a.line||null!=k.from&&d==b.line&&k.from>=b.ch||c&&!c(k.marker)||e.push(k.marker.parent||k.marker)}++d});return e},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first,e=this.lineSeparator().length;
this.iter(function(d){d=d.text.length+e;if(d>a)return b=a,!0;a-=d;++c});return u(this,x(c,b))},indexFromPos:function(a){a=u(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;var c=this.lineSeparator().length;this.iter(this.first,a.line,function(a){b+=a.text.length+c});return b},copy:function(a){var b=new Ta(ja(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=
this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new Ta(ja(this,b,c),a.mode||this.modeOption,b,this.lineSep,this.direction);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=tf(this);for(c=0;c<a.length;c++){var e=a[c],d=e.find(),
g=b.clipPos(d.from),d=b.clipPos(d.to);B(g,d)&&(g=rc(b,g,d,e.primary,e.primary.type),e.markers.push(g),g.parent=e)}return b},unlinkDoc:function(a){a instanceof ra&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);ug(tf(this));break}if(a.history==this.history){var c=[a.id];$b(a,function(a){return c.push(a.id)},!0);a.history=new ld(null);a.history.done=nc(this.history.done,c);a.history.undone=nc(this.history.undone,c)}},
iterLinkedDocs:function(a){$b(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):ge(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ga(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&og(this.cm))})});Ta.prototype.eachLine=Ta.prototype.iter;for(var vf=0,Kf=!1,Pb={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",
17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",
63302:"Insert"},Xc=0;10>Xc;Xc++)Pb[Xc+48]=Pb[Xc+96]=String(Xc);for(var yd=65;90>=yd;yd++)Pb[yd]=String.fromCharCode(yd);for(var Yc=1;12>=Yc;Yc++)Pb[Yc+111]=Pb[Yc+63235]="F"+Yc;var Qc={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",
Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",
"Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars",
"Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace",
"Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Qc["default"]=mb?Qc.macDefault:Qc.pcDefault;var sd={selectAll:kf,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),xb)},killLine:function(a){return tc(a,function(b){if(b.empty()){var c=
I(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:x(b.head.line+1,0)}:{from:b.head,to:x(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){return tc(a,function(b){return{from:x(b.from().line,0),to:u(a.doc,x(b.to().line+1,0))}})},delLineLeft:function(a){return tc(a,function(a){return{from:x(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return tc(a,function(b){var c=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,
top:c},"div"),to:b.from()}})},delWrappedLineRight:function(a){return tc(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(x(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(x(a.lastLine()))},
goLineStart:function(a){return a.extendSelectionsBy(function(b){return Af(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return Bf(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(b){b=b.head.line;var c=I(a.doc,b),e;e=c;for(var d;d=eb(e,!1);)e=d.find(1,!0).line;e!=c&&(b=Y(e));return Ia(!0,a,c,b,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){b=
a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:b},"div")},Vc)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Vc)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?Bf(a,b.head):c},Vc)},goLineUp:function(a){return a.moveV(-1,
"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,
"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"char")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},
indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),e=a.options.tabSize,d=0;d<c.length;d++){var g=c[d].from(),g=s(a.getLine(g.line),g.ch,e);b.push(Ua(e-g%e))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Za(a,function(){for(var b=a.listSelections(),c=[],e=0;e<b.length;e++)if(b[e].empty()){var d=
b[e].head,g=I(a.doc,d.line).text;if(g)if(d.ch==g.length&&(d=new x(d.line,d.ch-1)),0<d.ch)d=new x(d.line,d.ch+1),a.replaceRange(g.charAt(d.ch-1)+g.charAt(d.ch-2),x(d.line,d.ch-2),d,"+transpose");else if(d.line>a.doc.first){var h=I(a.doc,d.line-1).text;h&&(d=new x(d.line,1),a.replaceRange(g.charAt(0)+a.doc.lineSeparator()+h.charAt(h.length-1),x(d.line-1,h.length-1),d,"+transpose"))}c.push(new ha(d,d))}a.setSelections(c)})},newlineAndIndent:function(a){return Za(a,function(){for(var b=a.listSelections(),
c=b.length-1;0<=c;c--)a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,"+input");b=a.listSelections();for(c=0;c<b.length;c++)a.indentLine(b[c].from().line,null,!0);ic(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Bg=new ac,ae=null,vd,ud,uc={toString:function(){return"CodeMirror.Init"}},Jf={},wd={};ra.defaults=Jf;ra.optionHandlers=wd;var ee=[];ra.defineInitHook=function(a){return ee.push(a)};var $a=null,ka=function(a){this.cm=
a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new ac;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};ka.prototype.init=function(a){function b(a){if(!na(d,a)){if(d.somethingSelected())Mf({lineWise:!1,text:d.getSelections()}),"cut"==a.type&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var b=Pf(d);Mf({lineWise:!0,text:b.text});"cut"==a.type&&d.operation(function(){d.setSelections(b.ranges,0,xb);d.replaceSelection("",
null,"cut")})}else return;if(a.clipboardData){a.clipboardData.clearData();var c=$a.text.join("\n");a.clipboardData.setData("Text",c);if(a.clipboardData.getData("Text")==c){a.preventDefault();return}}var f=Rf();a=f.firstChild;d.display.lineSpace.insertBefore(f,d.display.lineSpace.firstChild);a.value=$a.text.join("\n");var h=document.activeElement;wc(a);setTimeout(function(){d.display.lineSpace.removeChild(f);h.focus();h==g&&e.showPrimarySelection()},50)}}var c=this,e=this,d=e.cm,g=e.div=a.lineDiv;
Qf(g,d.options.spellcheck);O(g,"paste",function(a){na(d,a)||Of(a,d)||11>=pa&&setTimeout(Fa(d,function(){return c.updateFromDOM()}),20)});O(g,"compositionstart",function(a){c.composing={data:a.data,done:!1}});O(g,"compositionupdate",function(a){c.composing||(c.composing={data:a.data,done:!1})});O(g,"compositionend",function(a){c.composing&&(a.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)});O(g,"touchstart",function(){return e.forceCompositionEnd()});O(g,"input",function(){c.composing||
c.readFromDOMSoon()});O(g,"copy",b);O(g,"cut",b)};ka.prototype.prepareSelection=function(){var a=Ee(this.cm,!1);a.focus=this.cm.state.focused;return a};ka.prototype.showSelection=function(a,b){a&&this.cm.display.view.length&&((a.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(a))};ka.prototype.showPrimarySelection=function(){var a=window.getSelection(),b=this.cm,c=b.doc.sel.primary(),e=c.from(),c=c.to();if(b.display.viewTo==b.display.viewFrom||e.line>=b.display.viewTo||c.line<b.display.viewFrom)a.removeAllRanges();
else{var d=xd(b,a.anchorNode,a.anchorOffset),g=xd(b,a.focusNode,a.focusOffset);if(!d||d.bad||!g||g.bad||0!=B($(d,g),e)||0!=B(Xa(d,g),c))if(d=b.display.view,e=e.line>=b.display.viewFrom&&Tf(b,e)||{node:d[0].measure.map[2],offset:0},c=c.line<b.display.viewTo&&Tf(b,c),c||(c=d[d.length-1].measure,c=c.maps?c.maps[c.maps.length-1]:c.map,c={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}),e&&c){var d=a.rangeCount&&a.getRangeAt(0),h;try{h=gc(e.node,e.offset,c.offset,c.node)}catch(k){}h&&(!Jb&&b.state.focused?
(a.collapse(e.node,e.offset),h.collapsed||(a.removeAllRanges(),a.addRange(h))):(a.removeAllRanges(),a.addRange(h)),d&&null==a.anchorNode?a.addRange(d):Jb&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};ka.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};ka.prototype.showMultipleSelections=
function(a){ba(this.cm.display.cursorDiv,a.cursors);ba(this.cm.display.selectionDiv,a.selection)};ka.prototype.rememberSelection=function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};ka.prototype.selectionInEditor=function(){var a=window.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return ea(this.div,a)};ka.prototype.focus=function(){"nocursor"!=
this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())};ka.prototype.blur=function(){this.div.blur()};ka.prototype.getField=function(){return this.div};ka.prototype.supportsTouch=function(){return!0};ka.prototype.receivedFocus=function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():Za(this.cm,function(){return b.cm.curOp.selectionChanged=
!0});this.polling.set(this.cm.options.pollInterval,a)};ka.prototype.selectionChanged=function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};ka.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;if(dd&&cd&&this.cm.options.gutters.length&&Ng(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",
keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var c=xd(b,a.anchorNode,a.anchorOffset),e=xd(b,a.focusNode,a.focusOffset);c&&e&&Za(b,function(){La(b.doc,Hb(c,e),xb);if(c.bad||e.bad)b.curOp.selectionChanged=!0})}}};ka.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,b=a.display,c=a.doc.sel.primary(),e=c.from(),d=c.to();0==e.ch&&e.line>a.firstLine()&&(e=
x(e.line-1,I(a.doc,e.line-1).length));d.ch==I(a.doc,d.line).text.length&&d.line<a.lastLine()&&(d=x(d.line+1,0));if(e.line<b.viewFrom||d.line>b.viewTo-1)return!1;var g;e.line==b.viewFrom||0==(g=Ub(a,e.line))?(c=Y(b.view[0].line),g=b.view[0].node):(c=Y(b.view[g].line),g=b.view[g-1].node.nextSibling);var h=Ub(a,d.line);h==b.view.length-1?(d=b.viewTo-1,b=b.lineDiv.lastChild):(d=Y(b.view[h+1].line)-1,b=b.view[h+1].node.previousSibling);if(!g)return!1;b=a.doc.splitLines(Og(a,g,b,c,d));for(g=Va(a.doc,x(c,
0),x(d,I(a.doc,d).text.length));1<b.length&&1<g.length;)if(R(b)==R(g))b.pop(),g.pop(),d--;else if(b[0]==g[0])b.shift(),g.shift(),c++;else break;for(var k=0,h=0,r=b[0],m=g[0],v=Math.min(r.length,m.length);k<v&&r.charCodeAt(k)==m.charCodeAt(k);)++k;r=R(b);m=R(g);for(v=Math.min(r.length-(1==b.length?k:0),m.length-(1==g.length?k:0));h<v&&r.charCodeAt(r.length-h-1)==m.charCodeAt(m.length-h-1);)++h;if(1==b.length&&1==g.length&&c==e.line)for(;k&&k>e.ch&&r.charCodeAt(r.length-h-1)==m.charCodeAt(m.length-
h-1);)k--,h++;b[b.length-1]=r.slice(0,r.length-h).replace(/^\u200b+/,"");b[0]=b[0].slice(k).replace(/\u200b+$/,"");e=x(c,k);c=x(d,g.length?R(g).length-h:0);if(1<b.length||b[0]||B(e,c))return qc(a.doc,b,e,c,"+input"),!0};ka.prototype.ensurePolled=function(){this.forceCompositionEnd()};ka.prototype.reset=function(){this.forceCompositionEnd()};ka.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};
ka.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};ka.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||Za(this.cm,function(){return Sa(a.cm)})};ka.prototype.setUneditable=function(a){a.contentEditable="false"};ka.prototype.onKeyPress=function(a){0!=a.charCode&&(a.preventDefault(),
this.cm.isReadOnly()||Fa(this.cm,fe)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};ka.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};ka.prototype.onContextMenu=function(){};ka.prototype.resetPosition=function(){};ka.prototype.needsContentAttribute=!0;var Ca=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new ac;this.hasSelection=this.inaccurateSelection=!1;this.composing=null};Ca.prototype.init=function(a){function b(a){if(!na(d,
a)){if(d.somethingSelected())$a={lineWise:!1,text:d.getSelections()},e.inaccurateSelection&&(e.prevInput="",e.inaccurateSelection=!1,h.value=$a.text.join("\n"),wc(h));else if(d.options.lineWiseCopyCut){var b=Pf(d);$a={lineWise:!0,text:b.text};"cut"==a.type?d.setSelections(b.ranges,null,xb):(e.prevInput="",h.value=b.text.join("\n"),wc(h))}else return;"cut"==a.type&&(d.state.cutIncoming=!0)}}var c=this,e=this,d=this.cm,g=this.wrapper=Rf(),h=this.textarea=g.firstChild;a.wrapper.insertBefore(g,a.wrapper.firstChild);
Tc&&(h.style.width="0px");O(h,"input",function(){aa&&9<=pa&&c.hasSelection&&(c.hasSelection=null);e.poll()});O(h,"paste",function(a){na(d,a)||Of(a,d)||(d.state.pasteIncoming=!0,e.fastPoll())});O(h,"cut",b);O(h,"copy",b);O(a.scroller,"paste",function(b){Gb(a,b)||na(d,b)||(d.state.pasteIncoming=!0,e.focus())});O(a.lineSpace,"selectstart",function(b){Gb(a,b)||fa(b)});O(h,"compositionstart",function(){var a=d.getCursor("from");e.composing&&e.composing.range.clear();e.composing={start:a,range:d.markText(a,
d.getCursor("to"),{className:"CodeMirror-composing"})}});O(h,"compositionend",function(){e.composing&&(e.poll(),e.composing.range.clear(),e.composing=null)})};Ca.prototype.prepareSelection=function(){var a=this.cm,b=a.display,c=a.doc,e=Ee(a);if(a.options.moveInputWithCursor){var a=nb(a,c.sel.primary().head,"div"),c=b.wrapper.getBoundingClientRect(),d=b.lineDiv.getBoundingClientRect();e.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+d.top-c.top));e.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-
10,a.left+d.left-c.left))}return e};Ca.prototype.showSelection=function(a){var b=this.cm.display;ba(b.cursorDiv,a.cursors);ba(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};Ca.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var b,c,e=this.cm,d=e.doc;e.somethingSelected()?(this.prevInput="",b=d.sel.primary(),c=(b=Ef&&(100<b.to().line-b.from().line||1E3<(c=e.getSelection()).length))?"-":c||e.getSelection(),
this.textarea.value=c,e.state.focused&&wc(this.textarea),aa&&9<=pa&&(this.hasSelection=c)):a||(this.prevInput=this.textarea.value="",aa&&9<=pa&&(this.hasSelection=null));this.inaccurateSelection=b}};Ca.prototype.getField=function(){return this.textarea};Ca.prototype.supportsTouch=function(){return!1};Ca.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!xc||ca()!=this.textarea))try{this.textarea.focus()}catch(a){}};Ca.prototype.blur=function(){this.textarea.blur()};Ca.prototype.resetPosition=
function(){this.wrapper.style.top=this.wrapper.style.left=0};Ca.prototype.receivedFocus=function(){this.slowPoll()};Ca.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};Ca.prototype.fastPoll=function(){function a(){c.poll()||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0;c.polling.set(20,a)};Ca.prototype.poll=function(){var a=this,b=this.cm,
c=this.textarea,e=this.prevInput;if(this.contextMenuPending||!b.state.focused||Tg(c)&&!e&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var d=c.value;if(d==e&&!b.somethingSelected())return!1;if(aa&&9<=pa&&this.hasSelection===d||mb&&/[\uf700-\uf7ff]/.test(d))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var g=d.charCodeAt(0);8203!=g||e||(e="\u200b");if(8666==g)return this.reset(),this.cm.execCommand("undo")}for(var h=0,g=Math.min(e.length,
d.length);h<g&&e.charCodeAt(h)==d.charCodeAt(h);)++h;Za(b,function(){fe(b,d.slice(h),e.length-h,null,a.composing?"*compose":null);1E3<d.length||-1<d.indexOf("\n")?c.value=a.prevInput="":a.prevInput=d;a.composing&&(a.composing.range.clear(),a.composing.range=b.markText(a.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Ca.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Ca.prototype.onKeyPress=function(){aa&&9<=pa&&(this.hasSelection=
null);this.fastPoll()};Ca.prototype.onContextMenu=function(a){function b(){if(null!=h.selectionStart){var a=d.somethingSelected(),b="\u200b"+(a?h.value:"");h.value="\u21da";h.value=b;e.prevInput=a?"":"\u200b";h.selectionStart=1;h.selectionEnd=b.length;g.selForContextMenu=d.doc.sel}}function c(){e.contextMenuPending=!1;e.wrapper.style.cssText=v;h.style.cssText=m;aa&&9>pa&&g.scrollbars.setScrollTop(g.scroller.scrollTop=r);if(null!=h.selectionStart){(!aa||aa&&9>pa)&&b();var a=0,f=function(){g.selForContextMenu==
d.doc.sel&&0==h.selectionStart&&0<h.selectionEnd&&"\u200b"==e.prevInput?Fa(d,kf)(d):10>a++?g.detectingSelectAll=setTimeout(f,500):(g.selForContextMenu=null,g.input.reset())};g.detectingSelectAll=setTimeout(f,200)}}var e=this,d=e.cm,g=d.display,h=e.textarea,k=Xb(d,a),r=g.scroller.scrollTop;if(k&&!ob){d.options.resetSelectionOnContextMenu&&-1==d.doc.sel.contains(k)&&Fa(d,La)(d.doc,Hb(k),xb);var m=h.style.cssText,v=e.wrapper.style.cssText;e.wrapper.style.cssText="position: absolute";k=e.wrapper.getBoundingClientRect();
h.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-k.top-5)+"px; left: "+(a.clientX-k.left-5)+"px;\n      z-index: 1000; background: "+(aa?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var n;Ha&&(n=window.scrollY);g.input.focus();Ha&&window.scrollTo(null,n);g.input.reset();d.somethingSelected()||(h.value=e.prevInput=" ");e.contextMenuPending=!0;g.selForContextMenu=
d.doc.sel;clearTimeout(g.detectingSelectAll);aa&&9<=pa&&b();if(ce){Na(a);var p=function(){Ba(window,"mouseup",p);setTimeout(c,20)};O(window,"mouseup",p)}else setTimeout(c,50)}};Ca.prototype.readOnlyChanged=function(a){a||this.reset()};Ca.prototype.setUneditable=function(){};Ca.prototype.needsContentAttribute=!1;(function(a){function b(b,d,g,h){a.defaults[b]=d;g&&(c[b]=h?function(a,b,c){c!=uc&&g(a,b,c)}:g)}var c=a.optionHandlers;a.defineOption=b;a.Init=uc;b("value","",function(a,b){return a.setValue(b)},
!0);b("mode",null,function(a,b){a.doc.modeOption=b;Vd(a)},!0);b("indentUnit",2,Vd,!0);b("indentWithTabs",!1);b("smartIndent",!0);b("tabSize",4,function(a){Kc(a);Dc(a);Sa(a)},!0);b("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=0;;){var f=a.text.indexOf(b,e);if(-1==f)break;e=f+b.length;c.push(x(d,f))}d++});for(var f=c.length-1;0<=f;f--)qc(a.doc,b,c[f],x(c[f].line,c[f].ch+b.length))}});b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,
function(a,b,c){a.state.specialChars=RegExp(b.source+(b.test("\t")?"":"|\t"),"g");c!=uc&&a.refresh()});b("specialCharPlaceholder",dg,function(a){return a.refresh()},!0);b("electricChars",!0);b("inputStyle",xc?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);b("spellcheck",!1,function(a,b){return a.getInputField().spellcheck=b},!0);b("rtlMoveVisually",!Sg);b("wholeLineUpdateBefore",!0);b("theme","default",function(a){If(a);Rc(a)},
!0);b("keyMap","default",function(a,b,c){b=qd(b);(c=c!=uc&&qd(c))&&c.detach&&c.detach(a,b);b.attach&&b.attach(a,c||null)});b("extraKeys",null);b("lineWrapping",!1,Lg,!0);b("gutters",[],function(a){Td(a.options);Rc(a)},!0);b("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?Jd(a.display)+"px":"0";a.refresh()},!0);b("coverGutterNextToScrollbar",!1,function(a){return jc(a)},!0);b("scrollbarStyle","native",function(a){Oe(a);jc(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},
!0);b("lineNumbers",!1,function(a){Td(a.options);Rc(a)},!0);b("firstLineNumber",1,Rc,!0);b("lineNumberFormatter",function(a){return a},Rc,!0);b("showCursorWhenSelecting",!1,Ec,!0);b("resetSelectionOnContextMenu",!0);b("lineWiseCopyCut",!0);b("readOnly",!1,function(a,b){"nocursor"==b?(Fc(a),a.display.input.blur(),a.display.disabled=!0):a.display.disabled=!1;a.display.input.readOnlyChanged(b)});b("disableInput",!1,function(a,b){b||a.display.input.reset()},!0);b("dragDrop",!0,Kg);b("allowDropFileTypes",
null);b("cursorBlinkRate",530);b("cursorScrollMargin",0);b("cursorHeight",1,Ec,!0);b("singleCursorHeightPerLine",!0,Ec,!0);b("workTime",100);b("workDelay",100);b("flattenSpans",!0,Kc,!0);b("addModeClass",!1,Kc,!0);b("pollInterval",100);b("undoDepth",200,function(a,b){return a.doc.history.undoDepth=b});b("historyEventDelay",1250);b("viewportMargin",10,function(a){return a.refresh()},!0);b("maxHighlightLength",1E4,Kc,!0);b("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});
b("tabindex",null,function(a,b){return a.display.input.getField().tabIndex=b||""});b("autofocus",null);b("direction","ltr",function(a,b){return a.doc.setDirection(b)},!0)})(ra);(function(a){var b=a.optionHandlers,c=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,c){var d=this.options,f=d[a];if(d[a]!=c||"mode"==a)d[a]=c,b.hasOwnProperty(a)&&Fa(this,b[a])(this,c,f),ma(this,"optionChange",this,a)},getOption:function(a){return this.options[a]},
getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](qd(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:Ra(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw Error("Overlays may not be stateful.");W(this.state.overlays,{mode:d,modeSpec:b,opaque:c&&c.opaque,priority:c&&c.priority||0},function(a){return a.priority});this.state.modeGen++;Sa(this)}),
removeOverlay:Ra(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;Sa(this);break}}}),indentLine:Ra(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");sa(this.doc,a)&&Sc(this,a,b,c)}),indentSelection:Ra(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var f=b[d];if(f.empty())f.head.line>c&&(Sc(this,
f.head.line,a,!0),c=f.head.line,d==this.doc.sel.primIndex&&ic(this));else{for(var g=f.from(),f=f.to(),h=Math.max(c,g.line),c=Math.min(this.lastLine(),f.line-(f.ch?0:1))+1,f=h;f<c;++f)Sc(this,f,a);f=this.doc.sel.ranges;0==g.ch&&b.length==f.length&&0<f[d].from().ch&&Yd(this.doc,d,new ha(g,f[d].to()),xb)}}}),getTokenAt:function(a,b){return h(this,a,b)},getLineTokens:function(a,b){return h(this,x(a),b,!0)},getTokenTypeAt:function(a){a=u(this.doc,a);var b=n(this,I(this.doc,a.line)),c=0,d=(b.length-1)/
2;a=a.ch;var f;if(0==a)f=b[2];else for(;;){var g=c+d>>1;if((g?b[2*g-1]:0)>=a)d=g;else if(b[2*g+1]<a)c=g+1;else{f=b[2*g+2];break}}b=f?f.indexOf("overlay "):-1;return 0>b?f:0==b?null:f.slice(0,b-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var d=[];if(!c.hasOwnProperty(b))return d;var g=c[b],h=this.getModeAt(a);if("string"==typeof h[b])g[h[b]]&&d.push(g[h[b]]);
else if(h[b])for(var k=0;k<h[b].length;k++){var r=g[h[b][k]];r&&d.push(r)}else h.helperType&&g[h.helperType]?d.push(g[h.helperType]):g[h.name]&&d.push(g[h.name]);for(k=0;k<g._global.length;k++)r=g._global[k],r.pred(h,this)&&-1==m(d,r.val)&&d.push(r.val);return d},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return p(this,a+1,b)},cursorCoords:function(a,b){var c;c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?u(this.doc,
a):a?c.from():c.to();return nb(this,c,b||"page")},charCoords:function(a,b){return ed(this,u(this.doc,a),b||"page")},coordsChar:function(a,b){a=Be(this,a,b||"page");return Id(this,a.left,a.top)},lineAtHeight:function(a,b){a=Be(this,{top:a,left:0},b||"page").top;return Wa(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b,c){var d=!1;if("number"==typeof a){var f=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>f&&(a=f,d=!0);a=I(this.doc,a)}return Sb(this,a,{top:0,left:0},
b||"page",c||d).top+(d?this.doc.height-Aa(a):0)},defaultTextHeight:function(){return Vb(this.display)},defaultCharWidth:function(){return Cc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,f){var g=this.display;a=nb(this,u(this.doc,a));var h=a.bottom,k=a.left;b.style.position="absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);g.sizer.appendChild(b);if("over"==d)h=a.top;else if("above"==
d||"near"==d){var r=Math.max(g.wrapper.clientHeight,this.doc.height),m=Math.max(g.sizer.clientWidth,g.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>r)&&a.top>b.offsetHeight?h=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=r&&(h=a.bottom);k+b.offsetWidth>m&&(k=m-b.offsetWidth)}b.style.top=h+"px";b.style.left=b.style.right="";"right"==f?(k=g.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==f?k=0:"middle"==f&&(k=(g.sizer.clientWidth-b.offsetWidth)/2),b.style.left=k+"px");c&&
(a=Pd(this,{left:k,top:h,right:k+b.offsetWidth,bottom:h+b.offsetHeight}),null!=a.scrollTop&&Hc(this,a.scrollTop),null!=a.scrollLeft&&Zb(this,a.scrollLeft))},triggerOnKeyDown:Ra(Df),triggerOnKeyPress:Ra(Gf),triggerOnKeyUp:Ff,execCommand:function(a){if(sd.hasOwnProperty(a))return sd[a].call(null,this)},triggerElectric:Ra(function(a){Nf(this,a)}),findPosH:function(a,b,c,d){var f=1;0>b&&(f=-1,b=-b);a=u(this.doc,a);for(var g=0;g<b&&(a=he(this.doc,a,f,c,d),!a.hitSide);++g);return a},moveH:Ra(function(a,
b){var c=this;this.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?he(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Vc)}),deleteH:Ra(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):tc(this,function(d){var f=he(c,d.head,a,b,!1);return 0>a?{from:f,to:d.head}:{from:d.head,to:f}})}),findPosV:function(a,b,c,d){var f=1;0>b&&(f=-1,b=-b);var g=u(this.doc,a);for(a=0;a<b&&(g=nb(this,g,"div"),null==d?d=g.left:
g.left=d,g=Sf(this,g,f,c),!g.hitSide);++a);return g},moveV:Ra(function(a,b){var c=this,d=this.doc,f=[],g=!this.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(h){if(g)return 0>a?h.from():h.to();var k=nb(c,h.head,"div");null!=h.goalColumn&&(k.left=h.goalColumn);f.push(k.left);var r=Sf(c,k,a,b);"page"==b&&h==d.sel.primary()&&gd(c,ed(c,r,"div").top-k.top);return r},Vc);if(f.length)for(var h=0;h<d.sel.ranges.length;h++)d.sel.ranges[h].goalColumn=f[h]}),findWordAt:function(a){var b=
I(this.doc,a.line).text,c=a.ch,d=a.ch;if(b){var f=this.getHelper(a,"wordChars");"before"!=a.sticky&&d!=b.length||!c?++d:--c;for(var g=b.charAt(c),g=Da(g,f)?function(a){return Da(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Da(a)};0<c&&g(b.charAt(c-1));)--c;for(;d<b.length&&g(b.charAt(d));)++d}return new ha(x(a.line,c),x(a.line,d))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?la(this.display.cursorDiv,
"CodeMirror-overwrite"):Yb(this.display.cursorDiv,"CodeMirror-overwrite"),ma(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==ca()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ra(function(a,b){Gc(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-wb(this)-this.display.barHeight,width:a.scrollWidth-wb(this)-this.display.barWidth,
clientHeight:Ed(this),clientWidth:Tb(this)}},scrollIntoView:Ra(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:x(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line){var c=a;hd(this);this.curOp.scrollToPos=c}else Le(this,a.from,a.to,a.margin)}),setSize:Ra(function(a,b){var c=this,d=function(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a};null!=
a&&(this.display.wrapper.style.width=d(a));null!=b&&(this.display.wrapper.style.height=d(b));this.options.lineWrapping&&ye(this);var f=this.display.viewFrom;this.doc.iter(f,this.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Mb(c,f,"widget");break}++f});this.curOp.forceUpdate=!0;ma(this,"refresh",this)}),operation:function(a){return Za(this,a)},refresh:Ra(function(){var a=this.display.cachedTextHeight;Sa(this);this.curOp.forceUpdate=!0;Dc(this);
Gc(this,this.doc.scrollLeft,this.doc.scrollTop);Od(this);(null==a||0.5<Math.abs(a-Vb(this.display)))&&Kd(this);ma(this,"refresh",this)}),swapDoc:Ra(function(a){var b=this.doc;b.cm=null;Ye(this,a);Dc(this);this.display.input.reset();Gc(this,a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;Ka(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},
getGutterElement:function(){return this.display.gutters}};y(a);a.registerHelper=function(b,d,g){c.hasOwnProperty(b)||(c[b]=a[b]={_global:[]});c[b][d]=g};a.registerGlobalHelper=function(b,d,g,h){a.registerHelper(b,d,h);c[b]._global.push({pred:g,val:h})}})(ra);var Vg="iter insert remove copy getEditor constructor".split(" "),Zc;for(Zc in Ta.prototype)Ta.prototype.hasOwnProperty(Zc)&&0>m(Vg,Zc)&&(ra.prototype[Zc]=function(a){return function(){return a.apply(this.doc,arguments)}}(Ta.prototype[Zc]));y(Ta);
ra.inputStyles={textarea:Ca,contenteditable:ka};ra.defineMode=function(a){ra.defaults.mode||"null"==a||(ra.defaults.mode=a);Fb.apply(this,arguments)};ra.defineMIME=function(a,b){ec[a]=b};ra.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});ra.defineMIME("text/plain","null");ra.defineExtension=function(a,b){ra.prototype[a]=b};ra.defineDocExtension=function(a,b){Ta.prototype[a]=b};ra.fromTextArea=function(a,b){function c(){a.value=m.getValue()}b=b?E(b):{};b.value=a.value;
!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=ca();b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}var g;if(a.form&&(O(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var h=a.form;g=h.submit;try{var k=h.submit=function(){c();h.submit=g;h.submit();h.submit=k}}catch(r){}}b.finishInit=function(b){b.save=c;b.getTextArea=function(){return a};b.toTextArea=function(){b.toTextArea=isNaN;c();a.parentNode.removeChild(b.getWrapperElement());
a.style.display="";a.form&&(Ba(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=g))}};a.style.display="none";var m=ra(function(b){return a.parentNode.insertBefore(b,a.nextSibling)},b);return m};(function(a){a.off=Ba;a.on=O;a.wheelEventPixels=ng;a.Doc=Ta;a.splitLines=ge;a.countColumn=s;a.findColumn=D;a.isWordChar=X;a.Pass=$d;a.signal=ma;a.Line=mc;a.changeEnd=Nb;a.scrollbarModel=Pe;a.Pos=x;a.cmpPos=B;a.modes=Ad;a.mimeModes=ec;a.resolveMode=z;a.getMode=S;a.modeExtensions=fc;a.extendMode=
k;a.copyState=J;a.startState=Z;a.innerMode=P;a.commands=sd;a.keyMap=Qc;a.keyName=yf;a.isModifierKey=xf;a.lookupKey=sc;a.normalizeKeyMap=zg;a.StringStream=Ea;a.SharedTextMarker=Pc;a.TextMarker=Ob;a.LineWidget=Oc;a.e_preventDefault=fa;a.e_stopPropagation=hb;a.e_stop=Na;a.addClass=la;a.contains=ea;a.rmClass=Yb;a.keyNames=Pb})(ra);ra.version="5.26.0";return ra});(function(C){"object"==typeof exports&&"object"==typeof module?C(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],C):C(CodeMirror)})(function(C){function V(C,q,L){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(q.lastType)||"quasi"==q.lastType&&/\{\s*$/.test(C.string.slice(0,C.pos-(L||0)))}C.defineMode("javascript",function(ba,q){function L(c,d,g){J=c;P=g;return d}function ea(c,d){var g=c.next();if('"'==g||"'"==
g)return d.tokenize=ca(g),d.tokenize(c,d);if("."==g&&c.match(/^\d+(?:[eE][+\-]?\d+)?/))return L("number","number");if("."==g&&c.match(".."))return L("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(g))return L(g);if("="==g&&c.eat(">"))return L("=>","operator");if("0"==g&&c.eat(/x/i))return c.eatWhile(/[\da-f]/i),L("number","number");if("0"==g&&c.eat(/o/i))return c.eatWhile(/[0-7]/i),L("number","number");if("0"==g&&c.eat(/b/i))return c.eatWhile(/[01]/i),L("number","number");if(/\d/.test(g))return c.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),
L("number","number");if("/"==g){if(c.eat("*"))return d.tokenize=la,la(c,d);if(c.eat("/"))return c.skipToEnd(),L("comment","comment");if(V(c,d,1)){a:for(var g=!1,h,k=!1;null!=(h=c.next());){if(!g){if("/"==h&&!k)break a;"["==h?k=!0:k&&"]"==h&&(k=!1)}g=!g&&"\\"==h}c.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return L("regexp","string-2")}c.eatWhile(S);return L("operator","operator",c.current())}if("`"==g)return d.tokenize=T,T(c,d);if("#"==g)return c.skipToEnd(),L("error","error");if(S.test(g))return">"==
g&&d.lexical&&">"==d.lexical.type||c.eatWhile(S),L("operator","operator",c.current());if(Fb.test(g))return c.eatWhile(Fb),g=c.current(),(h=z.propertyIsEnumerable(g)&&z[g])&&"."!=d.lastType?L(h.type,h.style,g):L("variable","variable",g)}function ca(c){return function(d,g){var h=!1,r;if(Na&&"@"==d.peek()&&d.match(k))return g.tokenize=ea,L("jsonld-keyword","meta");for(;null!=(r=d.next())&&(r!=c||h);)h=!h&&"\\"==r;h||(g.tokenize=ea);return L("string","string")}}function la(c,d){for(var g=!1,h;h=c.next();){if("/"==
h&&g){d.tokenize=ea;break}g="*"==h}return L("comment","comment")}function T(c,d){for(var g=!1,h;null!=(h=c.next());){if(!g&&("`"==h||"$"==h&&c.eat("{"))){d.tokenize=ea;break}g=!g&&"\\"==h}return L("quasi","string-2",c.current())}function w(c,d){d.fatArrowAt&&(d.fatArrowAt=null);var g=c.string.indexOf("=>",c.start);if(!(0>g)){if(F){var h=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(c.string.slice(c.start,g));h&&(g=h.index)}for(var h=0,k=!1,g=g-1;0<=g;--g){var m=c.string.charAt(g),n=Z.indexOf(m);
if(0<=n&&3>n){if(!h){++g;break}if(0==--h){"("==m&&(k=!0);break}}else if(3<=n&&6>n)++h;else if(Fb.test(m))k=!0;else{if(/["'\/]/.test(m))return;if(k&&!h){++g;break}}}k&&!h&&(d.fatArrowAt=g)}}function E(c,d,g,h,k,m){this.indented=c;this.column=d;this.type=g;this.prev=k;this.info=m;null!=h&&(this.align=h)}function s(){for(var c=arguments.length-1;0<=c;c--)n.cc.push(arguments[c])}function m(){s.apply(null,arguments);return!0}function D(c){function d(d){for(;d;d=d.next)if(d.name==c)return!0;return!1}var g=
n.state;n.marked="def";g.context?d(g.localVars)||(g.localVars={name:c,next:g.localVars}):!d(g.globalVars)&&q.globalVars&&(g.globalVars={name:c,next:g.globalVars})}function Ua(){n.state.context={prev:n.state.context,vars:n.state.localVars};n.state.localVars=p}function R(){n.state.localVars=n.state.context.vars;n.state.context=n.state.context.prev}function K(c,d){var g=function(){var g=n.state,k=g.indented;if("stat"==g.lexical.type)k=g.lexical.indented;else for(var m=g.lexical;m&&")"==m.type&&m.align;m=
m.prev)k=m.indented;g.lexical=new E(k,n.stream.column(),c,null,g.lexical,d)};g.lex=!0;return g}function W(){var c=n.state;c.lexical.prev&&(")"==c.lexical.type&&(c.indented=c.lexical.indented),c.lexical=c.lexical.prev)}function U(c){function d(g){return g==c?m():";"==c?s():m(d)}return d}function va(c,d){return"var"==c?m(K("vardef",d.length),Bb,U(";"),W):"keyword a"==c?m(K("form"),qb,va,W):"keyword b"==c?m(K("form"),va,W):"{"==c?m(K("}"),qa,W):";"==c?m():"if"==c?("else"==n.state.lexical.info&&n.state.cc[n.state.cc.length-
1]==W&&n.state.cc.pop()(),m(K("form"),qb,va,W,Cb)):"function"==c?m(da):"for"==c?m(K("form"),kb,va,W):"variable"==c?F&&"type"==d?(n.marked="keyword",m(ua,U("operator"),ua,U(";"))):m(K("stat"),x):"switch"==c?m(K("form"),qb,U("{"),K("}","switch"),qa,W,W):"case"==c?m(X,U(":")):"default"==c?m(U(":")):"catch"==c?m(K("form"),Ua,U("("),vb,U(")"),va,W,R):"class"==c?m(K("form"),ab,W):"export"==c?m(K("stat"),Eb,W):"import"==c?m(K("stat"),ma,W):"module"==c?m(K("form"),Oa,U("{"),K("}"),qa,W,W):"async"==c?m(va):
"@"==d?m(X,va):s(K("stat"),X,U(";"),W)}function X(c){return zb(c,!1)}function Da(c){return zb(c,!0)}function qb(c){return"("!=c?s():m(K(")"),X,U(")"),W)}function zb(c,d){if(n.state.fatArrowAt==n.stream.start){var g=d?Y:ga;if("("==c)return m(Ua,K(")"),$(Oa,")"),W,U("=>"),g,R);if("variable"==c)return s(Ua,Oa,U("=>"),g,R)}g=d?I:ib;return G.hasOwnProperty(c)?m(g):"function"==c?m(da,g):"class"==c?m(K("form"),Ya,W):"keyword c"==c||"async"==c?m(d?rb:M):"("==c?m(K(")"),M,U(")"),W,g):"operator"==c||"spread"==
c?m(d?Da:X):"["==c?m(K("]"),fa,W,g):"{"==c?u(ta,"}",null,g):"quasi"==c?s(Va,g):"new"==c?m(Wa(d)):m()}function M(c){return c.match(/[;\}\)\],]/)?s():s(X)}function rb(c){return c.match(/[;\}\)\],]/)?s():s(Da)}function ib(c,d){return","==c?m(X):I(c,d,!1)}function I(c,d,g){var h=!1==g?ib:I,k=!1==g?X:Da;if("=>"==c)return m(Ua,g?Y:ga,R);if("operator"==c)return/\+\+|--/.test(d)?m(h):"?"==d?m(X,U(":"),k):m(k);if("quasi"==c)return s(Va,h);if(";"!=c){if("("==c)return u(Da,")","call",h);if("."==c)return m(B,
h);if("["==c)return m(K("]"),M,U("]"),W,h)}}function Va(c,d){return"quasi"!=c?s():"${"!=d.slice(d.length-2)?m(Va):m(X,ja)}function ja(c){if("}"==c)return n.marked="string-2",n.state.tokenize=T,m(Va)}function ga(c){w(n.stream,n.state);return s("{"==c?va:X)}function Y(c){w(n.stream,n.state);return s("{"==c?va:Da)}function Wa(c){return function(d){return"."==d?m(c?wa:sa):s(c?Da:X)}}function sa(c,d){if("target"==d)return n.marked="keyword",m(ib)}function wa(c,d){if("target"==d)return n.marked="keyword",
m(I)}function x(c){return":"==c?m(W,va):s(ib,U(";"),W)}function B(c){if("variable"==c)return n.marked="property",m()}function ta(c,d){if("async"==c)return n.marked="property",m(ta);if("variable"==c||"keyword"==n.style)return n.marked="property","get"==d||"set"==d?m(N):m(Xa);if("number"==c||"string"==c)return n.marked=Na?"property":n.style+" property",m(Xa);if("jsonld-keyword"==c)return m(Xa);if("modifier"==c)return m(ta);if("["==c)return m(X,U("]"),Xa);if("spread"==c)return m(X);if(":"==c)return s(Xa)}
function N(c){if("variable"!=c)return s(Xa);n.marked="property";return m(da)}function Xa(c){if(":"==c)return m(Da);if("("==c)return s(da)}function $(c,d,g){function h(k,v){if(g?-1<g.indexOf(k):","==k){var p=n.state.lexical;"call"==p.info&&(p.pos=(p.pos||0)+1);return m(function(g,h){return g==d||h==d?s():s(c)},h)}return k==d||v==d?m():m(U(d))}return function(g,k){return g==d||k==d?m():s(c,h)}}function u(c,d,g){for(var h=3;h<arguments.length;h++)n.cc.push(arguments[h]);return m(K(d,g),$(c,d),W)}function qa(c){return"}"==
c?m():s(va,qa)}function xa(c,d){if(F){if(":"==c)return m(ua);if("?"==d)return m(xa)}}function ua(c){if("variable"==c)return n.marked="variable-3",m(ub);if("string"==c||"number"==c||"atom"==c)return m(ub);if("{"==c)return m(K("}"),$(tb,"}",",;"),W,ub);if("("==c)return m($(Ab,")"),sb)}function sb(c){if("=>"==c)return m(ua)}function tb(c,d){if("variable"==c||"keyword"==n.style)return n.marked="property",m(tb);if("?"==d)return m(tb);if(":"==c)return m(ua);if("["==c)return m(X,xa,U("]"),tb)}function Ab(c){if("variable"==
c)return m(Ab);if(":"==c)return m(ua)}function ub(c,d){if("<"==d)return m(K(">"),$(ua,">"),W,ub);if("|"==d||"."==c)return m(ua);if("["==c)return m(U("]"),ub);if("extends"==d)return m(ua)}function Bb(){return s(Oa,xa,jb,Qa)}function Oa(c,d){if("modifier"==c)return m(Oa);if("variable"==c)return D(d),m();if("spread"==c)return m(Oa);if("["==c)return u(Oa,"]");if("{"==c)return u(eb,"}")}function eb(c,d){if("variable"==c&&!n.stream.match(/^\s*:/,!1))return D(d),m(jb);"variable"==c&&(n.marked="property");
return"spread"==c?m(Oa):"}"==c?s():m(U(":"),Oa,jb)}function jb(c,d){if("="==d)return m(Da)}function Qa(c){if(","==c)return m(Bb)}function Cb(c,d){if("keyword b"==c&&"else"==d)return m(K("form","else"),va,W)}function kb(c){if("("==c)return m(K(")"),fb,U(")"),W)}function fb(c){return"var"==c?m(Bb,U(";"),Aa):";"==c?m(Aa):"variable"==c?m(Rb):s(X,U(";"),Aa)}function Rb(c,d){return"in"==d||"of"==d?(n.marked="keyword",m(X)):m(ib,Aa)}function Aa(c,d){return";"==c?m(ya):"in"==d||"of"==d?(n.marked="keyword",
m(X)):s(X,U(";"),ya)}function ya(c){")"!=c&&m(X)}function da(c,d){if("*"==d)return n.marked="keyword",m(da);if("variable"==c)return D(d),m(da);if("("==c)return m(Ua,K(")"),$(vb,")"),W,xa,va,R);if(F&&"<"==d)return m(K(">"),$(ua,">"),W,da)}function vb(c){return"spread"==c?m(vb):s(Oa,xa,jb)}function Ya(c,d){return"variable"==c?ab(c,d):gb(c,d)}function ab(c,d){if("variable"==c)return D(d),m(gb)}function gb(c,d){if("<"==d)return m(K(">"),$(ua,">"),W,gb);if("extends"==d||"implements"==d||F&&","==c)return m(F?
ua:X,gb);if("{"==c)return m(K("}"),bb,W)}function bb(c,d){if("variable"==c||"keyword"==n.style){if(("async"==d||"static"==d||"get"==d||"set"==d||F&&("public"==d||"private"==d||"protected"==d||"readonly"==d||"abstract"==d))&&n.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return n.marked="keyword",m(bb);n.marked="property";return m(F?Ia:da,bb)}if("["==c)return m(X,U("]"),F?Ia:da,bb);if("*"==d)return n.marked="keyword",m(bb);if(";"==c)return m(bb);if("}"==c)return m();if("@"==d)return m(X,bb)}function Ia(c,
d){return"?"==d?m(Ia):":"==c?m(ua,jb):"="==d?m(Da):s(da)}function Eb(c,d){return"*"==d?(n.marked="keyword",m(y,U(";"))):"default"==d?(n.marked="keyword",m(X,U(";"))):"{"==c?m($(Ba,"}"),y,U(";")):s(va)}function Ba(c,d){if("as"==d)return n.marked="keyword",m(U("variable"));if("variable"==c)return s(Da,Ba)}function ma(c){return"string"==c?m():s(na,lb,y)}function na(c,d){if("{"==c)return u(na,"}");"variable"==c&&D(d);"*"==d&&(n.marked="keyword");return m(Ma)}function lb(c){if(","==c)return m(na,lb)}function Ma(c,
d){if("as"==d)return n.marked="keyword",m(na)}function y(c,d){if("from"==d)return n.marked="keyword",m(X)}function fa(c){return"]"==c?m():s($(Da,"]"))}var hb=ba.indentUnit,H=q.statementIndent,Na=q.jsonld,Ja=q.json||Na,F=q.typescript,Fb=q.wordCharacters||/[\w$\xa1-\uffff]/,z=function(){function c(c){return{type:c,style:"keyword"}}var d=c("keyword a"),g=c("keyword b"),h=c("keyword c"),k=c("operator"),m={type:"atom",style:"atom"},d={"if":c("if"),"while":d,"with":d,"else":g,"do":g,"try":g,"finally":g,
"return":h,"break":h,"continue":h,"new":c("new"),"delete":h,"throw":h,"debugger":h,"var":c("var"),"const":c("var"),let:c("var"),"function":c("function"),"catch":c("catch"),"for":c("for"),"switch":c("switch"),"case":c("case"),"default":c("default"),"in":k,"typeof":k,"instanceof":k,"true":m,"false":m,"null":m,undefined:m,NaN:m,Infinity:m,"this":c("this"),"class":c("class"),"super":c("atom"),yield:h,"export":c("export"),"import":c("import"),"extends":h,await:h,async:c("async")};if(F){var g={type:"variable",
style:"variable-3"},h={"interface":c("class"),"implements":h,namespace:h,module:c("module"),"enum":c("module"),"public":c("modifier"),"private":c("modifier"),"protected":c("modifier"),"abstract":c("modifier"),as:k,string:g,number:g,"boolean":g,any:g},n;for(n in h)d[n]=h[n]}return d}(),S=/[+\-*&%=<>!?|~^@]/,k=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,J,P,Z="([{}])",G={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},n={state:null,
column:null,marked:null,cc:null},p={name:"this",next:{name:"arguments"}};W.lex=!0;return{startState:function(c){c={tokenize:ea,lastType:"sof",cc:[],lexical:new E((c||0)-hb,0,"block",!1),localVars:q.localVars,context:q.localVars&&{vars:q.localVars},indented:c||0};q.globalVars&&"object"==typeof q.globalVars&&(c.globalVars=q.globalVars);return c},token:function(c,d){c.sol()&&(d.lexical.hasOwnProperty("align")||(d.lexical.align=!1),d.indented=c.indentation(),w(c,d));if(d.tokenize!=la&&c.eatSpace())return null;
var g=d.tokenize(c,d);if("comment"==J)return g;d.lastType="operator"!=J||"++"!=P&&"--"!=P?J:"incdec";a:{var h=J,k=P,m=d.cc;n.state=d;n.stream=c;n.marked=null;n.cc=m;n.style=g;d.lexical.hasOwnProperty("align")||(d.lexical.align=!0);for(;;)if((m.length?m.pop():Ja?X:va)(h,k)){for(;m.length&&m[m.length-1].lex;)m.pop()();if(n.marked){g=n.marked;break a}if(h="variable"==h)b:{for(h=d.localVars;h;h=h.next)if(h.name==k){h=!0;break b}for(m=d.context;m;m=m.prev)for(h=m.vars;h;h=h.next)if(h.name==k){h=!0;break b}h=
void 0}if(h){g="variable-2";break a}break a}g=void 0}return g},indent:function(c,d){if(c.tokenize==la)return C.Pass;if(c.tokenize!=ea)return 0;var g=d&&d.charAt(0),h=c.lexical,k;if(!/^\s*else\b/.test(d))for(var m=c.cc.length-1;0<=m;--m){var n=c.cc[m];if(n==W)h=h.prev;else if(n!=Cb)break}for(;!("stat"!=h.type&&"form"!=h.type||"}"!=g&&(!(k=c.cc[c.cc.length-1])||k!=ib&&k!=I||/^[,\.=+\-*:?[\(]/.test(d)));)h=h.prev;H&&")"==h.type&&"stat"==h.prev.type&&(h=h.prev);k=h.type;m=g==k;return"vardef"==k?h.indented+
("operator"==c.lastType||","==c.lastType?h.info+1:0):"form"==k&&"{"==g?h.indented:"form"==k?h.indented+hb:"stat"==k?(g=h.indented,h="operator"==c.lastType||","==c.lastType||S.test(d.charAt(0))||/[,.]/.test(d.charAt(0)),g+(h?H||hb:0)):"switch"!=h.info||m||!1==q.doubleIndentSwitch?h.align?h.column+(m?0:1):h.indented+(m?0:hb):h.indented+(/^(?:case|default)\b/.test(d)?hb:2*hb)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Ja?null:"/*",blockCommentEnd:Ja?null:"*/",lineComment:Ja?
null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Ja?"json":"javascript",jsonldMode:Na,jsonMode:Ja,expressionAllowed:V,skipExpression:function(c){var d=c.cc[c.cc.length-1];d!=X&&d!=Da||c.cc.pop()}}});C.registerHelper("wordChars","javascript",/[\w$]/);C.defineMIME("text/javascript","javascript");C.defineMIME("text/ecmascript","javascript");C.defineMIME("application/javascript","javascript");C.defineMIME("application/x-javascript","javascript");C.defineMIME("application/ecmascript","javascript");
C.defineMIME("application/json",{name:"javascript",json:!0});C.defineMIME("application/x-json",{name:"javascript",json:!0});C.defineMIME("application/ld+json",{name:"javascript",jsonld:!0});C.defineMIME("text/typescript",{name:"javascript",typescript:!0});C.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(C){"object"==typeof exports&&"object"==typeof module?C(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],C):C(CodeMirror)})(function(C){function V(w,E,s,m){var q=w.getLineHandle(E.line),C=E.ch-1,q=0<=C&&la[q.text.charAt(C)]||la[q.text.charAt(++C)];if(!q)return null;var R=">"==q.charAt(1)?1:-1;if(s&&0<R!=(C==E.ch))return null;s=w.getTokenTypeAt(ca(E.line,C+1));w=ba(w,ca(E.line,C+(0<R?1:0)),R,s||null,m);return null==w?null:{from:ca(E.line,
C),to:w&&w.pos,match:w&&w.ch==q.charAt(0),forward:0<R}}function ba(q,E,s,m,D){var C=D&&D.maxScanLineLength||1E4,R=D&&D.maxScanLines||1E3,K=[];D=D&&D.bracketRegex?D.bracketRegex:/[(){}[\]]/;for(var R=0<s?Math.min(E.line+R,q.lastLine()+1):Math.max(q.firstLine()-1,E.line-R),T=E.line;T!=R;T+=s){var U=q.getLine(T);if(U){var L=0<s?0:U.length-1,X=0<s?U.length:-1;if(!(U.length>C))for(T==E.line&&(L=E.ch-(0>s?1:0));L!=X;L+=s){var V=U.charAt(L);if(D.test(V)&&(void 0===m||q.getTokenTypeAt(ca(T,L+1))==m))if(">"==
la[V].charAt(1)==0<s)K.push(V);else if(K.length)K.pop();else return{pos:ca(T,L),ch:V}}}}return T-s==(0<s?q.lastLine():q.firstLine())?!1:null}function q(q,E,s){for(var m=q.state.matchBrackets.maxHighlightLineLength||1E3,D=[],C=q.listSelections(),T=0;T<C.length;T++){var K=C[T].empty()&&V(q,C[T].head,!1,s);if(K&&q.getLine(K.from.line).length<=m){var L=K.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";D.push(q.markText(K.from,ca(K.from.line,K.from.ch+1),{className:L}));K.to&&q.getLine(K.to.line).length<=
m&&D.push(q.markText(K.to,ca(K.to.line,K.to.ch+1),{className:L}))}}if(D.length)if(ea&&q.state.focused&&q.focus(),s=function(){q.operation(function(){for(var m=0;m<D.length;m++)D[m].clear()})},E)setTimeout(s,800);else return s}function L(w){w.operation(function(){T&&(T(),T=null);T=q(w,!1,w.state.matchBrackets)})}var ea=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),ca=C.Pos,la={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},T=null;C.defineOption("matchBrackets",
!1,function(q,E,s){s&&s!=C.Init&&(q.off("cursorActivity",L),T&&(T(),T=null));E&&(q.state.matchBrackets="object"==typeof E?E:{},q.on("cursorActivity",L))});C.defineExtension("matchBrackets",function(){q(this,!0)});C.defineExtension("findMatchingBracket",function(q,E,s){return V(this,q,E,s)});C.defineExtension("scanForBracket",function(q,E,s,m){return ba(this,q,E,s,m)})});(function(C){"object"==typeof exports&&"object"==typeof module?C(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],C):C(CodeMirror)})(function(C){function V(q){for(var w=0;w<q.state.activeLines.length;w++)q.removeLineClass(q.state.activeLines[w],"wrap",ea),q.removeLineClass(q.state.activeLines[w],"background",ca),q.removeLineClass(q.state.activeLines[w],"gutter",la)}function ba(q,w){if(q.length!=w.length)return!1;for(var E=0;E<q.length;E++)if(q[E]!=
w[E])return!1;return!0}function q(q,w){for(var E=[],s=0;s<w.length;s++){var m=w[s],D=q.getOption("styleActiveLine");if("object"==typeof D&&D.nonEmpty?m.anchor.line==m.head.line:m.empty())m=q.getLineHandleVisualStart(m.head.line),E[E.length-1]!=m&&E.push(m)}ba(q.state.activeLines,E)||q.operation(function(){V(q);for(var m=0;m<E.length;m++)q.addLineClass(E[m],"wrap",ea),q.addLineClass(E[m],"background",ca),q.addLineClass(E[m],"gutter",la);q.state.activeLines=E})}function L(C,w){q(C,w.ranges)}var ea=
"CodeMirror-activeline",ca="CodeMirror-activeline-background",la="CodeMirror-activeline-gutter";C.defineOption("styleActiveLine",!1,function(T,w,E){E=E==C.Init?!1:E;w!=E&&(E&&(T.off("beforeSelectionChange",L),V(T),delete T.state.activeLines),w&&(T.state.activeLines=[],q(T,T.listSelections()),T.on("beforeSelectionChange",L)))})});(function(C){"object"==typeof exports&&"object"==typeof module?C(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],C):C(CodeMirror)})(function(C){function V(q){this.options={};for(var s in w)this.options[s]=(q&&q.hasOwnProperty(s)?q:w)[s];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function ba(q){var s=q.state.matchHighlighter;(s.active||q.hasFocus())&&L(q,s)}function q(q){var s=
q.state.matchHighlighter;s.active||(s.active=!0,L(q,s))}function L(q,s){clearTimeout(s.timeout);s.timeout=setTimeout(function(){la(q)},s.options.delay)}function ea(q,s,m,D){var w=q.state.matchHighlighter;q.addOverlay(w.overlay=T(s,m,D));w.options.annotateScrollbar&&q.showMatchesOnScrollbar&&(w.matchesonscroll=q.showMatchesOnScrollbar(m?RegExp("\\b"+s+"\\b"):s,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function ca(q){var s=q.state.matchHighlighter;s.overlay&&(q.removeOverlay(s.overlay),
s.overlay=null,s.matchesonscroll&&(s.matchesonscroll.clear(),s.matchesonscroll=null))}function la(q){q.operation(function(){var s=q.state.matchHighlighter;ca(q);if(!q.somethingSelected()&&s.options.showToken){for(var m=!0===s.options.showToken?/[\w$]/:s.options.showToken,D=q.getCursor(),w=q.getLine(D.line),C=D=D.ch;D&&m.test(w.charAt(D-1));)--D;for(;C<w.length&&m.test(w.charAt(C));)++C;D<C&&ea(q,w.slice(D,C),m,s.options.style)}else if(m=q.getCursor("from"),w=q.getCursor("to"),m.line==w.line){if(D=
s.options.wordsOnly){a:if(null!==q.getRange(m,w).match(/^\w+$/)){if(0<m.ch&&(D={line:m.line,ch:m.ch-1},D=q.getRange(D,m),null===D.match(/\W/))){D=!1;break a}if(w.ch<q.getLine(m.line).length&&(D={line:w.line,ch:w.ch+1},D=q.getRange(w,D),null===D.match(/\W/))){D=!1;break a}D=!0}else D=!1;D=!D}D||(m=q.getRange(m,w),s.options.trim&&(m=m.replace(/^\s+|\s+$/g,"")),m.length>=s.options.minChars&&ea(q,m,!1,s.options.style))}})}function T(q,s,m){return{token:function(w){var C;if(C=w.match(q))(C=!s)||(C=(!w.start||
!s.test(w.string.charAt(w.start-1)))&&(w.pos==w.string.length||!s.test(w.string.charAt(w.pos))));if(C)return m;w.next();w.skipTo(q.charAt(0))||w.skipToEnd()}}}var w={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};C.defineOption("highlightSelectionMatches",!1,function(w,s,m){m&&m!=C.Init&&(ca(w),clearTimeout(w.state.matchHighlighter.timeout),w.state.matchHighlighter=null,w.off("cursorActivity",ba),w.off("focus",q));if(s){s=w.state.matchHighlighter=
new V(s);if(w.hasFocus())s.active=!0,la(w);else w.on("focus",q);w.on("cursorActivity",ba)}})});(function(C,V){"function"===typeof define&&define.amd?define(["exports"],V):"undefined"!==typeof exports?V(exports):V(C.esprima={})})(this,function(C){function V(c,d){if(!c)throw Error("ASSERT: "+d);}function ba(c){return 48<=c&&57>=c}function q(c){return 0<="0123456789abcdefABCDEF".indexOf(c)}function L(c){return 0<="01234567".indexOf(c)}function ea(c){return 10===c||13===c||8232===c||8233===c}function ca(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||92===c||128<=c&&Fb.NonAsciiIdentifierStart.test(String.fromCharCode(c))}
function la(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||48<=c&&57>=c||92===c||128<=c&&Fb.NonAsciiIdentifierPart.test(String.fromCharCode(c))}function T(c){switch(c){case "implements":case "interface":case "package":case "private":case "protected":case "public":case "static":case "yield":case "let":return!0;default:return!1}}function w(c){return"eval"===c||"arguments"===c}function E(c){if(S&&T(c))return!0;switch(c.length){case 2:return"if"===c||"in"===c||"do"===c;case 3:return"var"===c||
"for"===c||"new"===c||"try"===c||"let"===c;case 4:return"this"===c||"else"===c||"case"===c||"void"===c||"with"===c||"enum"===c;case 5:return"while"===c||"break"===c||"catch"===c||"throw"===c||"const"===c||"yield"===c||"class"===c||"super"===c;case 6:return"return"===c||"typeof"===c||"delete"===c||"switch"===c||"export"===c||"import"===c;case 7:return"default"===c||"finally"===c||"extends"===c;case 8:return"function"===c||"continue"===c||"debugger"===c;case 10:return"instanceof"===c;default:return!1}}
function s(c,d,g,h,k){V("number"===typeof g,"Comment must have valid position");n.lastCommentStart>=g||(n.lastCommentStart=g,c={type:c,value:d},p.range&&(c.range=[g,h]),p.loc&&(c.loc=k),p.comments.push(c),p.attachComment&&(p.leadingComments.push(c),p.trailingComments.push(c)))}function m(c){var d,g,h;d=k-c;for(g={start:{line:J,column:k-P-c}};k<Z;)if(h=z.charCodeAt(k),++k,ea(h)){p.comments&&(c=z.slice(d+c,k-1),g.end={line:J,column:k-P-1},s("Line",c,d,k-1,g));13===h&&10===z.charCodeAt(k)&&++k;++J;P=
k;return}p.comments&&(c=z.slice(d+c,k),g.end={line:J,column:k-P},s("Line",c,d,k,g))}function D(){var c,d;for(d=0===k;k<Z;)if(c=z.charCodeAt(k),32===c||9===c||11===c||12===c||160===c||5760<=c&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(c))++k;else if(ea(c))++k,13===c&&10===z.charCodeAt(k)&&++k,++J,P=k,d=!0;else if(47===c)if(c=z.charCodeAt(k+1),47===c)++k,++k,m(2),d=!0;else if(42===c){++k;++k;a:{var g=c=void 0,h=void 0,h=void 0;p.comments&&(c=
k-2,g={start:{line:J,column:k-P-2}});for(;k<Z;)if(h=z.charCodeAt(k),ea(h))13===h&&10===z.charCodeAt(k+1)&&++k,++J,++k,P=k,k>=Z&&B();else{if(42===h&&47===z.charCodeAt(k+1)){++k;++k;p.comments&&(h=z.slice(c+2,k-2),g.end={line:J,column:k-P},s("Block",h,c,k,g));break a}++k}B()}}else break;else if(d&&45===c)if(45===z.charCodeAt(k+1)&&62===z.charCodeAt(k+2))k+=3,m(3);else break;else if(60===c)if("!--"===z.slice(k+1,k+4))++k,++k,++k,++k,m(4);else break;else break}function Ua(c){var d,g,h=0;d="u"===c?4:2;
for(c=0;c<d;++c)if(k<Z&&q(z[k]))g=z[k++],h=16*h+"0123456789abcdef".indexOf(g.toLowerCase());else return"";return String.fromCharCode(h)}function R(){var c,d;c=z.charCodeAt(k++);d=String.fromCharCode(c);92===c&&(117!==z.charCodeAt(k)&&B(),++k,(c=Ua("u"))&&"\\"!==c&&ca(c.charCodeAt(0))||B(),d=c);for(;k<Z;){c=z.charCodeAt(k);if(!la(c))break;++k;d+=String.fromCharCode(c);92===c&&(d=d.substr(0,d.length-1),117!==z.charCodeAt(k)&&B(),++k,(c=Ua("u"))&&"\\"!==c&&la(c.charCodeAt(0))||B(),d+=c)}return d}function K(){var c=
k,d=z.charCodeAt(k),g,h=z[k];switch(d){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++k,p.tokenize&&(40===d?p.openParenToken=p.tokens.length:123===d&&(p.openCurlyToken=p.tokens.length)),{type:y.Punctuator,value:String.fromCharCode(d),lineNumber:J,lineStart:P,start:c,end:k};default:if(g=z.charCodeAt(k+1),61===g)switch(d){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return k+=2,{type:y.Punctuator,value:String.fromCharCode(d)+
String.fromCharCode(g),lineNumber:J,lineStart:P,start:c,end:k};case 33:case 61:return k+=2,61===z.charCodeAt(k)&&++k,{type:y.Punctuator,value:z.slice(c,k),lineNumber:J,lineStart:P,start:c,end:k}}}d=z.substr(k,4);if(">>>="===d)return k+=4,{type:y.Punctuator,value:d,lineNumber:J,lineStart:P,start:c,end:k};d=d.substr(0,3);if(">>>"===d||"<<="===d||">>="===d)return k+=3,{type:y.Punctuator,value:d,lineNumber:J,lineStart:P,start:c,end:k};d=d.substr(0,2);if(h===d[1]&&0<="+-<>&|".indexOf(h)||"=>"===d)return k+=
2,{type:y.Punctuator,value:d,lineNumber:J,lineStart:P,start:c,end:k};if(0<="<>=!+-*%&|^/".indexOf(h))return++k,{type:y.Punctuator,value:h,lineNumber:J,lineStart:P,start:c,end:k};B()}function W(){var c,d,g;g=z[k];V(ba(g.charCodeAt(0))||"."===g,"Numeric literal must start with a decimal digit or a decimal point");d=k;c="";if("."!==g){c=z[k++];g=z[k];if("0"===c){if("x"===g||"X"===g){++k;for(c="";k<Z&&q(z[k]);)c+=z[k++];0===c.length&&B();ca(z.charCodeAt(k))&&B();return{type:y.NumericLiteral,value:parseInt("0x"+
c,16),lineNumber:J,lineStart:P,start:d,end:k}}if("b"===g||"B"===g){++k;for(g="";k<Z;){c=z[k];if("0"!==c&&"1"!==c)break;g+=z[k++]}0===g.length&&B();k<Z&&(c=z.charCodeAt(k),(ca(c)||ba(c))&&B());return{type:y.NumericLiteral,value:parseInt(g,2),lineNumber:J,lineStart:P,start:d,end:k}}var h;if(!(h="o"===g||"O"===g)&&(h=L(g)))a:{var m;for(h=k+1;h<Z;++h){m=z[h];if("8"===m||"9"===m){h=!1;break a}if(!L(m))break}h=!0}if(h){L(g)?(g=!0,c="0"+z[k++]):(g=!1,++k,c="");for(;k<Z&&L(z[k]);)c+=z[k++];g||0!==c.length||
B();(ca(z.charCodeAt(k))||ba(z.charCodeAt(k)))&&B();return{type:y.NumericLiteral,value:parseInt(c,8),octal:g,lineNumber:J,lineStart:P,start:d,end:k}}}for(;ba(z.charCodeAt(k));)c+=z[k++];g=z[k]}if("."===g){for(c+=z[k++];ba(z.charCodeAt(k));)c+=z[k++];g=z[k]}if("e"===g||"E"===g){c+=z[k++];g=z[k];if("+"===g||"-"===g)c+=z[k++];if(ba(z.charCodeAt(k)))for(;ba(z.charCodeAt(k));)c+=z[k++];else B()}ca(z.charCodeAt(k))&&B();return{type:y.NumericLiteral,value:parseFloat(c),lineNumber:J,lineStart:P,start:d,end:k}}
function U(c,d){var g=c;0<=d.indexOf("u")&&(g=g.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(c,d){if(1114111>=parseInt(d,16))return"x";sa(F.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{return RegExp(c,d)}catch(h){return null}}function va(){var c,d,g,h,m,n;G=null;D();m=k;g=z[k];V("/"===g,"Regular expression literal must start with a slash");h=z[k++];for(c=d=!1;k<Z;)if(g=z[k++],h+=g,"\\"===g)g=z[k++],ea(g.charCodeAt(0))&&sa(F.UnterminatedRegExp),h+=g;else if(ea(g.charCodeAt(0)))sa(F.UnterminatedRegExp);
else if(d)"]"===g&&(d=!1);else if("/"===g){c=!0;break}else"["===g&&(d=!0);c||sa(F.UnterminatedRegExp);g=h.substr(1,h.length-2);var q;for(n=d="";k<Z;){c=z[k];if(!la(c.charCodeAt(0)))break;++k;if("\\"===c&&k<Z){c=z[k];if("u"===c)if(++k,q=k,c=Ua("u"))for(n+=c,d+="\\u";q<k;++q)d+=z[q];else k=q,n+="u",d+="\\u";else d+="\\";ta()}else n+=c,d+=c}c=n;n=U(g,c);return p.tokenize?{type:y.RegularExpression,value:n,regex:{pattern:g,flags:c},lineNumber:J,lineStart:P,start:m,end:k}:{literal:h+d,value:n,regex:{pattern:g,
flags:c},start:m,end:k}}function X(){var c,d,g,h;D();c=k;d={start:{line:J,column:k-P}};g=va();d.end={line:J,column:k-P};p.tokenize||(0<p.tokens.length&&(h=p.tokens[p.tokens.length-1],h.range[0]===c&&"Punctuator"===h.type&&("/"!==h.value&&"/="!==h.value||p.tokens.pop())),p.tokens.push({type:"RegularExpression",value:g.literal,regex:g.regex,range:[c,k],loc:d}));return g}function Da(){var c;c=p.tokens[p.tokens.length-1];if(!c)return X();if("Punctuator"===c.type){if("]"===c.value)return K();if(")"===
c.value)return c=p.tokens[p.openParenToken-1],!c||"Keyword"!==c.type||"if"!==c.value&&"while"!==c.value&&"for"!==c.value&&"with"!==c.value?K():X();if("}"===c.value){if(p.tokens[p.openCurlyToken-3]&&"Keyword"===p.tokens[p.openCurlyToken-3].type){if(c=p.tokens[p.openCurlyToken-4],!c)return K()}else if(p.tokens[p.openCurlyToken-4]&&"Keyword"===p.tokens[p.openCurlyToken-4].type){if(c=p.tokens[p.openCurlyToken-5],!c)return X()}else return K();if(0<=hb.indexOf(c.value))return K()}return X()}return"Keyword"===
c.type&&"this"!==c.value?X():K()}function qb(){var c;D();if(k>=Z)return{type:y.EOF,lineNumber:J,lineStart:P,start:k,end:k};c=z.charCodeAt(k);if(ca(c)){var d;c=k;if(92===z.charCodeAt(k))d=R();else a:{var g;for(d=k++;k<Z;){g=z.charCodeAt(k);if(92===g){k=d;d=R();break a}if(la(g))++k;else break}d=z.slice(d,k)}return{type:1===d.length?y.Identifier:E(d)?y.Keyword:"null"===d?y.NullLiteral:"true"===d||"false"===d?y.BooleanLiteral:y.Identifier,value:d,lineNumber:J,lineStart:P,start:c,end:k}}if(40===c||41===
c||59===c)return K();if(39===c||34===c){var h="",m,n,s;g=!1;var u,w;u=J;w=P;c=z[k];V("'"===c||'"'===c,"String literal must starts with a quote");d=k;for(++k;k<Z;)if(m=z[k++],m===c){c="";break}else if("\\"===m)if((m=z[k++])&&ea(m.charCodeAt(0)))++J,"\r"===m&&"\n"===z[k]&&++k,P=k;else switch(m){case "u":case "x":if("{"===z[k]){++k;n=m=n=void 0;n=z[k];m=0;for("}"===n&&B();k<Z;){n=z[k++];if(!q(n))break;m=16*m+"0123456789abcdef".indexOf(n.toLowerCase())}(1114111<m||"}"!==n)&&B();65535>=m?m=String.fromCharCode(m):
(n=(m-65536>>10)+55296,m=String.fromCharCode(n,(m-65536&1023)+56320));h+=m}else s=k,(n=Ua(m))?h+=n:(k=s,h+=m);break;case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "b":h+="\b";break;case "f":h+="\f";break;case "v":h+="\x0B";break;default:L(m)?(n="01234567".indexOf(m),0!==n&&(g=!0),k<Z&&L(z[k])&&(g=!0,n=8*n+"01234567".indexOf(z[k++]),0<="0123".indexOf(m)&&k<Z&&L(z[k])&&(n=8*n+"01234567".indexOf(z[k++]))),h+=String.fromCharCode(n)):h+=m}else if(ea(m.charCodeAt(0)))break;else h+=
m;""!==c&&B();return{type:y.StringLiteral,value:h,octal:g,startLineNumber:u,startLineStart:w,lineNumber:J,lineStart:P,start:d,end:k}}return 46===c?ba(z.charCodeAt(k+1))?W():K():ba(c)?W():p.tokenize&&47===c?Da():K()}function zb(){var c,d,g;D();c={start:{line:J,column:k-P}};d=qb();c.end={line:J,column:k-P};d.type!==y.EOF&&(g=z.slice(d.start,d.end),c={type:fa[d.type],value:g,range:[d.start,d.end],loc:c},d.regex&&(c.regex={pattern:d.regex.pattern,flags:d.regex.flags}),p.tokens.push(c));return d}function M(){var c;
c=G;k=c.end;J=c.lineNumber;P=c.lineStart;G="undefined"!==typeof p.tokens?zb():qb();k=c.end;J=c.lineNumber;P=c.lineStart;return c}function rb(){var c,d,g;c=k;d=J;g=P;G="undefined"!==typeof p.tokens?zb():qb();k=c;J=d;P=g}function ib(){this.line=J;this.column=k-P}function I(){this.start=new ib;this.end=null}function Va(c){this.start=c.type===y.StringLiteral?{line:c.startLineNumber,column:c.start-c.startLineStart}:{line:c.lineNumber,column:c.start-c.lineStart};this.end=null}function ja(){k=G.start;G.type===
y.StringLiteral?(J=G.startLineNumber,P=G.startLineStart):(J=G.lineNumber,P=G.lineStart);p.range&&(this.range=[k,0]);p.loc&&(this.loc=new I)}function ga(c){p.range&&(this.range=[c.start,0]);p.loc&&(this.loc=new Va(c))}function Y(){var c,d,g,h;c=k;d=J;g=P;D();h=J!==d;k=c;J=d;P=g;return h}function Wa(c,d,g){var h=Error("Line "+c+": "+g);h.index=d;h.lineNumber=c;h.column=d-P+1;h.description=g;return h}function sa(c){var d,g;d=Array.prototype.slice.call(arguments,1);g=c.replace(/%(\d)/g,function(c,g){V(g<
d.length,"Message reference must be in range");return d[g]});throw Wa(J,k,g);}function wa(c){var d,g;d=Array.prototype.slice.call(arguments,1);g=c.replace(/%(\d)/g,function(c,g){V(g<d.length,"Message reference must be in range");return d[g]});g=Wa(J,k,g);if(p.errors)p.errors.push(g);else throw g;}function x(c,d){var g=F.UnexpectedToken;if(c&&(g=d?d:c.type===y.EOF?F.UnexpectedEOS:c.type===y.Identifier?F.UnexpectedIdentifier:c.type===y.NumericLiteral?F.UnexpectedNumber:c.type===y.StringLiteral?F.UnexpectedString:
F.UnexpectedToken,c.type===y.Keyword)){var h;a:switch(c.value){case "class":case "enum":case "export":case "extends":case "import":case "super":h=!0;break a;default:h=!1}h?g=F.UnexpectedReserved:S&&T(c.value)&&(g=F.StrictReservedWord)}g=g.replace("%0",c?c.value:"ILLEGAL");return c&&"number"===typeof c.lineNumber?Wa(c.lineNumber,c.start,g):Wa(J,k,g)}function B(c,d){throw x(c,d);}function ta(c,d){var g=x(c,d);if(p.errors)p.errors.push(g);else throw g;}function N(c){var d=M();d.type===y.Punctuator&&
d.value===c||B(d)}function Xa(){var c;p.errors?(c=G,c.type===y.Punctuator&&","===c.value?M():c.type===y.Punctuator&&";"===c.value?(M(),ta(c)):ta(c,F.UnexpectedToken)):N(",")}function $(c){var d=M();d.type===y.Keyword&&d.value===c||B(d)}function u(c){return G.type===y.Punctuator&&G.value===c}function qa(c){return G.type===y.Keyword&&G.value===c}function xa(){var c,d=k,g=J,h=P,m=G;59===z.charCodeAt(k)||u(";")?M():(c=J,D(),J!==c?(k=d,J=g,P=h,G=m):G.type===y.EOF||u("}")||B(G))}function ua(c){return c.type===
H.Identifier||c.type===H.MemberExpression}function sb(c,d){var g,h,k=new ja;g=S;h=Eb();d&&S&&w(c[0].name)&&ta(d,F.StrictParamName);S=g;return k.finishFunctionExpression(null,c,[],h)}function tb(){var c,d;c=S;S=!0;d=ma();d=sb(d.params);S=c;return d}function Ab(){var c,d=new ja;c=M();return c.type===y.StringLiteral||c.type===y.NumericLiteral?(S&&c.octal&&ta(c,F.StrictOctalLiteral),d.finishLiteral(c)):d.finishIdentifier(c.value)}function ub(){var c,d,g,h=new ja;c=G;if(c.type===y.Identifier)return d=
Ab(),"get"!==c.value||u(":")||u("(")?"set"!==c.value||u(":")||u("(")?u(":")?(M(),c=ya(),h.finishProperty("init",d,c,!1,!1)):u("(")?(c=tb(),h.finishProperty("init",d,c,!0,!1)):h.finishProperty("init",d,d,!1,!0):(d=Ab(),N("("),c=G,c.type!==y.Identifier?(N(")"),ta(c),c=sb([])):(g=[Ya()],N(")"),c=sb(g,c)),h.finishProperty("set",d,c,!1,!1)):(d=Ab(),N("("),N(")"),c=sb([]),h.finishProperty("get",d,c,!1,!1));if(c.type===y.EOF||c.type===y.Punctuator)B(c);else{d=Ab();if(u(":"))return M(),c=ya(),h.finishProperty("init",
d,c,!1,!1);if(u("("))return c=tb(),h.finishProperty("init",d,c,!0,!1);B(M())}}function Bb(){var c,d,g,h;if(u("("))return N("("),u(")")?(M(),d=Na.ArrowParameterPlaceHolder):(++n.parenthesisCount,d=da(),N(")")),d;if(u("[")){d=[];var k=new ja;for(N("[");!u("]");)u(",")?(M(),d.push(null)):(d.push(ya()),u("]")||N(","));M();return k.finishArrayExpression(d)}if(u("{")){d=[];var m;c={};g=String;var q=new ja;for(N("{");!u("}");)k=ub(),m=k.key.type===H.Identifier?k.key.name:g(k.key.value),h="init"===k.kind?
Ja.Data:"get"===k.kind?Ja.Get:Ja.Set,m="$"+m,Object.prototype.hasOwnProperty.call(c,m)?(c[m]===Ja.Data?S&&h===Ja.Data?wa(F.StrictDuplicateProperty):h!==Ja.Data&&wa(F.AccessorDataProperty):h===Ja.Data?wa(F.AccessorDataProperty):c[m]&h&&wa(F.AccessorGetSet),c[m]|=h):c[m]=h,d.push(k),u("}")||Xa();N("}");return q.finishObjectExpression(d)}c=G.type;h=new ja;if(c===y.Identifier)g=h.finishIdentifier(M().value);else if(c===y.StringLiteral||c===y.NumericLiteral)S&&G.octal&&ta(G,F.StrictOctalLiteral),g=h.finishLiteral(M());
else if(c===y.Keyword){if(qa("function")){h=null;var s,q=[];m=[];var x;c=new ja;$("function");u("(")||(g=G,h=Ya(),S?w(g.value)&&ta(g,F.StrictFunctionName):w(g.value)?(d=g,k=F.StrictFunctionName):T(g.value)&&(d=g,k=F.StrictReservedWord));s=ma(d);q=s.params;m=s.defaults;g=s.stricted;d=s.firstRestricted;s.message&&(k=s.message);x=S;s=Eb();S&&d&&B(d,k);S&&g&&ta(g,k);S=x;return c.finishFunctionExpression(h,q,m,s)}qa("this")?(M(),g=h.finishThisExpression()):B(M())}else c===y.BooleanLiteral?(d=M(),d.value=
"true"===d.value,g=h.finishLiteral(d)):c===y.NullLiteral?(d=M(),d.value=null,g=h.finishLiteral(d)):u("/")||u("/=")?(g="undefined"!==typeof p.tokens?h.finishLiteral(X()):h.finishLiteral(va()),rb()):B(M());return g}function Oa(){var c=[];N("(");if(!u(")"))for(;k<Z;){c.push(ya());if(u(")"))break;Xa()}N(")");return c}function eb(){N(".");var c,d=new ja;c=M();c.type===y.Identifier||c.type===y.Keyword||c.type===y.BooleanLiteral||c.type===y.NullLiteral||B(c);return d.finishIdentifier(c.value)}function jb(){var c;
N("[");c=da();N("]");return c}function Qa(){var c,d,g=new ja;$("new");var h;V(n.allowIn,"callee of new expression always allow in keyword.");h=G;for(c=qa("new")?Qa():Bb();;)if(u("["))d=jb(),c=(new ga(h)).finishMemberExpression("[",c,d);else if(u("."))d=eb(),c=(new ga(h)).finishMemberExpression(".",c,d);else break;d=u("(")?Oa():[];return g.finishNewExpression(c,d)}function Cb(){var c,d,g=G,h,k=n.allowIn;d=G;n.allowIn=!0;for(c=qa("new")?Qa():Bb();;)if(u("."))h=eb(),c=(new ga(d)).finishMemberExpression(".",
c,h);else if(u("("))h=Oa(),c=(new ga(d)).finishCallExpression(c,h);else if(u("["))h=jb(),c=(new ga(d)).finishMemberExpression("[",c,h);else break;n.allowIn=k;G.type!==y.Punctuator||!u("++")&&!u("--")||Y()||(S&&c.type===H.Identifier&&w(c.name)&&wa(F.StrictLHSPostfix),ua(c)||wa(F.InvalidLHSInAssignment),d=M(),c=(new ga(g)).finishPostfixExpression(d.value,c));return c}function kb(){var c,d,g;G.type!==y.Punctuator&&G.type!==y.Keyword?d=Cb():u("++")||u("--")?(g=G,c=M(),d=kb(),S&&d.type===H.Identifier&&
w(d.name)&&wa(F.StrictLHSPrefix),ua(d)||wa(F.InvalidLHSInAssignment),d=(new ga(g)).finishUnaryExpression(c.value,d)):u("+")||u("-")||u("~")||u("!")?(g=G,c=M(),d=kb(),d=(new ga(g)).finishUnaryExpression(c.value,d)):qa("delete")||qa("void")||qa("typeof")?(g=G,c=M(),d=kb(),d=(new ga(g)).finishUnaryExpression(c.value,d),S&&"delete"===d.operator&&d.argument.type===H.Identifier&&wa(F.StrictDelete)):d=Cb();return d}function fb(c,d){var g=0;if(c.type!==y.Punctuator&&c.type!==y.Keyword)return 0;switch(c.value){case "||":g=
1;break;case "&&":g=2;break;case "|":g=3;break;case "^":g=4;break;case "&":g=5;break;case "==":case "!=":case "===":case "!==":g=6;break;case "<":case ">":case "<=":case ">=":case "instanceof":g=7;break;case "in":g=d?7:0;break;case "<<":case ">>":case ">>>":g=8;break;case "+":case "-":g=9;break;case "*":case "/":case "%":g=11}return g}function Rb(){var c,d,g,h,k,m;c=G;d=kb();if(d===Na.ArrowParameterPlaceHolder)return d;g=G;h=fb(g,n.allowIn);if(0===h)return d;g.prec=h;M();c=[c,G];m=kb();for(k=[d,g,
m];0<(h=fb(G,n.allowIn));){for(;2<k.length&&h<=k[k.length-2].prec;)m=k.pop(),g=k.pop().value,d=k.pop(),c.pop(),d=(new ga(c[c.length-1])).finishBinaryExpression(g,d,m),k.push(d);g=M();g.prec=h;k.push(g);c.push(G);d=kb();k.push(d)}h=k.length-1;d=k[h];for(c.pop();1<h;)d=(new ga(c.pop())).finishBinaryExpression(k[h-1].value,k[h-2],d),h-=2;return d}function Aa(c){var d,g,h,k,m,n,p;k=[];m=[];n=0;p={paramSet:{}};d=0;for(g=c.length;d<g;d+=1)if(h=c[d],h.type===H.Identifier)k.push(h),m.push(null),Ba(p,h,h.name);
else if(h.type===H.AssignmentExpression)k.push(h.left),m.push(h.right),++n,Ba(p,h.left,h.left.name);else return null;p.message===F.StrictParamDupe&&(c=S?p.stricted:p.firstRestricted,B(c,p.message));0===n&&(m=[]);return{params:k,defaults:m,rest:null,stricted:p.stricted,firstRestricted:p.firstRestricted,message:p.message}}function ya(){var c,d,g,h,k;c=n.parenthesisCount;d=k=G;var m,p,q;q=G;g=Rb();g!==Na.ArrowParameterPlaceHolder&&u("?")&&(M(),m=n.allowIn,n.allowIn=!0,p=ya(),n.allowIn=m,N(":"),m=ya(),
g=(new ga(q)).finishConditionalExpression(g,p,m));if(g===Na.ArrowParameterPlaceHolder||u("=>"))if(n.parenthesisCount===c||n.parenthesisCount===c+1)if(g.type===H.Identifier?h=Aa([g]):g.type===H.AssignmentExpression?h=Aa([g]):g.type===H.SequenceExpression?h=Aa(g.expressions):g===Na.ArrowParameterPlaceHolder&&(h=Aa([])),h)return d=h,k=new ga(k),N("=>"),c=S,h=u("{")?Eb():ya(),S&&d.firstRestricted&&B(d.firstRestricted,d.message),S&&d.stricted&&ta(d.stricted,d.message),S=c,k.finishArrowFunctionExpression(d.params,
d.defaults,h,h.type!==H.BlockStatement);G.type!==y.Punctuator?c=!1:(c=G.value,c="="===c||"*="===c||"/="===c||"%="===c||"+="===c||"-="===c||"<<="===c||">>="===c||">>>="===c||"&="===c||"^="===c||"|="===c);c&&(ua(g)||wa(F.InvalidLHSInAssignment),S&&g.type===H.Identifier&&w(g.name)&&ta(d,F.StrictLHSAssignment),d=M(),c=ya(),g=(new ga(k)).finishAssignmentExpression(d.value,g,c));return g}function da(){var c,d=G;c=ya();if(u(",")){for(c=[c];k<Z&&u(",");)M(),c.push(ya());c=(new ga(d)).finishSequenceExpression(c)}return c}
function vb(){var c=new ja;N("{");for(var d=[],g;k<Z&&!u("}");){g=lb();if("undefined"===typeof g)break;d.push(g)}N("}");return c.finishBlockStatement(d)}function Ya(){var c,d=new ja;c=M();c.type!==y.Identifier&&(S&&c.type===y.Keyword&&T(c.value)?ta(c,F.StrictReservedWord):B(c));return d.finishIdentifier(c.value)}function ab(c){var d=null,g,h=new ja;g=Ya();S&&w(g.name)&&wa(F.StrictVarName);"const"===c?(N("="),d=ya()):u("=")&&(M(),d=ya());return h.finishVariableDeclarator(g,d)}function gb(c){var d=
[];do{d.push(ab(c));if(!u(","))break;M()}while(k<Z);return d}function bb(){var c,d,g=new ja;$("catch");N("(");u(")")&&B(G);c=Ya();S&&w(c.name)&&wa(F.StrictCatchVariable);N(")");d=vb();return g.finishCatchClause(c,d)}function Ia(){var c=G.type,d,g,h;c===y.EOF&&B(G);if(c===y.Punctuator&&"{"===G.value)return vb();h=new ja;if(c===y.Punctuator)switch(G.value){case ";":return h=new ja,N(";"),h.finishEmptyStatement();case "(":return d=da(),xa(),h.finishExpressionStatement(d)}else if(c===y.Keyword)switch(G.value){case "break":return d=
null,$("break"),59===z.charCodeAt(k)?(M(),n.inIteration||n.inSwitch||sa(F.IllegalBreak),h=h.finishBreakStatement(null)):Y()?(n.inIteration||n.inSwitch||sa(F.IllegalBreak),h=h.finishBreakStatement(null)):(G.type===y.Identifier&&(d=Ya(),g="$"+d.name,Object.prototype.hasOwnProperty.call(n.labelSet,g)||sa(F.UnknownLabel,d.name)),xa(),null!==d||n.inIteration||n.inSwitch||sa(F.IllegalBreak),h=h.finishBreakStatement(d)),h;case "continue":return d=null,$("continue"),59===z.charCodeAt(k)?(M(),n.inIteration||
sa(F.IllegalContinue),h=h.finishContinueStatement(null)):Y()?(n.inIteration||sa(F.IllegalContinue),h=h.finishContinueStatement(null)):(G.type===y.Identifier&&(d=Ya(),g="$"+d.name,Object.prototype.hasOwnProperty.call(n.labelSet,g)||sa(F.UnknownLabel,d.name)),xa(),null!==d||n.inIteration||sa(F.IllegalContinue),h=h.finishContinueStatement(d)),h;case "debugger":return $("debugger"),xa(),h.finishDebuggerStatement();case "do":return $("do"),g=n.inIteration,n.inIteration=!0,d=Ia(),n.inIteration=g,$("while"),
N("("),g=da(),N(")"),u(";")&&M(),h.finishDoWhileStatement(d,g);case "for":var m,p,q,s;q=n.allowIn;m=c=p=null;$("for");N("(");if(u(";"))M();else{if(qa("var")||qa("let")){n.allowIn=!1;var w=new ja;m=M();s=gb();m=w.finishVariableDeclaration(s,m.value);n.allowIn=q;1===m.declarations.length&&qa("in")&&(M(),d=m,g=da(),m=null)}else n.allowIn=!1,m=da(),n.allowIn=q,qa("in")&&(ua(m)||wa(F.InvalidLHSInForIn),M(),d=m,g=da(),m=null);"undefined"===typeof d&&N(";")}"undefined"===typeof d&&(u(";")||(c=da()),N(";"),
u(")")||(p=da()));N(")");s=n.inIteration;n.inIteration=!0;q=Ia();n.inIteration=s;return"undefined"===typeof d?h.finishForStatement(m,c,p,q):h.finishForInStatement(d,g,q);case "function":return na(h);case "if":return $("if"),N("("),d=da(),N(")"),g=Ia(),qa("else")?(M(),c=Ia()):c=null,h.finishIfStatement(d,g,c);case "return":return d=null,$("return"),n.inFunctionBody||wa(F.IllegalReturn),32===z.charCodeAt(k)&&ca(z.charCodeAt(k+1))?(d=da(),xa(),h=h.finishReturnStatement(d)):Y()?h=h.finishReturnStatement(null):
(u(";")||u("}")||G.type===y.EOF||(d=da()),xa(),h=h.finishReturnStatement(d)),h;case "switch":$("switch");N("(");d=da();N(")");N("{");g=[];if(u("}"))M();else{c=n.inSwitch;n.inSwitch=!0;for(p=!1;k<Z&&!u("}");){q=void 0;m=[];s=void 0;w=new ja;qa("default")?(M(),q=null):($("case"),q=da());for(N(":");k<Z&&!(u("}")||qa("default")||qa("case"));)s=Ia(),m.push(s);q=w.finishSwitchCase(q,m);null===q.test&&(p&&sa(F.MultipleDefaultsInSwitch),p=!0);g.push(q)}n.inSwitch=c;N("}")}h=h.finishSwitchStatement(d,g);return h;
case "throw":return $("throw"),Y()&&sa(F.NewlineAfterThrow),d=da(),xa(),h.finishThrowStatement(d);case "try":return g=[],c=null,$("try"),d=vb(),qa("catch")&&g.push(bb()),qa("finally")&&(M(),c=vb()),0!==g.length||c||sa(F.NoCatchOrFinally),h.finishTryStatement(d,[],g,c);case "var":return $("var"),d=gb(),xa(),h.finishVariableDeclaration(d,"var");case "while":return $("while"),N("("),d=da(),N(")"),c=n.inIteration,n.inIteration=!0,g=Ia(),n.inIteration=c,h.finishWhileStatement(d,g);case "with":return S&&
(D(),wa(F.StrictModeWith)),$("with"),N("("),d=da(),N(")"),g=Ia(),h.finishWithStatement(d,g)}d=da();if(d.type===H.Identifier&&u(":"))return M(),c="$"+d.name,Object.prototype.hasOwnProperty.call(n.labelSet,c)&&sa(F.Redeclaration,"Label",d.name),n.labelSet[c]=!0,g=Ia(),delete n.labelSet[c],h.finishLabeledStatement(d,g);xa();return h.finishExpressionStatement(d)}function Eb(){var c,d=[],g,h,m,p,q,s=new ja;for(N("{");k<Z&&G.type===y.StringLiteral;){g=G;c=lb();d.push(c);if(c.expression.type!==H.Literal)break;
c=z.slice(g.start+1,g.end-1);"use strict"===c?(S=!0,h&&ta(h,F.StrictOctalLiteral)):!h&&g.octal&&(h=g)}g=n.labelSet;h=n.inIteration;m=n.inSwitch;p=n.inFunctionBody;q=n.parenthesizedCount;n.labelSet={};n.inIteration=!1;n.inSwitch=!1;n.inFunctionBody=!0;for(n.parenthesizedCount=0;k<Z&&!u("}");){c=lb();if("undefined"===typeof c)break;d.push(c)}N("}");n.labelSet=g;n.inIteration=h;n.inSwitch=m;n.inFunctionBody=p;n.parenthesizedCount=q;return s.finishBlockStatement(d)}function Ba(c,d,g){var h="$"+g;S?(w(g)&&
(c.stricted=d,c.message=F.StrictParamName),Object.prototype.hasOwnProperty.call(c.paramSet,h)&&(c.stricted=d,c.message=F.StrictParamDupe)):c.firstRestricted||(w(g)?(c.firstRestricted=d,c.message=F.StrictParamName):T(g)?(c.firstRestricted=d,c.message=F.StrictReservedWord):Object.prototype.hasOwnProperty.call(c.paramSet,h)&&(c.firstRestricted=d,c.message=F.StrictParamDupe));c.paramSet[h]=!0}function ma(c){c={params:[],defaultCount:0,defaults:[],firstRestricted:c};N("(");if(!u(")"))for(c.paramSet={};k<
Z;){var d=c,g=void 0,h=void 0,m=void 0,g=G,h=Ya();Ba(d,g,g.value);u("=")&&(M(),m=ya(),++d.defaultCount);d.params.push(h);d.defaults.push(m);if(u(")"))break;N(",")}N(")");0===c.defaultCount&&(c.defaults=[]);return{params:c.params,defaults:c.defaults,stricted:c.stricted,firstRestricted:c.firstRestricted,message:c.message}}function na(){var c,d=[],g=[],h,k,m,n,p,q=new ja;$("function");d=G;c=Ya();S?w(d.value)&&ta(d,F.StrictFunctionName):w(d.value)?(m=d,n=F.StrictFunctionName):T(d.value)&&(m=d,n=F.StrictReservedWord);
h=ma(m);d=h.params;g=h.defaults;k=h.stricted;m=h.firstRestricted;h.message&&(n=h.message);p=S;h=Eb();S&&m&&B(m,n);S&&k&&ta(k,n);S=p;return q.finishFunctionDeclaration(c,d,g,h)}function lb(){if(G.type===y.Keyword)switch(G.value){case "const":case "let":var c=G.value,d,g=new ja;$(c);d=gb(c);xa();return g.finishVariableDeclaration(d,c);case "function":return na();default:return Ia()}if(G.type!==y.EOF)return Ia()}function Ma(){var c,d,g,h=[];for(c=0;c<p.tokens.length;++c)d=p.tokens[c],g={type:d.type,
value:d.value},d.regex&&(g.regex={pattern:d.regex.pattern,flags:d.regex.flags}),p.range&&(g.range=d.range),p.loc&&(g.loc=d.loc),h.push(g);p.tokens=h}var y,fa,hb,H,Na,Ja,F,Fb,z,S,k,J,P,Z,G,n,p;y={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};fa={};fa[y.BooleanLiteral]="Boolean";fa[y.EOF]="<end>";fa[y.Identifier]="Identifier";fa[y.Keyword]="Keyword";fa[y.NullLiteral]="Null";fa[y.NumericLiteral]="Numeric";fa[y.Punctuator]=
"Punctuator";fa[y.StringLiteral]="String";fa[y.RegularExpression]="RegularExpression";hb="( { [ in typeof instanceof new return case delete throw void = += -= *= /= %= <<= >>= >>>= &= |= ^= , + - * / % ++ -- << >> >>> & | ^ ! ~ && || ? : === == >= <= < > != !==".split(" ");H={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",
CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",
LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",
VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};Na={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}};Ja={Data:1,Get:2,Set:4};F={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",
UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",
StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",
StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",
StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};Fb={NonAsciiIdentifierStart:RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),
NonAsciiIdentifierPart:RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")};
ga.prototype=ja.prototype={processComment:function(){var c,d,g,h=p.bottomRightStack,k,m,n=h[h.length-1];if(!(this.type===H.Program&&0<this.body.length)){if(0<p.trailingComments.length){g=[];for(k=p.trailingComments.length-1;0<=k;--k)m=p.trailingComments[k],m.range[0]>=this.range[1]&&(g.unshift(m),p.trailingComments.splice(k,1));p.trailingComments=[]}else n&&n.trailingComments&&n.trailingComments[0].range[0]>=this.range[1]&&(g=n.trailingComments,delete n.trailingComments);if(n)for(;n&&n.range[0]>=
this.range[0];)c=n,n=h.pop();if(c)c.leadingComments&&c.leadingComments[c.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=c.leadingComments,c.leadingComments=void 0);else if(0<p.leadingComments.length)for(d=[],k=p.leadingComments.length-1;0<=k;--k)m=p.leadingComments[k],m.range[1]<=this.range[0]&&(d.unshift(m),p.leadingComments.splice(k,1));d&&0<d.length&&(this.leadingComments=d);g&&0<g.length&&(this.trailingComments=g);h.push(this)}},finish:function(){p.range&&(this.range[1]=
k);p.loc&&(this.loc.end=new ib,p.source&&(this.loc.source=p.source));p.attachComment&&this.processComment()},finishArrayExpression:function(c){this.type=H.ArrayExpression;this.elements=c;this.finish();return this},finishArrowFunctionExpression:function(c,d,g,h){this.type=H.ArrowFunctionExpression;this.id=null;this.params=c;this.defaults=d;this.body=g;this.rest=null;this.generator=!1;this.expression=h;this.finish();return this},finishAssignmentExpression:function(c,d,g){this.type=H.AssignmentExpression;
this.operator=c;this.left=d;this.right=g;this.finish();return this},finishBinaryExpression:function(c,d,g){this.type="||"===c||"&&"===c?H.LogicalExpression:H.BinaryExpression;this.operator=c;this.left=d;this.right=g;this.finish();return this},finishBlockStatement:function(c){this.type=H.BlockStatement;this.body=c;this.finish();return this},finishBreakStatement:function(c){this.type=H.BreakStatement;this.label=c;this.finish();return this},finishCallExpression:function(c,d){this.type=H.CallExpression;
this.callee=c;this.arguments=d;this.finish();return this},finishCatchClause:function(c,d){this.type=H.CatchClause;this.param=c;this.body=d;this.finish();return this},finishConditionalExpression:function(c,d,g){this.type=H.ConditionalExpression;this.test=c;this.consequent=d;this.alternate=g;this.finish();return this},finishContinueStatement:function(c){this.type=H.ContinueStatement;this.label=c;this.finish();return this},finishDebuggerStatement:function(){this.type=H.DebuggerStatement;this.finish();
return this},finishDoWhileStatement:function(c,d){this.type=H.DoWhileStatement;this.body=c;this.test=d;this.finish();return this},finishEmptyStatement:function(){this.type=H.EmptyStatement;this.finish();return this},finishExpressionStatement:function(c){this.type=H.ExpressionStatement;this.expression=c;this.finish();return this},finishForStatement:function(c,d,g,h){this.type=H.ForStatement;this.init=c;this.test=d;this.update=g;this.body=h;this.finish();return this},finishForInStatement:function(c,
d,g){this.type=H.ForInStatement;this.left=c;this.right=d;this.body=g;this.each=!1;this.finish();return this},finishFunctionDeclaration:function(c,d,g,h){this.type=H.FunctionDeclaration;this.id=c;this.params=d;this.defaults=g;this.body=h;this.rest=null;this.expression=this.generator=!1;this.finish();return this},finishFunctionExpression:function(c,d,g,h){this.type=H.FunctionExpression;this.id=c;this.params=d;this.defaults=g;this.body=h;this.rest=null;this.expression=this.generator=!1;this.finish();
return this},finishIdentifier:function(c){this.type=H.Identifier;this.name=c;this.finish();return this},finishIfStatement:function(c,d,g){this.type=H.IfStatement;this.test=c;this.consequent=d;this.alternate=g;this.finish();return this},finishLabeledStatement:function(c,d){this.type=H.LabeledStatement;this.label=c;this.body=d;this.finish();return this},finishLiteral:function(c){this.type=H.Literal;this.value=c.value;this.raw=z.slice(c.start,c.end);c.regex&&(this.regex=c.regex);this.finish();return this},
finishMemberExpression:function(c,d,g){this.type=H.MemberExpression;this.computed="["===c;this.object=d;this.property=g;this.finish();return this},finishNewExpression:function(c,d){this.type=H.NewExpression;this.callee=c;this.arguments=d;this.finish();return this},finishObjectExpression:function(c){this.type=H.ObjectExpression;this.properties=c;this.finish();return this},finishPostfixExpression:function(c,d){this.type=H.UpdateExpression;this.operator=c;this.argument=d;this.prefix=!1;this.finish();
return this},finishProgram:function(c){this.type=H.Program;this.body=c;this.finish();return this},finishProperty:function(c,d,g,h,k){this.type=H.Property;this.key=d;this.value=g;this.kind=c;this.method=h;this.shorthand=k;this.finish();return this},finishReturnStatement:function(c){this.type=H.ReturnStatement;this.argument=c;this.finish();return this},finishSequenceExpression:function(c){this.type=H.SequenceExpression;this.expressions=c;this.finish();return this},finishSwitchCase:function(c,d){this.type=
H.SwitchCase;this.test=c;this.consequent=d;this.finish();return this},finishSwitchStatement:function(c,d){this.type=H.SwitchStatement;this.discriminant=c;this.cases=d;this.finish();return this},finishThisExpression:function(){this.type=H.ThisExpression;this.finish();return this},finishThrowStatement:function(c){this.type=H.ThrowStatement;this.argument=c;this.finish();return this},finishTryStatement:function(c,d,g,h){this.type=H.TryStatement;this.block=c;this.guardedHandlers=d;this.handlers=g;this.finalizer=
h;this.finish();return this},finishUnaryExpression:function(c,d){this.type="++"===c||"--"===c?H.UpdateExpression:H.UnaryExpression;this.operator=c;this.argument=d;this.prefix=!0;this.finish();return this},finishVariableDeclaration:function(c,d){this.type=H.VariableDeclaration;this.declarations=c;this.kind=d;this.finish();return this},finishVariableDeclarator:function(c,d){this.type=H.VariableDeclarator;this.id=c;this.init=d;this.finish();return this},finishWhileStatement:function(c,d){this.type=H.WhileStatement;
this.test=c;this.body=d;this.finish();return this},finishWithStatement:function(c,d){this.type=H.WithStatement;this.object=c;this.body=d;this.finish();return this}};C.version="2.0.0";C.tokenize=function(c,d){var g,h;g=String;"string"===typeof c||c instanceof String||(c=g(c));z=c;k=0;J=0<z.length?1:0;P=0;Z=z.length;G=null;n={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1};p={};d=d||{};d.tokens=!0;p.tokens=[];p.tokenize=!0;p.openParenToken=-1;p.openCurlyToken=
-1;p.range="boolean"===typeof d.range&&d.range;p.loc="boolean"===typeof d.loc&&d.loc;"boolean"===typeof d.comment&&d.comment&&(p.comments=[]);"boolean"===typeof d.tolerant&&d.tolerant&&(p.errors=[]);try{rb();if(G.type===y.EOF)return p.tokens;for(M();G.type!==y.EOF;)try{M()}catch(m){if(p.errors){p.errors.push(m);break}else throw m;}Ma();h=p.tokens;"undefined"!==typeof p.comments&&(h.comments=p.comments);"undefined"!==typeof p.errors&&(h.errors=p.errors)}catch(q){throw q;}finally{p={}}return h};C.parse=
function(c,d){var g,h;h=String;"string"===typeof c||c instanceof String||(c=h(c));z=c;k=0;J=0<z.length?1:0;P=0;Z=z.length;G=null;n={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1};p={};"undefined"!==typeof d&&(p.range="boolean"===typeof d.range&&d.range,p.loc="boolean"===typeof d.loc&&d.loc,p.attachComment="boolean"===typeof d.attachComment&&d.attachComment,p.loc&&null!==d.source&&void 0!==d.source&&(p.source=h(d.source)),"boolean"===typeof d.tokens&&
d.tokens&&(p.tokens=[]),"boolean"===typeof d.comment&&d.comment&&(p.comments=[]),"boolean"===typeof d.tolerant&&d.tolerant&&(p.errors=[]),p.attachComment&&(p.range=!0,p.comments=[],p.bottomRightStack=[],p.trailingComments=[],p.leadingComments=[]));try{var m;D();rb();m=new ja;S=!1;var q;h=[];for(var s,u,w;k<Z;){s=G;if(s.type!==y.StringLiteral)break;q=lb();h.push(q);if(q.expression.type!==H.Literal)break;u=z.slice(s.start+1,s.end-1);"use strict"===u?(S=!0,w&&ta(w,F.StrictOctalLiteral)):!w&&s.octal&&
(w=s)}for(;k<Z;){q=lb();if("undefined"===typeof q)break;h.push(q)}g=m.finishProgram(h);"undefined"!==typeof p.comments&&(g.comments=p.comments);"undefined"!==typeof p.tokens&&(Ma(),g.tokens=p.tokens);"undefined"!==typeof p.errors&&(g.errors=p.errors)}catch(x){throw x;}finally{p={}}return g};C.Syntax=function(){var c,d={};"function"===typeof Object.create&&(d=Object.create(null));for(c in H)H.hasOwnProperty(c)&&(d[c]=H[c]);"function"===typeof Object.freeze&&Object.freeze(d);return d}()});
